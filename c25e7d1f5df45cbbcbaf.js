(this.webpackChunkcordcord_app=this.webpackChunkcordcord_app||[]).push([[46208,67895],{637849:(e,t,n)=>{e.exports=n.p+"62fc691d2860dbf7dea5582aba20f051.svg"},837307:(e,t,n)=>{e.exports=n.p+"0ee88820de68e9856408ac765a57198d.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},709989:(e,t,n)=>{e.exports=n.p+"e878f2c37767692b3936e707df01c1a4.svg"},955568:(e,t,n)=>{e.exports=n.p+"bf852fd03dee12cf7ba1392884138f27.svg"},230978:(e,t,n)=>{e.exports=n.p+"21c1c5faf97abcc71bf3bde30e57bf14.svg"},148267:(e,t,n)=>{e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},182765:(e,t,n)=>{e.exports=n.p+"092b071c3b3141a58787415450c27857.png"},359074:(e,t,n)=>{e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},396679:(e,t,n)=>{e.exports=n.p+"a5844a7e2342caa1029833d27d976e99.svg"},100539:(e,t,n)=>{e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},639915:(e,t,n)=>{e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},143613:(e,t,n)=>{
e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},424286:(e,t,n)=>{e.exports=n.p+"0e9718017ef813c08a592b0bbd8496dc.png"},819361:(e,t,n)=>{e.exports=n.p+"14271875289ea86971326d281f681a64.svg"},882253:(e,t,n)=>{e.exports=n.p+"0eeb095cd923afdf420687347dc673ff.svg"},661807:(e,t,n)=>{e.exports=n.p+"71911dd31666b4c410a9c8cd8af361bc.svg"},149374:(e,t,n)=>{e.exports=n.p+"b4c362308f7e586b97c5155337ad2ea5.svg"},841860:(e,t,n)=>{e.exports=n.p+"9ea38b117bb11b03761dc3351f048bfa.svg"},123555:(e,t,n)=>{e.exports=n.p+"5a1a231bd56982c69c29ccc058d4b627.svg"},614040:(e,t,n)=>{e.exports=n.p+"0d893da2d50673a2eed63138225eb111.svg"},525106:(e,t,n)=>{e.exports=n.p+"771880976d58ad9ca6aee94bb06089b4.png"},100553:(e,t,n)=>{e.exports=n.p+"1e020fbfcf47d6368053524411553d1f.svg"},568534:(e,t,n)=>{e.exports=n.p+"80f97fbf531019c97bcc2661b8d41036.svg"},106952:(e,t,n)=>{e.exports=n.p+"3020e9aa04f0b2277dc30309e18ef310.svg"},952587:(e,t,n)=>{e.exports=n.p+"987cc6d375f9396c95619acafe8fcfd5.svg"},154637:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>f});var r=n(506884),o=n(856864),i=n(173436),a=n(666492),s=n(461061);function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++
;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const f={signup:function(e,t){return a.Z.post({url:s.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:r.a9.HUB_WAITLIST_SIGNUP,properties:function(e){var t,n=!1,r=null==e||null===(t=e.body)||void 0===t?void 0:t.email_domain;if(null!=r){n=-1!==r.split(".").indexOf("edu")}return(0,o.iG)({is_edu_email:n})}}})},sendVerificationEmail:function(e,t,n){return u((function(){return l(this,(function(i){switch(i.label){case 0:return[4,a.Z.post({url:s.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,
allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY_SEND,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,o.iG)({has_matching_guild:n})}}})];case 1:return[2,i.sent().body]}}))}))()},verify:function(e){return u((function(){var t,n,o,c;return l(this,(function(u){switch(u.label){case 0:if(null==e)return[3,4];u.label=1;case 1:u.trys.push([1,3,,4]);return[4,a.Z.post({url:s.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:n=u.sent();o=null===(t=n.body.guild)||void 0===t?void 0:t.id;i.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:o});return[3,4];case 3:c=u.sent();i.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:c.body});return[3,4];case 4:return[2]}}))}))()},verifyCode:function(e,t,n){return u((function(){var o,c,u,f;return l(this,(function(l){switch(l.label){case 0:if(null==e)return[3,4];l.label=1;case 1:l.trys.push([1,3,,4])
;return[4,a.Z.post({url:s.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:c=l.sent();u=null===(o=c.body.guild)||void 0===o?void 0:o.id;i.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:u});return[2,c.body];case 3:f=l.sent();i.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:f.body});throw f;case 4:return[2]}}))}))()}}},450700:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>d,ul:()=>y});var r=n(675860),o=n(173436),i=n(88051),a=n(935406),s=n(461061);function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(){return p.apply(this,arguments)}function p(){return(p=u((function(){
var e,t;return l(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,a.Kb)({url:s.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=u((function(e){var t,n,a;return l(this,(function(c){switch(c.label){case 0:return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:s.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))];case 1:n=c.sent();a=n.map((function(n){return i.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:a});return[2]}}))}))).apply(this,arguments)}function y(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,
launchOptionId:n})}},152163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(973935),c=n(388721),u=n(791462),l=n(730189),f=n(769002),p=n(409271),d=n(300327),h=n(401386),y=n(917870),m=n(331478),v=n(155205),g=n(175453);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}function N(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function A(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var P=function(e){I(n,e);var t=R(n);function n(){_(this,n);var e;(e=t.apply(this,arguments)).state={hover:!1};e.key=void 0;e.onError=function(){var t=e.getSrc()
;null!=t&&(e.cancelLoadImage=(0,f.po)(t,(function(t){if(!t){e.key=Date.now();e.forceUpdate()}})))};e.onMouseEnter=function(t){e.setState({hover:!0});var n=e.props.onMouseEnter;null!=n&&n(t)};e.onMouseLeave=function(t){e.setState({hover:!1});var n=e.props.onMouseLeave;null!=n&&n(t)};return e}var i=n.prototype;i.componentWillUnmount=function(){var e;null===(e=this.cancelLoadImage)||void 0===e||e.call(this)};i.getSrc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.src,n=e.emojiId,r=e.emojiName,o=e.animated,i=e.shouldAnimate,a=e.isFocused,s=e.isInteracting,c=e.size,u=void 0===c?"default":c,l=this.state.hover;if(null!=t)return t;if(null!=n){var f=g.kV[u];return y.ZP.getEmojiURL({id:n,animated:a&&!0===o&&(!0===i||l||!0===s),size:f})}return null!=r?m.ZP.getURL(r):void 0};i.render=function(){var e,t,n=this.props,i=n.emojiName,s=n.animated,c=n.className,u=n.size,l=void 0===u?"default":u,f=n.alt,p=(n.shouldAnimate,n.isFocused,n.emojiId),d=(n.autoplay,
n.isInteracting,S(n,["emojiName","animated","className","size","alt","shouldAnimate","isFocused","emojiId","autoplay","isInteracting"])),h=this.getSrc();if(null==h||""===h)return(0,r.jsx)("span",{className:a()("emoji","emoji-text"),children:i});s&&(e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave});return(0,o.createElement)("img",N(T(N(T(N({},d),{key:this.key,src:h,alt:null!==(t=null!=f?f:i)&&void 0!==t?t:void 0,draggable:!1}),e),{className:a()("emoji",c,{jumboable:"jumbo"===l}),onError:this.onError,"data-type":"emoji"}),null!=p&&""!==p?{"data-id":p}:{"data-name":i}))};return n}(o.PureComponent);P.defaultProps={isInteracting:!1};var w=function(e){var t=function(e){var t=s.findDOMNode(e);if((0,c.k)(t)){u.push([t,e]);l.observe(t)}else 0},n=function(e){var t=s.findDOMNode(e);l.unobserve(t);var n=u.findIndex((function(t){var n=x(t,2);n[0];return n[1]===e}));if(-1!==n){u.splice(n,1);if(-1!==(n=a.indexOf(e))){a.splice(n,1);n<i&&a.length>=i&&a[i-1].forceUpdate()}}else 0}
;if(null==window.IntersectionObserver)return function(t){return(0,r.jsx)(e,T(N({},t),{shouldAnimate:t.animated}))};var i=100,a=[],u=[],l=new window.IntersectionObserver((function(e){e.forEach((function(e){var t=u.find((function(t){return x(t,1)[0]===e.target}));if(null!=t){var n=t[1];if(e.intersectionRatio>=.7){var r,o;if(-1!==a.indexOf(n)){0;return}var s=Math.abs(e.intersectionRect.bottom-Number(null===(r=e.rootBounds)||void 0===r?void 0:r.bottom))<Math.abs(e.intersectionRect.top-Number(null===(o=e.rootBounds)||void 0===o?void 0:o.top));s?a.unshift(n):a.push(n);n.forceUpdate();s&&a.length>i&&a[i].forceUpdate()}else{var c=a.indexOf(n);if(-1!==c){a.splice(c,1);n.forceUpdate();c<i&&a.length>=i&&a[i-1].forceUpdate()}}}else 0}))}),{threshold:.7});return function(o){I(c,o);var s=R(c);function c(){_(this,c);return s.apply(this,arguments)}var u=c.prototype;u.shouldAutoplay=function(e){return e.animated&&e.autoplay};u.componentDidMount=function(){this.shouldAutoplay(this.props)&&t(this)}
;u.componentDidUpdate=function(e){var r=this.shouldAutoplay(e),o=this.shouldAutoplay(this.props);o!==r&&(o?t(this):n(this))};u.componentWillUnmount=function(){this.shouldAutoplay(this.props)&&n(this)};u.render=function(){var t=a.indexOf(this),n=this.props,o=n.autoplay,s=n.reduceMotion,c=S(n,["autoplay","reduceMotion"]);return(0,r.jsx)(h.G.Consumer,{children:function(n){return(0,r.jsx)(e,T(N({},c),{autoplay:o||!1,shouldAnimate:-1!==t&&t<i&&!n.disableAnimations&&!s}))}})};return c}(o.Component)}(P);function L(e){var t=p.Yk.useSetting(),n=(0,u.cj)([l.Z],(function(){return{autoplay:null==e.autoplay?t:e.autoplay,reduceMotion:l.Z.useReducedMotion}})),o=__OVERLAY__?(0,u.e7)([d.Z],(function(){return d.Z.isInstanceFocused()})):(0,v.n)();return(0,r.jsx)(w,T(N({},e,n),{isFocused:o}))}},401246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(163585),a=n.n(i);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var v=n(182765),g=function(e){l(i,e);var t=m(i);function i(){s(this,i);var e;(e=t.apply(this,arguments)).QRRef=o.createRef();return e}var a=i.prototype;a.componentDidMount=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default;new n(e.QRRef.current,p(f({},e.props),{correctLevel:n.CorrectLevel.M}))}))};a.componentDidUpdate=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default;new n(e.QRRef.current,p(f({},e.props),{correctLevel:n.CorrectLevel.M}))}))};a.render=function(){var e=this.props,t=e.colorLight,n=e.className;return(0,r.jsx)("div",{ref:this.QRRef,style:{padding:8,borderRadius:4,background:t},className:n})};return i}(o.PureComponent);g.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000"};(function(e){l(n,e);var t=m(n);function n(){s(this,n);return t.apply(this,arguments)}
n.prototype.render=function(){return(0,r.jsxs)("div",{className:a().qrCodeContainer,children:[(0,r.jsx)(g,f({},this.props)),(0,r.jsx)("div",{className:a().qrCodeOverlay,children:(0,r.jsx)("img",{src:v,alt:""})})]})};return n}(o.PureComponent)).defaultProps={width:144,height:144,colorLight:"#ffffff",colorDark:"#000000"};const E=g},243627:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ji});var r=n(785893),o=n(667294),i=n(517563),a=n(506884),s=n(606076),c=n(791462),u=n(173436),l=n(822567),f=n(981171),p=n(141301),d=n(675860),h=n(476575),y=n(584268),m=n(737949),v=n(932847),g=n(245189),E=n(461061);function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function S(e,t){v.default.track(E.rMx.BROWSER_HANDOFF_SUCCEEDED,{authenticated:e,handoff_source:t})}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=T(n)
;function n(){_(this,n);var e;(e=t.apply(this,arguments)).handleEnd=function(t){var n=t.handoffToken,r=t.fingerprint,o=m.Z.key;if(null!=o&&m.Z.isHandoffAvailable())e.handleHandoff({handoffKey:o,handoffToken:n,fingerprint:r,handoffSource:void 0});else{l.Z.setFingerprint(null);(0,h.by)()}};return e}var r=n.prototype;r._initialize=function(){u.Z.subscribe("BROWSER_HANDOFF_END",this.handleEnd);u.Z.subscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r._terminate=function(){u.Z.unsubscribe("BROWSER_HANDOFF_END",this.handleEnd);u.Z.unsubscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r.handleHandoff=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.fingerprint,o=e.handoffSource;if(null!=n)d.Z.post({url:E.ANM.HANDOFF_EXCHANGE,body:{key:t,handoff_token:n}}).then((function(e){var t=e.body;(0,h.Vb)(t.user);l.Z.loginToken(t.token,!1);S(!0,o)}),(function(e){null!=r&&S(!1,o);l.Z.setFingerprint(r);(0,h.lx)();if(o===y.F.ROLE_SUBSCRIPTION){var t
;v.default.track(E.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:null!==(t=e.message)&&void 0!==t?t:e.text,handoff_source:o})}}));else if(null!=r){l.Z.setFingerprint(r);S(!1,o);(0,h.lx)()}else{l.Z.setFingerprint(r);(0,h.by)()}};r.__getLocalVars=function(){return{}};return n}(g.Z);const C=new A;var x=n(725749);function j(e){u.Z.dispatch({type:"AUTH_INVITE_UPDATE",invite:e})}var R=n(324954),P=n(989232),w=n(18700),L=n(908570);function Z(e){var t=null!=e.hash&&""!==e.hash?(0,i.parse)(e.hash):null;if(null!=(null==t?void 0:t.token))return t.token;var n=null!=e.search&&""!==e.search?(0,i.parse)(e.search):null;return null!=(null==n?void 0:n.token)?n.token:null}var M=n(959797),D=n(380203),U=n.n(D);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e){G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return G(e)}function B(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}var H=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}c.ZP.initialize();var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&F(e,t)}(o,e)
;var t=V(o);function o(){k(this,o);var e;(e=t.apply(this,arguments)).state={busy:!0,success:!1,guild:null};return e}var a=o.prototype;a.componentDidMount=function(){var e=this,t=Z(this.props.location),n=(0,i.parse)(this.props.location.search);d.Z.post({url:E.ANM.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,body:{token:t,pixel_uuid:n.hash,guild_id:n.guild_id},oldFormErrors:!0}).then((function(t){var n=t.body.guild,r=new P.Z(n);e.setState({success:!0,busy:!1,guild:r})}),(function(){return e.setState({success:!1,busy:!1})}));(0,R.e)("disable_server_highlight_notifications")};a.renderBusy=function(){return(0,r.jsx)(L.ZP,{children:(0,r.jsx)(L.Hh,{})})};a.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,o=this.state.guild;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.SERVER_HIGHLIGHT_UNSUBSCRIBE_HEADER}),(0,r.jsx)(L.DK,{children:M.Z.Messages.SERVER_HIGHLIGHT_UNSUBSCRIBE_BODY.format({guildName:o.name})}),(0,
r.jsx)(L.zx,{className:U().marginTop40,onClick:function(){return n(t)},children:M.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(L.zx,{className:U().marginTop8,color:L.zx.Colors.LINK,look:L.zx.Looks.LINK,onClick:function(){n(E.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(o.id))},children:M.Z.Messages.SERVER_HIGHLIGHT_MANAGE_SETTINGS})]})};a.renderError=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(709989),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER}),(0,r.jsx)(L.DK,{children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY}),(0,r.jsx)(L.zx,{className:U().marginTop40,onClick:function(){return o(t)},children:M.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()};return o}(o.PureComponent);K.defaultProps={
transitionTo:function(e){return n.g.location.assign(e)}};const z=c.ZP.connectStores([w.Z],(function(){return{defaultRoute:w.Z.defaultRoute}}))(K);var W=n(294184),Y=n.n(W),q=n(99918),X=n(190335),Q=n(614503),J=n(363419),$=n(449953),ee=n(330665),te=n(3066),ne=n.n(te);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,s,"next",e)}function s(e){oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e
}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const ce=function(){var e,t=ae(o.useState(""),2),i=t[0],a=t[1],s=ae(o.useState(""),2),u=s[0],l=s[1],f=ae(o.useState(!1),2),p=f[0],d=f[1],h=ae(o.useState(!1),2),y=h[0],m=h[1],v=ae(o.useState(null),2),g=v[0],E=v[1],_=ae(o.useState(null),2),b=_[0],O=_[1],I=(0,c.e7)([Q.Z],(function(){return Q.Z.getCountryCode()
})),N=I.code.split(" ")[0],T=(e=ie((function(){var e;return se(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,q.Z.resendCode(i)];case 1:t.sent();return[3,3];case 2:e=t.sent();O(e.body.message);return[3,3];case 3:return[2]}}))})),function(){return e.apply(this,arguments)}),S=function(){var e=ie((function(){var e,t;return se(this,(function(n){switch(n.label){case 0:d(!0);n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,q.Z.verifyPhone(N+i,u)];case 2:e=n.sent().token;E(null);O(null);m(!0);q.Z.validatePhoneForSupport(e);return[3,5];case 3:if((t=n.sent()).body.message){E(null);O(t.body.message)}else{E(t.body.phone);O(t.body.code)}return[3,5];case 4:d(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),A=(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(882253)}),(0,r.jsxs)(L.Dx,{className:Y()(U().marginTop20,ne().flex,ne().justifyCenter,ne().alignCenter),children:[M.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED,(0,r.jsx)($.Z,{
className:U().marginLeft8})]})]});return y?A:(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:M.Z.Messages.ENTER_CODE}),(0,r.jsx)(L.DK,{className:U().marginTop8,children:M.Z.Messages.VERIFY_PHONE_FOR_SUPPORT}),(0,r.jsxs)(L.gO,{className:U().marginTop20,children:[(0,r.jsx)(J.Z,{label:M.Z.Messages.FORM_LABEL_PHONE_NUMBER,alpha2:I.alpha2,countryCode:N,value:i,autoComplete:"off",spellCheck:"false",onChange:a,forceMode:X.Nz.PHONE,error:g}),(0,r.jsx)(L.II,{className:U().marginTop20,label:M.Z.Messages.CONFIRMATION_CODE,value:u,onChange:l,maxLength:ee.z,error:b}),(0,r.jsx)(L.zx,{size:L.zx.Sizes.SMALL,look:L.zx.Looks.LINK,onClick:T,children:M.Z.Messages.RESEND_CODE}),(0,r.jsx)(L.zx,{className:U().marginTop20,onClick:S,submitting:p,children:M.Z.Messages.DONE})]})]})};var ue=n(722792),le=n(58226),fe=n(154637),pe=n(655695);function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e){he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return he(e)}function ye(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e,t){me=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return me(e,t)}var ve=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}var Ee=!1,_e=null,be=null;var Oe=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&me(e,t)}(n,e);var t=ge(n);function n(){de(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return{verifySuccess:Ee,verifyErrors:_e,redirectGuildId:be}};r.__getLocalVars=function(){return{verifySuccess:Ee,verifyErrors:_e,redirectGuildId:be}};return n}(c.ZP.Store);Oe.displayName="HubEmailVerificationStore";const Ie=new Oe(u.Z,{HUB_VERIFY_EMAIL_SUCCESS:function(e){var t=e.guildId;Ee=!0;_e=null;be=t},HUB_VERIFY_EMAIL_FAILURE:function(e){var t=e.errors;Ee=!1;_e=t}});var Ne=n(441143),Te=n.n(Ne),Se=n(131795),Ae=n.n(Se),Ce=n(951660),xe=n(531286),je=n(865622),Re=n(631134),Pe=n(618468);function we(e){var t=function(e){var t,n=null===(t=Ae().os)||void 0===t?void 0:t.family;if("Android"===n||"iOS"===n){var r=Re.default.getFingerprint(),o=(0,xe.WS)()
;Te()(null!=e,"generateAppPath: guildId cannot be null");return(0,xe.ZP)((0,Ce.z0)(e),{utmSource:"verify_hub_email",fingerprint:r,attemptId:o})}return"cordcord://"}(e),n=(0,xe.zS)(t);null!=n&&v.default.track(E.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,je.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});Pe.Z.launch(t,(function(e){e||(0,pe.dL)(w.Z.fallbackRoute)}))}var Le=n(920032),Ze=n.n(Le);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.ZP.initialize();var Ue=n(46323),ke=n(248088),Ge=n(489992),Be=n(832010),Fe=n(624387),He=n(487502),Ve=n(566991),Ke=n.n(Ve);function ze(e){var t=e.text,o=e.buttonCta,i=e.onClick;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.Ee,{src:n(819361)}),(0,r.jsx)(L.Dx,{className:Y()(U().marginTop20,U().marginBottom8,ne().flexCenter),children:M.Z.Messages.DISCORD_DESC_SHORT}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages.DISCORD_DESC_LONG}),(0,r.jsxs)(Fe.Z,{className:Ke().card,type:Fe.Z.Types.CUSTOM,children:[(0,r.jsx)("img",{alt:"",
className:Ke().cardAccentLeft,src:n(637849)}),(0,r.jsx)("img",{alt:"",className:Ke().cardAccentRight,src:n(837307)}),(0,r.jsxs)(He.Z,{className:Ke().cardContents,direction:He.Z.Direction.VERTICAL,align:He.Z.Align.STRETCH,grow:0,children:[(0,r.jsx)(Ge.xv,{tag:"strong",className:Ke().buttonTitle,variant:"text-md/normal",style:{color:(0,Be.Lq)(E.Ilk.PRIMARY_DARK_300)},children:t}),(0,r.jsx)(L.zx,{className:Ke().button,onClick:i,children:o})]})]})]})}function We(e){var t=e.text,n=e.buttonCta,o=e.theme,i=void 0===o?E.BRd.DARK:o,a=e.onClick;return(0,r.jsx)(L.ZP,{theme:i,children:(0,r.jsx)(ze,{text:t,buttonCta:n,onClick:a})})}var Ye=n(730381),qe=n.n(Ye),Xe=n(553494),Qe=(0,Xe.B)({kind:"user",id:"2021-03_expiration_notice_mobile_web",label:"Show expiration notice on mobile web invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),Je=((0,Xe.B)({kind:"user",id:"2021-03_expiration_notice_ios",
label:"Show expiration notice on ios invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),(0,Xe.B)({kind:"user",id:"2021-03_expiration_notice_ios_embed",label:"Show expiration notice on ios invite embed",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),n(443429)),$e=n(653772);const et=function(e){var t=null==e?void 0:e.expires_at,n=!function(e){switch(null==e?void 0:e.state){case E.r2o.EXPIRED:case E.r2o.BANNED:case E.r2o.ERROR:case E.r2o.RESOLVING:return!1;default:return!0}}(e);return(0,c.e7)([$e.Z],(function(){var t;return null!=$e.Z.getGuild(null==e||null===(t=e.guild)||void 0===t?void 0:t.id)}))||n||null==t?null:t};var tt=n(609993),nt=n(961576),rt=n.n(nt),ot=function(e){var t=e.expiredAt,n=e.className;Qe.trackExposure({});if(!Qe.useExperiment({}).showExpirationNotice)return null;var o=qe()(t).fromNow(!0);return(0,
r.jsx)("div",{className:Y()(rt().container,n),children:(0,r.jsxs)("div",{className:rt().expirationContainer,children:[(0,r.jsx)(Je.Z,{color:(0,Be.Lq)(tt.Il.WHITE_500),width:14,height:14,className:rt().clock}),(0,r.jsx)(Ge.xv,{variant:"text-sm/normal",color:"header-primary",children:M.Z.Messages.INVITE_EXPIRATION_NOTICE.format({duration:o})})]})})};const it=function(e){var t=e.invite,n=e.className,o=et(t);return null==o?null:(0,r.jsx)(ot,{expiredAt:o,className:n})};var at=n(142583),st=n(82961),ct=n(559159),ut=n(917870),lt=n(90816),ft=n(693518),pt=n(709990),dt=n(757987),ht=n(462428),yt=n(848545),mt=n(225691),vt=n(995434),gt=n.n(vt),Et=function(e){var t,n,r={onlineCount:null!==(t=e.approximate_presence_count)&&void 0!==t?t:0,memberCount:null!==(n=e.approximate_member_count)&&void 0!==n?n:0};return 0===r.memberCount&&0===r.memberCount?null:r},_t=function(e){return e.target_type===yt.Iq.STREAM&&null!=e.target_user},bt=function(e){var t
;return(null===(t=e.channel)||void 0===t?void 0:t.type)===E.d4z.GROUP_DM},Ot=function(e){return null==e.channel&&null==e.guild&&null!=e.inviter},It=function(e){return e.state===E.r2o.ACCEPTED},Nt=function(e){return null!=e.guild_scheduled_event},Tt=function(e){return!Nt(e)&&(!!Ot(e)||null!=e.inviter&&!It(e)&&!function(e){var t,n=Et(e);return(null!==(t=null==n?void 0:n.memberCount)&&void 0!==t?t:0)>100}(e))},St=function(e){var t=e.guild,n=e.user,o=e.application;return null!=o?(0,r.jsx)(ft.Z,{className:gt().appIcon,game:o,size:gt().appIconSize}):null!=n?(0,r.jsx)(L.qE,{src:n.getAvatarURL(void 0,100),size:L.qE.Sizes.DEPRECATED_SIZE_100,className:gt().avatar}):null!=t?(0,r.jsx)(L.Vj,{guild:t,size:L.Vj.Sizes.LARGER,className:gt().guildIcon,animate:!0}):null};function At(e){var t,n=e.invite,o=e.textClassName,i=e.className,a=Et(n);return null==a||Tt(n)||(null==n||null===(t=n.guild)||void 0===t?void 0:t.id)===mt.fQ?null:(0,r.jsx)(L.EJ,{className:Y()(gt().activityCount,i),online:a.onlineCount,
total:a.memberCount,textClassName:o,flat:!0})}function Ct(e){var t=e.invite,n=e.showBigUserIcon,i=o.useMemo((function(){return n?null:_t(t)&&null!=t.target_user?ut.ZP.getUserAvatarURL(t.target_user):Tt(t)&&null!=t.inviter?ut.ZP.getUserAvatarURL(t.inviter):null}),[t,n]),a=M.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN;if(bt(t)){var s,c;a=null!=(null===(s=t.channel)||void 0===s?void 0:s.name)&&null!=(null===(c=t.inviter)||void 0===c?void 0:c.username)?M.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM_BY_USER.format({username:t.inviter.username}):M.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM}else _t(t)&&null!=t.target_user?a=M.Z.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username}):It(t)?a=M.Z.Messages.INSTANT_INVITE_YOU_ARE_ALREADY_A_MEMBER_OF:Tt(t)&&null!=t.inviter&&(a=M.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_BY_USER.format({username:t.inviter.username}));return(0,r.jsxs)("div",{
className:gt().inviteJoinContainer,children:[null!=i&&(0,r.jsx)("div",{className:gt().inviterIconWrapper,children:(0,r.jsx)(L.qE,{src:i,size:L.qE.Sizes.SIZE_24})}),(0,r.jsx)(L.DK,{className:gt().inviteJoinSubTitle,children:a})]})}function xt(e){var t,n,o,i=e.user,a=e.guild,s=e.channel,c=e.application,u=e.showBigUserIcon;if(null!=a){u&&null==c&&(t=(0,r.jsx)(L.Vj,{guild:a,size:L.Vj.Sizes.SMALL}));n=a.name;if(null!=c){n=c.name;o=(0,r.jsxs)("div",{className:gt().inviteJoinContainer,children:[(0,r.jsx)(L.DK,{className:gt().appIn,children:M.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_IN}),(0,r.jsxs)("div",{className:gt().guildContainer,children:[(0,r.jsx)(L.Vj,{guild:a,size:L.Vj.Sizes.SMALL}),(0,r.jsx)(ht.Z,{className:gt().appGuildName,color:ht.Z.Colors.CUSTOM,tag:"span",size:ht.Z.Sizes.SIZE_24,children:a.name})]})]})}}else if(null!=s){if(null==i)throw new Error("no inviter in group DM invite");var l=i.username;if(null!=s.name&&""!==s.name){n=s.name;null!=s.icon&&(t=(0,r.jsx)(L.MC,{channel:s,
size:L.qE.Sizes.SIZE_32}))}else n=l}else if(null!=i){var f=i.username;n=M.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({username:f});o=(0,r.jsx)(L.DK,{className:gt().directInviteSubTitle,children:M.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({username:"".concat(f,"#").concat(i.discriminator)})})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(L.Dx,{className:gt().title,children:[null!=a?(0,r.jsx)(pt.Z,{guild:a,className:gt().guildBadge,tooltipPosition:dt.ZP.Positions.LEFT}):null,t,n]}),o]})}var jt=n(733730),Rt=n(53551),Pt=n(948571),wt=n(191940),Lt=n(613258),Zt=n(666872),Mt=n(993317),Dt=n(969225),Ut=n(622680),kt=n.n(Ut);function Gt(e){var t,n=e.guildScheduledEvent,o=e.channel,i=e.onAcceptInvite,a=e.isSubmitting,s=(0,Lt.xt)(n),c=(0,Lt.Z2)(n);return(0,r.jsxs)("div",{className:kt().guildEventCard,children:[(0,r.jsx)(Zt.ZP,{userCount:n.user_count,startTime:n.scheduled_start_time,name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,
isActive:s,isEnded:c,headerVariant:"heading-md/medium",descriptionClassName:kt().channelDescription,guildId:n.guild_id,eventType:n.entity_type}),null!=o&&(0,r.jsx)("div",{className:kt().channelInfo,children:(0,r.jsx)(Mt.Z,{guildScheduledEvent:n,channel:o})}),(0,r.jsx)(wt.Co,{className:kt().acceptButton,color:wt.Co.Colors.GREEN,onClick:i,submitting:a,children:M.Z.Messages.GUILD_PROFILE_JOIN_SERVER_BUTTON})]})}function Bt(e){var t,n=e.invite,o=null!=n.guild?new P.Z(n.guild):null;if(null==o)return null;var i=null!==(t=o.description)&&void 0!==t?t:"";return(0,r.jsxs)("div",{className:kt().guildInfoCard,children:[(0,r.jsx)(Ge.X6,{className:kt().presentedBy,variant:"text-sm/medium",children:M.Z.Messages.STAGE_INVITE_GUILD_HEADER}),(0,r.jsxs)("div",{className:kt().guildContainer,children:[(0,r.jsx)(Dt.Z,{guild:o,active:!0,size:Dt.Z.Sizes.MEDIUM}),(0,r.jsxs)("div",{className:kt().guildDetailsContanier,children:[(0,r.jsxs)(Ge.xv,{className:kt().guildName,color:"header-primary",
variant:"text-sm/medium",tag:"span",children:[o.name,(0,r.jsx)(pt.Z,{guild:o,className:kt().guildBadge,tooltipPosition:dt.ZP.Positions.LEFT})]}),(0,r.jsx)(At,{invite:n,textClassName:kt().guildInfoMemberCountText,className:kt().guildInfoMemberCount})]})]}),i.length>0&&(0,r.jsx)("details",{className:kt().guildDescriptionContainer,children:(0,r.jsx)(Ge.xv,{color:"header-secondary",variant:"text-sm/normal",children:i})})]})}function Ft(e){var t=e.invite,n=e.channel,o=e.isSubmitting,i=e.onAcceptInvite,a=t.guild_scheduled_event;return null!=a?(0,r.jsx)(Gt,{guildScheduledEvent:a,channel:n,isSubmitting:o,onAcceptInvite:i}):null}var Ht=n(747973),Vt=n.n(Ht);function Kt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Kt(e,t,n[t])}))}return e}function Wt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yt(e){var t=e.invite,n=e.onAcceptInvite,o=e.disableUser,i=void 0!==o&&o;if(null==t)return null;var a=null!=t.guild?new P.Z(t.guild):null,s=null!=t.channel?(0,
Rt.jD)(t.channel):null,c=null!=t.target_application?new jt.Z(t.target_application):null,u=i||null==t.inviter?null:new Pt.Z(t.inviter),l=!(null!=t.approximate_member_count&&t.approximate_member_count>100||null!=a&&a.hasFeature(E.oNc.COMMUNITY))&&null!=u&&bt(t),f=function(e){switch(e.state){case E.r2o.ACCEPTING:case E.r2o.APP_OPENING:return!0;default:return!1}}(t),p={invite:t,user:u,guild:a,channel:s,application:c};return Nt(t)?(0,r.jsx)(Ft,{invite:t,channel:s,isSubmitting:f,onAcceptInvite:n}):(0,r.jsxs)("div",{className:Vt().container,children:[(0,r.jsx)(St,{application:c,guild:a,user:l||Ot(t)?u:null}),Ot(t)?null:(0,r.jsx)(Ct,Wt(zt({},p),{showBigUserIcon:l})),(0,r.jsx)(xt,Wt(zt({},p),{showBigUserIcon:l})),(0,r.jsx)(At,zt({},p)),(0,r.jsx)(wt.Co,{onClick:n,submitting:f,className:Vt().acceptButton,children:M.Z.Messages.INSTANT_INVITE_ACCEPT})]})}var qt=n(35628),Xt=n.n(qt);function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function Jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jt(e,t,n[t])}))}return e}function en(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rn;function on(){return(0,r.jsx)("div",{className:Xt().centerFlex,children:(0,r.jsx)(st.Z,{})})}!function(e){e[e.LOADING=0]="LOADING";e[e.DETAILS=1]="DETAILS";e[e.ERROR=2]="ERROR"}(rn||(rn={}));var an=function(e){var t=null==(null==e?void 0:e.state)&&null==(null==e?void 0:e.channel);if(null==e||null==e.state||t)return rn.LOADING;var n=e.state;switch(n){case E.r2o.RESOLVED:case E.r2o.ACCEPTED:case E.r2o.APP_NOT_OPENED:case E.r2o.APP_OPENED:case E.r2o.ACCEPTING:case E.r2o.APP_OPENING:return rn.DETAILS;case E.r2o.EXPIRED:case E.r2o.BANNED:case E.r2o.ERROR:return rn.ERROR;case E.r2o.RESOLVING:return rn.LOADING;default:(0,lt.vE)(n)}};function sn(e){var t=e.invite,n=e.onAcceptInvite;return(null==t?void 0:t.state)===E.r2o.BANNED?(0,r.jsx)(ze,{text:M.Z.Messages.AUTH_BANNED_INVITE_BODY,
buttonCta:M.Z.Messages.INVITE_INVALID_CTA,onClick:n}):(0,r.jsx)(ze,{text:M.Z.Messages.INVITE_INVALID_ERROR,buttonCta:M.Z.Messages.INVITE_INVALID_CTA,onClick:n})}function cn(e){var t=e.children,n=e.cardChildren,i=e.startAnimHeightPx,a=e.innerStyle,s=tn(e,["children","cardChildren","startAnimHeightPx","innerStyle"]).invite,c=nn(o.useState(an(s)),2),u=c[0],l=c[1],f=o.useRef(null),p=(0,ct.Z)(f,!0,[u]),d=(0,ke.useSpring)({height:null!=(null==p?void 0:p.height)&&0!==(null==p?void 0:p.height)?"".concat(p.height,"px"):"".concat(i,"px"),config:ke.config.stiff});o.useEffect((function(){var e=an(s);e!==u&&l(e)}),[s,u]);return(0,r.jsxs)(ke.animated.div,{className:Xt().inviteCard,style:d,children:[(0,r.jsx)(ke.animated.div,{className:Xt().inviteChildContainer,style:d,children:(0,r.jsx)("section",{ref:f,className:null==a?void 0:a(u),children:t(u)})}),n]})}function un(e){var t=e.invite;if(null==t||!Nt(t))return null;return(0,r.jsx)(cn,en($t({startAnimHeightPx:0,innerStyle:function(){
return Xt().guildInfoInner},cardChildren:(0,r.jsx)(it,{invite:t,className:Xt().expirationNotice})},e),{children:function(e){return function(e){return null==t?null:e===rn.DETAILS?(0,r.jsx)(Bt,{invite:t}):null}(e)}}))}function ln(e){var t,n=e.invite,o=null!=n&&Nt(n),i=(Jt(t={},rn.DETAILS,Xt().inviteCardInner),Jt(t,rn.ERROR,Xt().inviteCardInnerError),Jt(t,rn.LOADING,Xt().inviteCardInnerLoading),t);return(0,r.jsx)(cn,en($t({startAnimHeightPx:200,innerStyle:function(e){return i[e]},cardChildren:o?null:(0,r.jsx)(it,{invite:n,className:Xt().expirationNotice})},e),{children:function(t){return function(t){if(null==n)return(0,r.jsx)(on,{});switch(t){case rn.DETAILS:return(0,r.jsx)(Yt,en($t({},e),{invite:n}));case rn.ERROR:return(0,r.jsx)(sn,en($t({},e),{invite:n}));default:return(0,r.jsx)(on,{})}}(t)}}))}function fn(e){var t=e.invite,n=e.onAcceptInvite,o=(null!=t?t:{}).guild,i={};if(null!=(null==o?void 0:o.splash)){var a=ut.ZP.getGuildSplashURL({id:o.id,splash:o.splash});if(null!=a){
i.backgroundImage="url(".concat(a,")");i.backgroundSize="cover"}}return(0,r.jsxs)(L.ZP,{theme:E.BRd.DARK,className:Xt().splashBackground,style:i,contentClassName:Xt().centerAuthBoxContent,children:[(0,r.jsx)(ln,en($t({},e),{onAcceptInvite:n})),(0,r.jsx)(un,$t({},e))]})}var pn=n(202552),dn=n(447887),hn=n(137861),yn=n(743221),mn=n(175782);const vn=function(){return Date.now()-mn.mb};var gn=n(323097),En=n(590499),_n=n(98109);function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e){On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return On(e)}function In(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e,t){Nn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Nn(e,t)}var Tn=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=On(e);if(t){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}c.ZP.initialize();var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Nn(e,t)}(o,e);var t=Sn(o);function o(){bn(this,o);return t.apply(this,arguments)}var i=o.prototype;i.componentDidMount=function(){var e=Z(this.props.location);null!=e&&l.Z.authorizeIPAddress(e);(0,R.e)("authorize_ip")}
;i.renderLoginButton=function(){if("Android"===Ae().os.family||"iOS"===Ae().os.family)return null;var e=this.props.transitionTo;return(0,r.jsx)(L.zx,{onClick:function(){return e(E.Z5c.LOGIN)},children:M.Z.Messages._LOGIN})};i.renderFailed=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(955568),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.AUTHORIZATION_EXPIRED}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages._AUTH_EXPIRED_SUGGESTION}),this.renderLoginButton()]})};i.renderSucceeded=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(230978),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.IP_AUTHORIZATION_SUCCEEDED}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages._AUTH_IP_AUTH_SUCCEEDED_SUGGESTION}),this.renderLoginButton()]})};i.renderDefault=function(){return(0,r.jsxs)(L.ZP,{children:[(0,
r.jsx)(L.Hh,{}),(0,r.jsx)(L.Dx,{children:M.Z.Messages.AUTHORIZING})]})};i.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()};return o}(o.PureComponent);An.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Cn=c.ZP.connectStores([Re.default],(function(){return{verifyFailed:Re.default.didVerifyFail(),verifySucceeded:Re.default.didVerifySucceed()}}))(An);const xn=function(e){var t=e.location,i=(0,c.cj)([Re.default],(function(){return{verifyFailed:Re.default.didVerifyFail(),verifySucceeded:Re.default.didVerifySucceed()}})),a=i.verifyFailed,s=i.verifySucceeded;o.useEffect((function(){var e=Z(t);null!=e&&l.Z.authorizePayment(e);(0,R.e)("authorize_payment")}),[t]);return a?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(639915),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.PAYMENT_AUTHORIZATION_EXPIRED}),(0,
r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages.PAYMENT_AUTH_EXPIRED_SUGGESTION})]}):s?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(143613),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.PAYMENT_AUTHORIZATION_SUCCEEDED}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages.PAYMENT_AUTH_SUCCEEDED_SUGGESTION})]}):(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Hh,{}),(0,r.jsx)(L.Dx,{children:M.Z.Messages.PAYMENT_AUTHORIZING})]})};var jn=n(99456),Rn=n(772731),Pn=n(402232);function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mn,Dn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e[e.INITIAL=0]="INITIAL";e[e.RPC_CONNECTED=1]="RPC_CONNECTED";e[e.APP_OPENING=2]="APP_OPENING";e[e.APP_OPENED=3]="APP_OPENED"}(Mn||(Mn={}));const Un=function(e){
var t=e.match,n=e.location,i=e.attemptDeepLink,a=Zn(o.useState(Mn.INITIAL),2),s=a[0],c=a[1];o.useEffect((function(){Rn.default.once("connected",(function(){c(Mn.RPC_CONNECTED)}));Rn.default.once("disconnected",(function(){(0,pe.uL)((0,Pn.M)())}));Rn.default.connect()}),[]);o.useEffect((function(){if(s===Mn.INITIAL){var e=setTimeout((function(){return(0,pe.uL)((0,Pn.M)())}),3e3);return function(){return clearTimeout(e)}}}),[s]);var u,l,f=o.useCallback((l=(u=function(e,t){var n;return Dn(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);c(Mn.APP_OPENING);return[4,i(e,t)];case 1:r.sent();c(Mn.APP_OPENED);return[3,3];case 2:n=r.sent();console.error("Error opening deeplink",n);return[3,3];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function i(e){Ln(o,n,r,i,a,"next",e)}function a(e){Ln(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t){return l.apply(this,arguments)}),[i]);if((0,pe.DB)())return null;switch(s){
case Mn.RPC_CONNECTED:return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.DEEPLINK_BROWSER_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.DEEPLINK_BROWSER_PROMPT}),(0,r.jsx)(L.zx,{className:U().marginTop40,onClick:function(){return f(t,n)},children:M.Z.Messages.OPEN_IN_APP}),(0,r.jsx)(L.zx,{className:Y()(U().marginTop8,U().marginCenterHorz),color:L.zx.Colors.LINK,look:L.zx.Looks.LINK,onClick:function(){return(0,pe.uL)((0,Pn.M)())},children:M.Z.Messages.CONTINUE_IN_BROWSER})]});case Mn.INITIAL:case Mn.APP_OPENING:return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:M.Z.Messages.APP_OPENING}),(0,r.jsx)(L.Hh,{})]});case Mn.APP_OPENED:return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.DEEPLINK_BROWSER_APP_OPENED})]})}};function kn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}
var Gn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Bn=function(e){var t,n,o=e.match,i=e.location,a=(n=(t=function(e,t){return Gn(this,(function(n){switch(n.label){case 0:return[4,(0,jn.s)(E.jEp.CHANNEL,{guildId:e.params.guildId,channelId:e.params.channelId,messageId:e.params.messageId,search:t.search})];case 1:n.sent();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){kn(i,r,o,a,s,"next",e)}function s(e){kn(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e,t){return n.apply(this,arguments)});return(0,r.jsx)(Un,{match:o,location:i,attemptDeepLink:a})};var Fn=n(333999);function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e){Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vn(e)}function Kn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e,t){zn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zn(e,t)}var Wn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}c.ZP.initialize();var qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zn(e,t)
}(o,e);var t=Yn(o);function o(){Hn(this,o);var e;(e=t.apply(this,arguments)).state={busy:!0,success:!1,user:null,category:null};return e}var a=o.prototype;a.componentDidMount=function(){var e=this,t=Z(this.props.location),n=(0,i.parse)(this.props.location.search);d.Z.post({url:E.ANM.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t,pixel_uuid:n.hash,category:n.category,email_type:n.email_type},oldFormErrors:!0}).then((function(t){var r=t.body.user,o=new Pt.Z(r);e.setState({success:!0,busy:!1,user:o,category:n.category})}),(function(){return e.setState({success:!1,busy:!1})}));(0,R.e)("disable_email_notifications")};a.renderBusy=function(){return(0,r.jsx)(L.ZP,{children:(0,r.jsx)(L.Hh,{})})};a.renderCategorySuccess=function(e,t){var n=this.props,o=n.defaultRoute,i=n.transitionTo,a=M.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_EMAIL_BODY.format({category:t});return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_HEADER}),(0,
r.jsx)(L.DK,{children:a}),(0,r.jsx)(L.zx,{className:U().marginTop20,onClick:function(){return i(o)},children:M.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(L.zx,{className:U().marginTop8,color:L.zx.Colors.LINK,look:L.zx.Looks.LINK,onClick:function(){return i(E.Z5c.SETTINGS("notifications",Fn.vG))},children:M.Z.Messages.EMAIL_CATEGORY_MANAGE_SETTING_LABEL})]})};a.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,o=this.state,i=o.user,a=o.category;if(null!=a){var s=Fn.Od.find((function(e){return e.category===a}));if(null!=s)return this.renderCategorySuccess(a,s.label())}return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.qE,{src:null==i?void 0:i.getAvatarURL(void 0,100),size:L.qE.Sizes.DEPRECATED_SIZE_100,className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER}),(0,r.jsx)(L.DK,{children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY}),(0,r.jsx)(L.zx,{
className:U().marginTop40,onClick:function(){return n(t)},children:M.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.renderError=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(709989),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER}),(0,r.jsx)(L.DK,{children:M.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY}),(0,r.jsx)(L.zx,{className:U().marginTop40,onClick:function(){return o(t)},children:M.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()};return o}(o.PureComponent);qn.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Xn=c.ZP.connectStores([w.Z],(function(){return{defaultRoute:w.Z.defaultRoute}}))(qn);var Qn=n(450700),Jn=n(478695);function $n(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e){er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return er(e)}function tr(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e,t){nr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nr(e,t)}var rr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return tr(this,n)}}var ir={};var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nr(e,t)}(n,e);var t=or(n);function n(){$n(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(e){return ir[e]};r.__getLocalVars=function(){return{states:ir}};return n}(c.ZP.Store);ar.displayName="CodedLinkNativeAppStateStore";const sr=new ar(u.Z,{NATIVE_APP_MODAL_OPENING:function(e){var t=e.code;ir[t]=E.kEZ.OPENING},NATIVE_APP_MODAL_OPENED:function(e){var t=e.code;ir[t]=E.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){var t=e.code;ir[t]=E.kEZ.OPEN_FAIL}});var cr=n(800539),ur=n(512238),lr=n(202036),fr=n(95467),pr=n(882923),dr=n(989434),hr=n(668800),yr=n(298716);function mr(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vr(i,r,o,a,s,"next",e)}function s(e){vr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function br(e){br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return br(e)}function Or(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?mr(e):t}function Ir(e,t){Ir=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ir(e,t)}
var Nr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=br(e);if(t){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Or(this,n)}}var Sr,Ar=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};c.ZP.initialize();!function(e){e.REGISTER="register";e.LOGIN="login"}(Sr||(Sr={}));var Cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ir(e,t)}(o,e);var t=Tr(o);function o(){Er(this,o);var e
;(e=t.apply(this,arguments)).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1};e.refreshUser=function(){e.setState({fetchingUser:!0});Jn.k({withAnalyticsToken:!0}).then((function(t){return e.setState({currentUser:t,fetchingUser:!1})})).catch((function(){return e.setState({fetchingUser:!1})}))};e.handleContinue=function(){(0,e.props.transitionTo)(E.Z5c.APPLICATION_LIBRARY)};e.handleLogout=function(){var t=e.props.match.params.giftCode;l.Z.logout(E.Z5c.GIFT_CODE_LOGIN(t))};e.handleResendVerification=function(){l.Z.verifyResend();e.setState({sentVerification:!0})};var n=mr(e);e.handleAccept=gr((function(){var e,t,r,o,i;return Ar(this,(function(a){switch(a.label){case 0:e=n.props,t=e.transitionTo;if(null==(r=e.giftCode))throw new Error("Trying to accept gift before resolve");o=n.getCode();a.label=1;case 1:a.trys.push([1,3,,4]);n.setState({error:null});return[4,f.Z.redeemGiftCode(o)];case 2:a.sent()
;r.premiumSubscriptionType===yr.p9.TIER_2?t(E.Z5c.APPLICATION_STORE):r.premiumSubscriptionType===yr.p9.TIER_1?t(E.Z5c.ACTIVITY):t(E.Z5c.APPLICATION_LIBRARY);return[3,4];case 3:i=a.sent();n.setState({error:i});return[3,4];case 4:return[2]}}))}));e.resolveGiftCode=function(){var t=e.props.transitionTo,n=e.getCode();f.Z.resolveGiftCode(n,!0,!0).then((function(e){null!=e&&null!=e.giftCode.promotion&&t(E.Z5c.BILLING_PROMOTION_REDEMPTION(n))}))};return e}var i=o.prototype;i.componentDidMount=function(){var e=this.props,t=e.authenticated,n=e.isResolved;t&&this.handleAuthenticated();n||this.resolveGiftCode();(0,R.e)("gift_code")};i.componentDidUpdate=function(e){var t=this,n=this.props,r=n.authenticated;n.isResolved||u.Z.wait((function(){t.resolveGiftCode()}));r&&!e.authenticated&&this.handleAuthenticated();!r&&e.authenticated&&this.setState({currentUser:null})};i.handleAuthenticated=function(){var e=this.state.currentUser;Qn.b8();null==e&&this.refreshUser()};i.getCode=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.match.params.giftCode};i.getMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.login?Sr.LOGIN:Sr.REGISTER};i.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.error,r=null!=n?n.code:null;return r===E.evJ.INVALID_GIFT_SELF_REDEMPTION?M.Z.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||r===E.evJ.INVALID_GIFT_REDEMPTION_OWNED?M.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:E.Z5c.APPLICATION_LIBRARY}):e.isClaimed||r===E.evJ.INVALID_GIFT_REDEMPTION_EXHAUSTED?M.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:r===E.evJ.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED?M.Z.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT:void 0};i.renderSpinner=function(e){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:e}),(0,r.jsx)(L.Hh,{})]})};i.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,
r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(L.Dx,{className:Y()(U().marginTop8,U().marginBottom8),children:M.Z.Messages.GIFT_CODE_AUTH_INVALID_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.GIFT_CODE_AUTH_INVALID_BODY}),(0,r.jsx)(L.zx,{className:Y()(U().marginTop40,U().marginBottom8),onClick:function(){return o(t)},children:M.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(L.zx,{onClick:function(){return window.open(fr.Z.getArticleURL(E.BhN.GIFTING),"_blank")},look:L.zx.Looks.LINK,color:L.zx.Colors.LINK,children:M.Z.Messages.GIFT_CODE_AUTH_INVALID_TIP})]})};i.renderAppOpened=function(){var e=this;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.APP_OPENED_BODY}),(0,r.jsx)(L.zx,{className:U().marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})},children:M.Z.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER})]})}
;i.renderVerification=function(e){var t=this.state.sentVerification;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(100539),className:U().marginBottom8}),(0,r.jsx)(L.Dx,{children:M.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})}),(0,r.jsx)(L.DK,{className:U().marginTop20,children:M.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED}),(0,r.jsx)(L.zx,{disabled:t,className:U().marginTop40,onClick:this.handleResendVerification,children:t?M.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:M.Z.Messages.RESEND_VERIFICATION_EMAIL}),(0,r.jsx)(L.zx,{look:L.zx.Looks.LINK,color:L.zx.Colors.LINK,onClick:this.refreshUser,className:U().marginTop8,children:M.Z.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN})]})};i.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),o=null!=n;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(pr.Z,{giftCode:e}),(0,r.jsx)(L.zx,{disabled:o,className:U().marginTop40,onClick:this.handleAccept,
children:M.Z.Messages.GIFT_CODE_AUTH_ACCEPT}),null!=n?(0,r.jsx)(L.DK,{className:U().marginTop20,children:n}):(0,r.jsx)(L.i_,{className:U().marginTop20,children:M.Z.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})})]})};i.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,o=e.authenticated,i=e.giftCode,a=e.isResolved,s=e.isAccepting,c=e.transitionTo,u=e.location,l=this.state,f=l.fetchingUser,p=l.continueOnWeb;if(t===E.kEZ.OPEN&&!p)return this.renderAppOpened();if(t===E.kEZ.OPENING)return this.renderSpinner(M.Z.Messages.APP_OPENING);if(s)return this.renderSpinner(M.Z.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==i)return a?this.renderExpiredInvite():this.renderSpinner(M.Z.Messages.GIFT_CODE_AUTH_RESOLVING);if(a){if(o){var d=this.state.currentUser;return f||null==d?this.renderSpinner(M.Z.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=d?this.renderVerification(d):this.renderAuthenticated(i,d)}
return this.getMode()===Sr.LOGIN?(0,r.jsx)(dr.Z,{giftCodeSKU:n,giftCode:i,transitionTo:c,location:u}):(0,r.jsx)(hr.Z,{giftCodeSKU:n,giftCode:i,transitionTo:c,location:u})}return null};!function(e,t,n){t&&_r(e.prototype,t);n&&_r(e,n)}(o,[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}]);return o}(o.PureComponent);const xr=c.ZP.connectStores([dn.Z,cr.Z,Re.default,ur.Z,w.Z,sr],(function(e){var t=e.match.params.giftCode,n=dn.Z.get(t),r=null!=n?ur.Z.get(n.skuId):null;return{giftCode:n,sku:r,libraryApplication:null!=r&&null!=n?lr.z2(n,r,cr.Z):null,authenticated:Re.default.isAuthenticated(),defaultRoute:w.Z.defaultRoute,isResolved:dn.Z.getIsResolved(t),isAccepting:dn.Z.getIsAccepting(t),libraryApplicationsFetched:cr.Z.fetched,nativeAppState:sr.getState(t)}}))(Cr);var jr=n(258858),Rr=n(88468),Pr=n(509954),wr=n(677523),Lr=n(162917),Zr=n(969376),Mr=n(517845),Dr=n(714392),Ur=n(111775),kr=n(386010),Gr=n(84405),Br=n.n(Gr);function Fr(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vr(e){Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vr(e)}function Kr(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e,t){zr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zr(e,t)}var Wr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}c.ZP.initialize();var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zr(e,t)}(o,e);var t=Yr(o);function o(){Fr(this,o);var e;(e=t.apply(this,arguments)).handleContinue=function(){var t=e.props,n=t.defaultRoute;(0,t.transitionTo)(n)};return e}var i=o.prototype;i.componentDidMount=function(){(0,R.e)("guildTemplate");kr.KO||Pe.Z.launch("cordcord://"+E.Z5c.GUILD_TEMPLATE(this.props.code),(function(){}))};i.componentDidUpdate=function(e){this.props.code!==e.code&&le.Z.resolveGuildTemplate(this.props.code)};i.renderButton=function(e,t){return kr.KO?(0,r.jsx)(L.zx,{className:U().marginTop40,onClick:t,children:e}):(0,r.jsx)(L.v6,{className:U().marginTop40})}
;i.renderSpinner=function(e){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:e}),(0,r.jsx)(L.Hh,{})]})};i.renderInvalidGuildTemplate=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(L.Dx,{className:Y()(U().marginTop8,U().marginBottom8),children:M.Z.Messages.GUILD_TEMPLATE_INVALID_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.GUILD_TEMPLATE_INVALID_SUBTITLE}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.renderAppOpened=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(L.DK,{children:M.Z.Messages.APP_OPENED_BODY}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.renderAuthenticatedOrDownload=function(){var e=this.props.guildTemplate;Te()(null!=e,"guild template must not be null");return e.state===Mr.Rj.RESOLVING?(0,r.jsx)(L.ZP,{className:Br().authBox,children:(0,
r.jsx)(Pr.Z,{guildTemplate:e})}):(0,r.jsx)(Xr,{guildTemplate:e})};i.renderContinue=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:M.Z.Messages.APP_NOT_OPENED}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.render=function(){var e=this.props,t=e.guildTemplate,n=e.nativeAppState,o=e.authenticated,i=e.transitionTo,a=e.location;if(null==t)return this.renderSpinner(M.Z.Messages.LOADING);if(n===E.kEZ.OPEN)return this.renderAppOpened();if(n===E.kEZ.OPENING)return this.renderSpinner(M.Z.Messages.APP_OPENING);switch(t.state){case Mr.Rj.RESOLVING:return this.renderSpinner(M.Z.Messages.APP_OPENING);case Mr.Rj.RESOLVED:return o||!kr.KO?this.renderAuthenticatedOrDownload():this.props.login?(0,r.jsx)(dr.Z,{guildTemplate:t,transitionTo:i,location:a}):(0,r.jsx)(hr.Z,{guildTemplate:t,transitionTo:i,location:a,onRegister:function(){(0,wr.c)(Dr.M5.ORGANIC_REGISTERED_GUILD_TEMPLATE);Lr.Z.flowStart(Ur.MK.ORGANIC_GUILD_TEMPLATES,Ur.EW.NUF_STARTED)}})
;case Mr.Rj.EXPIRED:return this.renderInvalidGuildTemplate();default:return null}};return o}(o.PureComponent);function Xr(e){var t=e.guildTemplate,n=(0,jr.Z)(t,!1),o=n.form,i=n.handleSubmit;Lr.Z.flowStep(Ur.MK.ORGANIC_GUILD_TEMPLATES,Ur.X2.GUILD_CREATE);var a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.Dx,{className:Br().header,children:M.Z.Messages.GUILD_TEMPLATE_SETUP_DISCORD}),o,(0,r.jsx)(L.zx,{className:Br().createButton,onClick:i,children:M.Z.Messages.GUILD_TEMPLATE_CREATE_DISCORD})]});return(0,r.jsx)(Zr.Z,{className:Br().authBox,children:function(){return[(0,r.jsx)(Rr.Z,{guildTemplate:t},"template"),(0,r.jsx)("div",{className:Br().formContainer,children:a},"contents")]}})}c.ZP.initialize();function Qr(e,t,n){e.preventDefault();v.default.track(E.rMx.GUILD_TEMPLATE_APP_OPENED,{guild_template_code:t,guild_template_name:n.name,guild_template_description:n.description,guild_template_guild_id:n.sourceGuildId});var r=Re.default.getFingerprint(),o=null!=r?r:Re.default.getId()
;le.Z.openMobileApp(n.state===Mr.Rj.RESOLVED?t:void 0,o)}function Jr(e){var t=e.code,n=(0,c.e7)([ue.Z],(function(){return ue.Z.getGuildTemplate(t)}));o.useEffect((function(){(0,R.e)("guild_template_mobile")}),[]);return null==n||n.state===Mr.Rj.RESOLVING?(0,r.jsx)(L.ZP,{children:(0,r.jsx)(st.Z,{})}):n.state===Mr.Rj.RESOLVED?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(Pr.Z,{guildTemplate:n,tall:!0}),(0,r.jsx)(L.zx,{onClick:function(e){return Qr(e,t,n)},className:U().marginTop20,children:M.Z.Messages.GUILD_TEMPLATE_OPEN})]}):(0,r.jsx)(We,{text:M.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_ERROR,buttonCta:M.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_CTA,onClick:function(e){return Qr(e,t,n)}})}var $r=n(168831),eo=n(348855),to=n(355184),no=n(361963),ro=n(50151),oo=n(101577),io=n(32733);function ao(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){ao(i,r,o,a,s,"next",e)}function s(e){ao(i,r,o,a,s,"throw",e)}a(void 0)}))}}function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lo(e){lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lo(e)}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uo(e,t,n[t])}))}return e}function po(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e,t){
ho=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ho(e,t)}var yo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lo(e);if(t){var o=lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}var vo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};c.ZP.initialize();var go="Accept Invite Page",Eo="register",_o="login";function bo(){return(bo=so((function(e){var t;return vo(this,(function(n){switch(n.label){case 0:return[4,p.Z.resolveInvite(e,go)];case 1:if(null==(t=n.sent().invite))return[2];j(t);return[2]}}))
}))).apply(this,arguments)}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ho(e,t)}(o,e);var t=mo(o);function o(){co(this,o);var e;(e=t.apply(this,arguments)).state={error:null};e.getAcceptInviteContext=function(t){return p.Z.getInviteContext(t,e.props.invite)};e.handleContinue=function(t){var n=e.props,r=n.invite,o=n.transitionTo;if(null!=r.channel||null!=(null==t?void 0:t.channel)){var i;null!=(null===(i=r.guild)||void 0===i?void 0:i.id)?o(E.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(r.code)):p.Z.transitionToInvite(null!=t?t:r,o)}};e.handleAccept=function(){e.setState({error:null});var t=e.getInviteKey();p.Z.acceptInvite({inviteKey:t,context:e.getAcceptInviteContext(go),skipOnboarding:!0,callback:function(e){j(e);null!=e.channel&&p.Z.openApp(t,e.channel.id)}}).catch((function(t){
if(t instanceof $r.Z){var n=(0,ro.O)(t.code);e.setState({error:{code:t.code,message:n}})}else e.setState({error:{code:t.code,message:M.Z.Messages.INVITE_MODAL_ERROR_DEFAULT}})}))};e.handleDefaultTransition=function(){var t=e.props,n=t.defaultRoute;(0,t.transitionTo)(n)};e.renderButton=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.handleDefaultTransition,o=e.props.invite,i=null!=o.stage_instance||null!=o.guild_scheduled_event;return kr.KO?(0,r.jsx)(L.zx,{className:i?U().marginTop20:U().marginTop40,onClick:n,color:i?L.zx.Colors.GREEN:L.zx.Colors.BRAND,children:t}):(0,r.jsx)(L.v6,{className:U().marginTop40})};return e}var i=o.prototype;i.componentDidMount=function(){var e=this.props,t=e.isUnderage,n=e.login;v.default.track(E.rMx.INVITE_VIEWED,{},{flush:!0});(0,R.e)("invite");if(!kr.KO){var r=this.getInviteKey();Pe.Z.launch("cordcord://"+E.Z5c.INVITE(r),(function(){}))}if(!n&&t){var o=this.getInviteKey(),i=(0,Ue.fU)(o).baseCode;(0,pe.dL)(E.Z5c.INVITE_LOGIN(i))}}
;i.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.nativeAppState,o=t.authenticated,i=t.transitionTo,a=this.getInviteKey();if(a!==this.getInviteKey(e))!function(e){bo.apply(this,arguments)}(a);else if(n.state===E.r2o.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===_o&&o!==e.authenticated&&o){var s=Re.default.getFingerprint();if(null!=s){var c=(0,je.s)(s);this.track(E.rMx.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:c})}p.Z.acceptInvite({inviteKey:a,context:this.getAcceptInviteContext(go),skipOnboarding:!0,callback:this.handleContinue})}r!==e.nativeAppState&&r===E.kEZ.OPEN&&this.track(E.rMx.INVITE_APP_INVOKED,!1);if(this.getMode()===Eo&&o&&!e.authenticated){if(null!=n.channel){(0,wr.c)(Dr.M5.INVITE_UNCLAIMED);null!=n.guild?i(E.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(n.code)):p.Z.transitionToInvite(n,i)}}};i.getInviteKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.inviteKey};i.getMode=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return io.a?Eo:e.login?_o:Eo};i.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.invite,o=this.getInviteKey(),i=(0,Ue.jX)(o),a=t?{guild_id:null!=r.guild?r.guild.id:null,channel_id:null!=r.channel?r.channel.id:null,inviter_id:null!=r.inviter?r.inviter.id:null,invite_code:i}:{invite_code:i};v.default.track(e,fo({},a,n))};i.renderSpinner=function(e){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:e}),(0,r.jsx)(L.Hh,{})]})};i.renderInvalidInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(L.Dx,{className:Y()(U().marginTop8,U().marginBottom8),children:M.Z.Messages.AUTH_INVALID_INVITE_TITLE}),(0,r.jsx)(L.DK,{children:e?M.Z.Messages.AUTH_BANNED_INVITE_BODY:M.Z.Messages.AUTH_INVALID_INVITE_BODY
}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP),(0,r.jsx)(L.zx,{onClick:function(){return window.open(fr.Z.getArticleURL(E.BhN.INVALID_INVITES),"_blank")},look:L.zx.Looks.LINK,color:L.zx.Colors.LINK,className:U().marginTop8,children:M.Z.Messages.AUTH_INVALID_INVITE_TIP})]})};i.renderErrorInvite=function(){var e,t;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(oo.Z,{invite:this.props.invite,error:null===(e=this.state.error)||void 0===e?void 0:e.message}),(null===(t=this.state.error)||void 0===t?void 0:t.code)===E.evJ.INVALID_CANNOT_FRIEND_SELF?this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP):this.renderButton(M.Z.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept)]})};i.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)};i.renderBannedInvite=function(){return this.renderInvalidInvite(!0)};i.renderAppOpened=function(){var e=this;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(L.DK,{
children:M.Z.Messages.APP_OPENED_BODY}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP,(function(){return e.handleContinue()}))]})};i.renderAuthenticatedHeader=function(){var e=this.props.invite;return null!=e.stage_instance&&null!=e.guild?(0,r.jsx)(no.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=e.guild_scheduled_event?(0,r.jsx)(to.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(oo.Z,{invite:e})};i.renderAuthenicatedFooter=function(){var e=this.props.invite;return null==e.stage_instance&&null==e.guild_scheduled_event||null==e.guild?null:(0,r.jsx)(L.ZP,{className:U().marginTop20,children:(0,r.jsx)(no.y,{guild:e.guild,onlineCount:e.approximate_presence_count})})};i.renderAuthenticatedOrDownload=function(){var e=null!=this.props.invite.stage_instance?M.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:M.Z.Messages.INSTANT_INVITE_ACCEPT;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(L.ZP,{
children:[this.renderAuthenticatedHeader(),this.renderButton(e,this.handleAccept)]}),this.renderAuthenicatedFooter()]})};i.renderContinue=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{children:M.Z.Messages.APP_NOT_OPENED}),this.renderButton(M.Z.Messages.CONTINUE_TO_WEBAPP)]})};i.render=function(){var e=this,t=this.props,n=t.invite,o=t.nativeAppState,i=t.authenticated,a=t.transitionTo,s=t.location;if(o===E.kEZ.OPEN)return this.renderAppOpened();switch(n.state){case E.r2o.APP_OPENED:return this.renderAppOpened();case E.r2o.APP_NOT_OPENED:return this.renderContinue();case E.r2o.RESOLVING:return io.a?this.renderSpinner(M.Z.Messages.DEFAULT_INPUT_PLACEHOLDER):this.renderSpinner(M.Z.Messages.APP_OPENING);case E.r2o.APP_OPENING:return this.renderSpinner(M.Z.Messages.APP_OPENING);case E.r2o.RESOLVED:return i||!kr.KO?this.renderAuthenticatedOrDownload():this.getMode()===_o?(0,r.jsx)(dr.Z,{invite:n,transitionTo:a,location:s}):(0,r.jsx)(hr.Z,{invite:n,onLoginStart:function(){
return e.track(E.rMx.INVITE_LOGIN,!0)},location:s,transitionTo:a});case E.r2o.ACCEPTING:return this.renderSpinner(M.Z.Messages.INSTANT_INVITE_ACCEPTING);case E.r2o.EXPIRED:return this.renderExpiredInvite();case E.r2o.BANNED:return this.renderBannedInvite();case E.r2o.ERROR:return this.renderErrorInvite();case E.r2o.ACCEPTED:default:return null}};return o}(o.PureComponent);const Io=c.ZP.connectStores([at.Z,w.Z,Re.default,sr,eo.Z],(function(e){var t,n=e.inviteKey;return{invite:null!==(t=at.Z.getInvite(n))&&void 0!==t?t:{},nativeAppState:sr.getState(n),authenticated:Re.default.isAuthenticated(),defaultRoute:w.Z.defaultRoute,isUnderage:eo.Z.isUnderageAnonymous()}}))(Oo);var No=n(489898);function To(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var So=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Ao=function(e){var t,n,o=e.match,i=e.location,a=(n=(t=function(e,t){
return So(this,(function(n){switch(n.label){case 0:return[4,(0,jn.s)(E.jEp.PICK_GUILD_SETTINGS,{section:e.params.section,subsection:e.params.subsection,search:t.search})];case 1:n.sent();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){To(i,r,o,a,s,"next",e)}function s(e){To(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e,t){return n.apply(this,arguments)});return(0,r.jsx)(Un,{match:o,location:i,attemptDeepLink:a})};var Co=n(744),xo=n(882699);function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ro(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ro(i,r,o,a,s,"next",e)}function s(e){Ro(i,r,o,a,s,"throw",e)}a(void 0)}))}}function wo(e){
wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wo(e)}function Lo(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?jo(e):t}function Zo(e,t){Zo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zo(e,t)}var Mo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lo(this,n)}}var Uo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};c.ZP.initialize();var ko=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zo(e,t)}(o,e);var t=Do(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n,r,a=jo(n=t.call(this,e));n.handleSubmit=(r=Po((function(e){var t,n,r,o,i;return Uo(this,(function(s){switch(s.label){case 0:t=a.props.location;n=a.state,r=n.password,o=n.error;null!=e&&e.preventDefault();if(0===r.length){a.setState({error:M.Z.Messages.PASSWORD_REQUIRED});xo.S.dispatch(E.CkL.WAVE_EMPHASIZE);return[2]}null!=o&&a.setState({error:null});if(null==(i=Z(t)))return[2];a.setState({working:!0});s.label=1;case 1:s.trys.push([1,3,,4]);return[4,l.Z.resetPassword(i,r)];case 2:s.sent()&&a.handlePasswordChangeSuccess();return[3,4];case 3:s.sent();return[3,4];case 4:a.setState({working:!1});return[2]}}))})),function(e){
return r.apply(this,arguments)});var c=jo(n);n.handleTokenSubmit=function(){var e=Po((function(e){var t,n,r,o,i,a,s,u;return Uo(this,(function(f){switch(f.label){case 0:t=c.props,n=t.location,r=t.mfaTicket;o=c.state,i=o.code,a=o.password,s=o.error;null!=e&&e.preventDefault();if(0===a.length){c.setState({error:M.Z.Messages.PASSWORD_REQUIRED});xo.S.dispatch(E.CkL.WAVE_EMPHASIZE);return[2]}null!=s&&c.setState({error:null});if(null==(u=Z(n)))return[2];c.setState({working:!0});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,l.Z.resetPasswordMFA(i,r,a,u)];case 2:f.sent();c.handlePasswordChangeSuccess();return[3,4];case 3:f.sent();return[3,4];case 4:c.setState({working:!1});return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handlePasswordChangeSuccess=function(){var e=n.props.replaceWith;s.Em||s.tq?n.setState({success:!0}):e(E.Z5c.APP)};n.handleGoToLogin=function(){var e=n.props.transitionTo;l.Z.loginReset();e(E.Z5c.LOGIN)};n.isSubmitting=function(){
var e=n.props.loginStatus;return n.state.working||e===E.u34.LOGGING_IN_MFA};n.handleOpenApp=function(){(0,Co.Z)("password_reset")};n.hasError=function(e){return null!=n.props.errors[e]||null!=n.state.error};n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null};var u=null!=n.props.location.search&&""!==n.props.location.search?(0,i.parse)(n.props.location.search):null;n.state={password:"",code:"",error:null,hasCancel:null!=u&&null!=u.from_login,working:!1,success:!1};return n}var a=o.prototype;a.componentDidMount=function(){(0,R.e)("reset_password")};a.renderPasswordReset=function(){var e=this,t=this.state,o=t.password,i=t.error,a=t.hasCancel,s=this.isSubmitting(),c=null!=i?i:this.renderError("password");return(0,r.jsxs)(L.ZP,{onSubmit:this.handleSubmit,tag:"form",children:[(0,r.jsx)("img",{alt:"",src:n(null==c?359074:396679),className:U().marginBottom20}),(0,r.jsx)(L.Dx,{children:M.Z.Messages.RESET_PASSWORD_TITLE}),(0,
r.jsxs)(L.gO,{className:U().marginTop20,children:[(0,r.jsx)(L.II,{label:M.Z.Messages.FORM_LABEL_NEW_PASSWORD,className:U().marginBottom20,name:"password",value:o,onChange:function(t){return e.setState({password:t})},error:c,type:"password"}),(0,r.jsx)(L.zx,{type:"submit",submitting:s,children:M.Z.Messages.CHANGE_PASSWORD}),a?(0,r.jsx)(L.zx,{className:U().marginTop8,onClick:this.handleGoToLogin,submitting:s,color:L.zx.Colors.PRIMARY,children:M.Z.Messages.CANCEL}):null]})]})};a.renderMFA=function(){var e=this,t=this.state.error,o=null!=t?t:this.renderError("code");return(0,r.jsxs)(L.ZP,{onSubmit:this.handleTokenSubmit,tag:"form",children:[(0,r.jsx)("img",{alt:"",src:n(null==o?359074:396679),className:Y()(U().marginBottom20,s.tq?U().marginTop20:"")}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.TWO_FA_ENTER_TOKEN_LABEL}),(0,r.jsx)(L.DK,{children:M.Z.Messages.TWO_FA_ENTER_TOKEN_BODY}),(0,r.jsxs)(L.gO,{className:U().marginTop20,children:[(0,r.jsx)(L.II,{
className:U().marginBottom8,error:o,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:M.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),(0,r.jsx)(L.zx,{type:"submit",submitting:this.isSubmitting(),children:M.Z.Messages._LOGIN})]})]})};a.renderSucceeded=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(359074),className:Y()(U().marginBottom20,s.tq?U().marginTop20:"")}),(0,r.jsx)(L.Dx,{className:U().marginBottom40,children:M.Z.Messages.RESET_PASSWORD_SUCCESS_TITLE}),(0,r.jsx)(L.zx,{onClick:this.handleOpenApp,children:M.Z.Messages.VERIFICATION_OPEN_DISCORD})]})};a.render=function(){return this.state.success?this.renderSucceeded():null!=this.props.mfaTicket&&""!==this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()};return o}(o.PureComponent);ko.defaultProps={transitionTo:function(e){return n.g.location.assign(e)},replaceWith:function(e){return n.g.location.replace(e)}}
;const Go=c.ZP.connectStores([Re.default],(function(){return{loginStatus:Re.default.getLoginStatus(),mfaTicket:Re.default.getMFATicket(),errors:Re.default.getErrors()}}))(ko);var Bo=n(796667),Fo=n(560221),Ho=n(83129),Vo=n.n(Ho);function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e){zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return zo(e)}function Wo(e,t){return!t||"object"!==qo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yo(e,t){Yo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Yo(e,t)}var qo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zo(e);if(t){var o=zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wo(this,n)}}c.ZP.initialize();var Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Yo(e,t)}(o,e);var t=Xo(o);function o(){Ko(this,o);var e;(e=t.apply(this,arguments)).handleVerify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Z(e.props.location);null!=n&&l.Z.verify(n,t)};e.handleLogin=function(){(0,e.props.transitionTo)(E.Z5c.LOGIN)};e.handleOpenApp=function(){var t=e.props.verifyingUserId;v.default.track(E.rMx.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:t});(0,Co.Z)("verify_email")}
;return e}var i=o.prototype;i.componentDidMount=function(){this.handleVerify();(0,R.e)("verify_email")};i.renderVerifyCaptcha=function(){var e=this.props.verifyErrors;return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(143613),className:Y()(Vo().image,U().marginBottom20)}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages.VERIFICATION_BODY_ALT}),(0,r.jsx)("div",{className:ne().flexCenter,children:(0,r.jsx)(Bo.Z,{captchaService:(0,Fo.B)(e.captcha_service),sitekey:e.captcha_sitekey,className:Vo().recaptcha,theme:tt.BR.DARK,onVerify:this.handleVerify})})]})};i.renderVerifyFailed=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(639915),className:Y()(Vo().image,U().marginBottom20)}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.VERFICATION_EXPIRED}),(0,r.jsx)(L.DK,{className:U().marginBottom40,
children:M.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION}),(0,r.jsx)(L.zx,{onClick:this.handleLogin,children:M.Z.Messages._LOGIN})]})};i.renderVerifySucceeded=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(143613),className:Y()(Vo().image,U().marginBottom20)}),(0,r.jsx)(L.Dx,{className:U().marginBottom40,children:M.Z.Messages.VERIFICATION_VERIFIED}),(0,r.jsx)(L.zx,{onClick:this.handleOpenApp,children:M.Z.Messages.VERIFICATION_OPEN_DISCORD})]})};i.renderVerifying=function(){return(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{src:n(100539),className:Y()(Vo().image,U().marginBottom20)}),(0,r.jsx)(L.Dx,{className:U().marginBottom8,children:M.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(L.DK,{className:U().marginBottom40,children:M.Z.Messages.ACTION_MAY_TAKE_A_MOMENT}),(0,r.jsx)(L.zx,{submitting:!0,color:L.zx.Colors.PRIMARY})]})};i.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded
;return null!=t&&null!=t.captcha_key&&""!==t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()};return o}(o.PureComponent);Qo.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Jo=c.ZP.connectStores([Re.default],(function(){return{verifyFailed:Re.default.didVerifyFail(),verifyErrors:Re.default.getVerifyErrors(),verifySucceeded:Re.default.didVerifySucceed(),fingerprint:Re.default.getFingerprint(),verifyingUserId:Re.default.getVerifyingUserId()}}))(Qo);n(639472);function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function ri(e){ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ri(e)}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ni(e,t,n[t])}))}return e}function ii(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ai(e,t){
return!t||"object"!==ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function si(e,t){si=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return si(e,t)}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ui=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ri(e);if(t){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ai(this,n)}}var fi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};c.ZP.initialize();var pi=(0,En.Z)(dr.Z),di=(0,En.Z)(No.Z),hi=(0,En.Z)(Io),yi=(0,En.Z)((function(e){var t={guildTemplate:(0,c.e7)([ue.Z],(function(){return ue.Z.getGuildTemplate(e.code)})),nativeAppState:(0,
c.e7)([sr],(function(){return sr.getState(e.code)})),authenticated:(0,c.e7)([Re.default],(function(){return Re.default.isAuthenticated()})),defaultRoute:(0,c.e7)([w.Z],(function(){return w.Z.defaultRoute}))};return(0,r.jsx)(qr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hr(e,t,n[t])}))}return e}({},e,t))})),mi=(0,En.Z)(xr),vi=(0,En.Z)((function(e){var t=e.inviteKey,n=e.transitionTo,i=(0,c.e7)([at.Z],(function(){return at.Z.getInvite(t)}));o.useEffect((function(){v.default.track(E.rMx.INVITE_VIEWED,{},{flush:!0});(0,R.e)("invite_mobile")}),[]);return(0,r.jsx)(fn,{invite:i,onAcceptInvite:function(e){!function(e,t,n){var r,o,i;e.preventDefault();v.default.track(E.rMx.INVITE_APP_OPENED,{invite_code:(0,Ue.jX)(t),
guild_id:null==n||null===(r=n.guild)||void 0===r?void 0:r.id,channel_id:null==n||null===(o=n.channel)||void 0===o?void 0:o.id,inviter_id:null==n||null===(i=n.inviter)||void 0===i?void 0:i.id});var a=null!=n&&n.state!==E.r2o.EXPIRED&&n.state!==E.r2o.BANNED?t:void 0,s=Re.default.getFingerprint(),c=null!=s?s:Re.default.getId();p.Z.openApp(a,void 0,c)}(e,t,i)},transitionTo:n})})),gi=(0,En.Z)(hr.Z),Ei=(0,En.Z)(Cn),_i=(0,En.Z)(xn),bi=(0,En.Z)(Jo),Oi=(0,En.Z)(ce),Ii=(0,En.Z)(Go),Ni=(0,En.Z)(Xn),Ti=(0,En.Z)(z),Si=(0,En.Z)((function(e){var t=e.location,i=De(o.useState(!1),2),a=i[0],s=i[1],u=(0,c.e7)([Ie],(function(){return Ie.getState()})),l=u.verifySuccess,f=u.verifyErrors,p=u.redirectGuildId;o.useEffect((function(){var e=Z(t);fe.Z.verify(e);(0,R.e)("verify_hub_email")}),[t]);var d=function(){we(p);s(!0)};return a?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Dx,{className:Ze().title,children:M.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(L.DK,{className:Ze().subtitle,children:M.Z.Messages.APP_OPENED_BODY
}),(0,r.jsx)(L.zx,{className:Ze().spacedButton,onClick:function(){return(0,pe.uL)(E.Z5c.CHANNEL(p))},children:M.Z.Messages.CONTINUE_TO_WEBAPP})]}):l?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{className:Ze().image,src:n(143613)}),(0,r.jsx)(L.Dx,{className:Ze().title,children:M.Z.Messages.VERIFICATION_VERIFIED}),(0,r.jsx)(L.zx,{onClick:d,children:M.Z.Messages.VERIFICATION_OPEN_DISCORD})]}):null!=f?(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{className:Ze().image,src:n(639915)}),(0,r.jsx)(L.Dx,{className:Ze().title,children:M.Z.Messages.VERFICATION_EXPIRED}),(0,r.jsx)(L.DK,{className:Ze().subtitle,children:M.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION}),(0,r.jsx)(L.zx,{onClick:d,children:M.Z.Messages.VERIFICATION_OPEN_DISCORD})]}):(0,r.jsxs)(L.ZP,{children:[(0,r.jsx)(L.Ee,{className:Ze().image,src:n(100539)}),(0,r.jsx)(L.Dx,{className:Ze().title,children:M.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(L.DK,{className:Ze().subtitle,children:M.Z.Messages.ACTION_MAY_TAKE_A_MOMENT}),(0,
r.jsx)(L.zx,{submitting:!0,color:L.zx.Colors.PRIMARY})]})})),Ai=(0,En.Z)(Bn),Ci=(0,En.Z)(Ao),xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&si(e,t)}(n,e);var t=li(n);function n(){ti(this,n);var e;(e=t.apply(this,arguments)).state={splash:null,redirectTo:null,backgroundId:null};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.inviteKey,n=e.hasLoadedExperiments,r=e.isAuthenticated;if(null!=t){!n&&r&&l.Z.getExperiments(!0);v.default.track(E.rMx.INVITE_OPENED,{invite_code:(0,Ue.jX)(t),load_time:vn()},{flush:!0})}(n||io.a)&&this.resolveInvite();this.resolveGiftCode();this.resolveGuildTemplate();C.initialize()};o.componentDidUpdate=function(e){var t,n;e.hasLoadedExperiments||!this.props.hasLoadedExperiments||io.a||this.resolveInvite()
;(null===(t=e.invite)||void 0===t?void 0:t.state)!==(null===(n=this.props.invite)||void 0===n?void 0:n.state)&&this.maybeFetchApplicationSplash()};o.componentWillUnmount=function(){C.terminate()};o.maybeFetchApplicationSplash=function(){var e=this,t=this.props.invite;if((null==t?void 0:t.state)===E.r2o.RESOLVED){var n=t.target_application;null!=n&&(0,hn.GR)(n.id,["embedded_splash"]).then((function(t){var n=ci(t,1)[0];return e.setState({backgroundId:n})}))}};o.resolveInvite=function(){var e=this.props.inviteKey;if(null!=e){var t,n,r=(n=(t=function(){var t;return fi(this,(function(n){switch(n.label){case 0:return[4,p.Z.resolveInvite(e,E.Usc.INVITE)];case 1:null!=(t=n.sent().invite)&&j(t);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){ei(i,r,o,a,s,"next",e)}function s(e){ei(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(){return n.apply(this,arguments)});r();p.Z.openNativeAppModal(e)}};o.resolveGuildTemplate=function(){
var e=this.props.guildTemplateCode;if(null!=e){v.default.track(E.rMx.GUILD_TEMPLATE_OPENED,{guild_template_code:e,load_time:vn()},{flush:!0});le.Z.resolveGuildTemplate(e);le.Z.openNativeAppModal(e)}};o.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&f.Z.resolveGiftCode(e,!0,!0).then((function(t){null!=t&&null==t.giftCode.promotion&&u.Z.wait((function(){return f.Z.openNativeGiftCodeModal(e)}))}))};o.render=function(){var e=this.state,t=e.splash,n=e.redirectTo,o=this.props.inviteKey;return(0,r.jsxs)(_n.Z,{splash:t,children:[(0,r.jsx)(x.Z,{path:E.Z5c.LOGIN_HANDOFF,render:function(e){return(0,r.jsx)(di,ii(oi({},e),{redirectTo:n}))}}),(0,r.jsx)(x.Z,{impressionName:a.zs.USER_LOGIN,path:E.Z5c.LOGIN,render:function(e){return(0,r.jsx)(pi,ii(oi({},e),{redirectTo:n}))}}),(0,r.jsx)(x.Z,{impressionName:a.zs.USER_REGISTRATION,path:E.Z5c.REGISTER,render:function(e){return io.a?(0,r.jsx)(hi,ii(oi({},e),{redirectTo:n,inviteKey:o})):(0,r.jsx)(gi,ii(oi({},e),{redirectTo:n}))}}),(0,
r.jsx)(x.Z,{path:E.Z5c.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return(0,r.jsx)(mi,oi({login:!0},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.GIFT_CODE(":giftCode"),render:function(e){return(0,r.jsx)(mi,oi({},e))}}),(0,r.jsx)(x.Z,{path:[E.Z5c.INVITE_LOGIN(":inviteCode"),E.Z5c.INVITE(":inviteCode")],render:function(e){var t=e.match,n=t.params.inviteCode,o=t.path,i=e.location,a=e.transitionTo,c=(0,Ue.mb)(n,i.search);return s.tq||s.Em?(0,r.jsx)(vi,{inviteKey:c,transitionTo:a},c):(0,r.jsx)(hi,{inviteKey:c,location:i,transitionTo:a,login:o===E.Z5c.INVITE_LOGIN(":inviteCode")})}}),(0,r.jsx)(x.Z,{path:[E.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"),E.Z5c.GUILD_TEMPLATE(":guildTemplateCode")],render:function(e){var t=e.match,n=t.params.guildTemplateCode,o=t.path,i=e.location,a=e.transitionTo;return s.tq||s.Em?(0,r.jsx)(Jr,{code:n},n):(0,r.jsx)(yi,{code:n,location:i,transitionTo:a,login:o===E.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")})}}),(0,r.jsx)(x.Z,{path:E.Z5c.VERIFY,render:function(e){
return(0,r.jsx)(bi,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.VERIFY_HUB_EMAIL,render:function(e){return(0,r.jsx)(Si,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.VERIFY_REQUEST,render:function(e){return(0,r.jsx)(Oi,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return(0,r.jsx)(Ni,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,render:function(e){return(0,r.jsx)(Ti,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.AUTHORIZE_IP,render:function(e){return(0,r.jsx)(Ei,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.AUTHORIZE_PAYMENT,render:function(e){return(0,r.jsx)(_i,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.RESET,render:function(e){return(0,r.jsx)(Ii,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?"),render:function(e){return(0,r.jsx)(Ci,oi({},e))}}),(0,r.jsx)(x.Z,{path:E.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),render:function(e){return(0,r.jsx)(Ai,oi({},e))}})]})}
;n.getDerivedStateFromProps=function(e,t){var n,r=e.invite,o=e.location,a=t.backgroundId,s=null!==(n=(0,i.parse)(o.search).redirect_to)&&void 0!==n?n:null;null!=s&&""!==s&&(0,gn.B)(s)&&!s.startsWith(E.Z5c.ME)||(s=null);var c=null;if(null==r)c=(0,yn.gK)(s);else if((null==r?void 0:r.state)===E.r2o.RESOLVED){var u=r.guild,l=r.target_application;null!=l?null!=a&&(c=(0,hn.xF)(l.id,a,1024)):null!=u&&"string"==typeof u.splash&&(c=ut.ZP.getGuildSplashURL({id:u.id,splash:u.splash}))}return{redirectTo:s,splash:c}};return n}(o.PureComponent);const ji=c.ZP.connectStores([Re.default,at.Z,dn.Z,pn.Z,ue.Z],(function(e){var t,n,r,o=e.match,i=e.location,a=null==o||null===(t=o.params)||void 0===t?void 0:t.inviteCode,s=io.a?io.Y:void 0,c=null!=a?(0,Ue.mb)(a,i.search):s,u=null==o||null===(n=o.params)||void 0===n?void 0:n.giftCode,l=null==o||null===(r=o.params)||void 0===r?void 0:r.guildTemplateCode;return{inviteKey:c,isAuthenticated:Re.default.isAuthenticated(),giftCode:u,guildTemplateCode:l,
gift:null!=u?dn.Z.get(u):null,invite:null!=c?at.Z.getInvite(c):null,guildTemplate:null!=l?ue.Z.getGuildTemplate(l):null,hasLoadedExperiments:pn.Z.hasLoadedExperiments}}))(xi)},590499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(785893),o=n(667294),i=n(23279),a=n.n(i),s=n(738017),c=n(606076),u=n(39802),l=n(912551),f=n(152804),p=n.n(f),d=n(724647),h=n.n(d);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){m(e,t,n[t])}))}return e}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var I=(0,l.Mg)(h().responsiveWidthMobile),N=0,T=1,S={friction:10,tension:130};const A=function(e){return function(t){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(o,t);var n=O(o);function o(){y(this,o);var e;(e=n.apply(this,arguments)).anim=new s.Z.Value(N);e.state={shouldAnimate:!c.tq};e.handleResize=function(){var t=window.innerWidth>I;!e.state.shouldAnimate&&t&&e.anim.setValue(T);e.setState({shouldAnimate:t})};e.handleResizeDebounced=a()(e.handleResize,60);return e}var i=o.prototype;i.componentDidMount=function(){if(!c.tq){window.addEventListener("resize",this.handleResizeDebounced);this.handleResize()}};i.componentWillUnmount=function(){clearTimeout(this.timeout);window.removeEventListener("resize",this.handleResizeDebounced)};i.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(T,e):e()};i.componentWillEnter=function(e){var t=this;if(this.state.shouldAnimate){clearTimeout(this.timeout)
;this.timeout=setTimeout((function(){return t.animateTo(T,e)}),40)}else e()};i.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(N,e):e()};i.animateTo=function(e,t){s.Z.spring(this.anim,g({toValue:e},S)).start(t)};i.getAnimatedStyle=function(e){return this.state.shouldAnimate?{opacity:this.anim,transform:e?void 0:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null};i.render=function(){var t=this;return(0,r.jsx)("div",{className:p().wrapper,children:(0,r.jsx)(u.S.Consumer,{children:function(n){var o=n.reducedMotion;return(0,r.jsx)(s.Z.div,{style:t.getAnimatedStyle(o.enabled),children:(0,r.jsx)(e,g({},t.props))})}})})};return o}(o.Component)}},869488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(227440)),i=n(796667),a=n(908570),s=n(609993),c=n(959797),u=n(3066),l=n.n(u),f=n(380203),p=n.n(f);const d=function(e){
var t=e.title,u=e.onVerify,f=e.authBoxClassName,d=e.captchaService,h=void 0===d?o.hP.RECAPTCHA:d,y=e.sitekey;return(0,r.jsxs)(a.ZP,{className:f,children:[(0,r.jsx)("img",{alt:"",src:n(148267),className:p().marginBottom20}),null!=t?(0,r.jsx)(a.Dx,{className:p().marginBottom8,children:t}):null,(0,r.jsx)(a.DK,{className:p().marginBottom40,children:c.Z.Messages.BEEP_BOOP}),(0,r.jsx)("div",{className:l().flexCenter,children:(0,r.jsx)(i.Z,{onVerify:u,theme:s.BR.DARK,captchaService:h,sitekey:y})})]})}},98109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(606076),c=n(489992),u=n(751615),l=n(589175);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}
function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function v(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}
var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=_(n);function n(){f(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.location,i=e.history,a=e.staticContext,s=(e.match,m(e,["children","location","history","staticContext","match"])),c=null,f=null;o.Children.forEach(t,(function(e){if(null==c&&o.isValidElement(e)){var t=e.props,r=t.component,s=t.render,l=m(t,["component","render"]),p=l.path||l.from;if(null==(c=null!=p?(0,u.LX)(n.pathname,y(h({},l),{path:p})):null))return;l=y(h({},l),{key:p,location:n,match:c,history:i,staticContext:a});null!=r?f=o.createElement(r,l):null!=s&&(f=s(l))}}));return(0,r.jsx)(l.Z,y(h({},s),{children:f}))};return n}(o.Component);const O=(0,u.EN)(b)
;var I=n(655695),N=n(4659),T=n(699685),S=n(912551),A=n(706908),C=n(461061),x=n(863684),j=n.n(x);function R(e){R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R(e)}function P(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}var L=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return P(this,n)}}var M=(0,S.Mg)(j().responsiveWidthMobile),D=[C.Z5c.LOGIN,C.Z5c.LOGIN_HANDOFF,C.Z5c.REGISTER,C.Z5c.INVITE(""),C.Z5c.GIFT_CODE(""),C.Z5c.GUILD_TEMPLATE_LOGIN(""),C.Z5c.GUILD_TEMPLATE(""),C.Z5c.DISABLE_EMAIL_NOTIFICATIONS,C.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,C.Z5c.BILLING_PREMIUM_SUBSCRIBE,C.Z5c.BILLING_PAYMENT_SOURCES_CREATE,C.Z5c.BILLING_PAYMENTS,C.Z5c.BILLING_PREMIUM_SWITCH_PLAN,C.Z5c.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,C.Z5c.VERIFY,C.Z5c.VERIFY_HUB_EMAIL,C.Z5c.AUTHORIZE_IP,C.Z5c.AUTHORIZE_PAYMENT,C.Z5c.RESET,C.Z5c.HANDOFF];function U(e){return D.some((function(t){return e.startsWith(t)}))}const k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w(e,t)}(n,e);var t=Z(n);function n(e){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleResize=function(){r.setState({isMobileWidth:window.innerWidth<=M})};r.state={isMobileWidth:window.innerWidth<=M};return r}var i=n.prototype;i.componentDidMount=function(){window.addEventListener("resize",this.handleResize)};i.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)};i.mobileTransitionTo=function(e,t){if(U(e))(0,I.uL)(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:"".concat(e,"?").concat(n)}};i.mobileReplaceWith=function(e){U(e)?(0,I.dL)(e):window.location=e};i.renderDefault=function(){var e=this.props.splash,t=(0,r.jsx)(O,{component:o.Fragment,children:o.Children.map(this.props.children,(function(e){return o.cloneElement(e,{transitionTo:I.uL,replaceWith:I.dL})}))});return(0,r.jsx)("div",{className:j().characterBackground,children:(0,r.jsx)(c.y5,{forceLevel:1,children:null!=e?(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{show:!0,className:a()(j().logo)}),(0,r.jsx)(T.h,{splash:e,children:t})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:j().artwork,preserveAspectRatio:"xMinYMin slice"}),t]})})})};i.renderMobile=function(){var e=this;return(0,r.jsx)(O,{component:o.Fragment,children:o.Children.map(this.props.children,(function(t){return o.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))})};i.render=function(){var e=this.state.isMobileWidth,t=navigator.userAgent.includes("GameLauncher");return e||s.tq||s.Em||t?this.renderMobile():this.renderDefault()};return n}(o.Component)},882923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(791462),c=n(182102),u=n(367124),l=n(859023),f=n(916957),p=n(512238),d=n(693518),h=n(908570),y=n(862325),m=n(298716),v=n(959797),g=n(889710),E=n.n(g),_=n(3066),b=n.n(_),O=n(380203),I=n.n(O)
;const N=s.ZP.connectStores([p.Z,u.Z,f.Z,l.default],(function(e){var t=e.giftCode,n=p.Z.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?(0,y.oE)(r):null,application:u.Z.getGame(n.applicationId),gifter:l.default.getUser(t.userId)}}))((function(e){var t=e.error,n=e.giftCode,i=e.gifter,s=e.sku,u=e.application,l=e.subscriptionPlan,f=null==i?v.Z.Messages.GIFT_CODE_AUTH_GIFTED:v.Z.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:i.username}),p=s.name;null!=l&&(p=(l.interval===m.rV.MONTH?v.Z.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:v.Z.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:s.name,intervalCount:l.intervalCount}));return(0,r.jsxs)(o.Fragment,{children:[null!=n.giftStyle?(0,r.jsx)(c.Z,{giftStyle:n.giftStyle,className:E().seasonalIcon}):(0,r.jsx)(h.qE,{src:null!=i?i.getAvatarURL(void 0,100):null,size:h.qE.Sizes.DEPRECATED_SIZE_100,className:I().marginBottom20}),null!=t?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(h.DK,{
children:v.Z.Messages.INVITE_MODAL_ERROR_TITLE}),(0,r.jsx)(h.Dx,{children:t})]}):(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(h.DK,{children:f}),(0,r.jsxs)(h.Dx,{className:a()(I().marginTop8,b().flexCenter),children:[(0,r.jsx)(d.Z,{size:d.Z.Sizes.MEDIUM,className:E().applicationIcon,game:u,skuId:s.id}),p]})]})]})}))},989434:(e,t,n)=>{"use strict";n.d(t,{q:()=>Ut,Z:()=>Bt});var r=n(785893),o=n(667294),i=n(970112),a=n(294184),s=n.n(a),c=n(517563),u=n(606076),l=n(791462),f=n(489992),p=n(173436),d=n(822567),h=n(476575),y=n(584268),m=n(191940),v=n(774481),g=n(487502),E=n(908570),_=n(959797),b=n(400353),O=n.n(b),I=n(380203),N=n.n(I);function T(e){var t=e.title,n=e.subtitle,o=e.error,i=e.onSubmit,a=e.onCancel;return(0,r.jsxs)(g.Z,{direction:g.Z.Direction.VERTICAL,children:[(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:t}),(0,r.jsx)(E.DK,{className:O().subTitle,children:n}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{inputClassName:O().codeInput,onSubmit:i}),null!=o?(0,r.jsx)(f.xv,{
className:O().error,variant:"text-sm/normal",children:o}):null]}),(0,r.jsx)(m.Co,{className:O().button,onClick:a,color:m.Co.Colors.PRIMARY,children:_.Z.Messages.CANCEL})]})}var S=n(674500),A=n(88468),C=n(865622),x=n(675860),j=n(444450),R=n(901991),P=n(631134),w=n(932847),L=n(468811),Z=n.n(L),M=n(461061);function D(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,s,"next",e)}function s(e){D(i,r,o,a,s,"throw",e)}a(void 0)}))}}var k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function G(){return(G=U((function(e){var t,n,r;return k(this,(function(o){switch(o.label){case 0:return[4,x.Z.post({url:M.ANM.HANDOFF,body:{key:e},oldFormErrors:!0,retries:1})];case 1:t=o.sent(),n=t.body;if(null!=(r=n.handoff_token))return[2,r];throw new Error("Missing handoff token!")}}))
}))).apply(this,arguments)}const B={generateNonce:function(){return Z().v4()},createHandoffToken:function(e){return G.apply(this,arguments)}};var F=n(813292),H=n.n(F);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z,W="mweb_handoff_nonce",Y="mweb_handoff_nonce_expiration";!function(e){e.NONCE_MISSING="nonce_missing";e.NONCE_EXPIRED="nonce_expired";e.NULL_HANDOFF_TOKEN="deep_link_failed";e.HANDOFF_EXCHANGE="handoff_exchange"}(z||(z={}));var q=new Set([z.NONCE_MISSING,z.NONCE_EXPIRED,z.HANDOFF_EXCHANGE]),X=new Set([z.NULL_HANDOFF_TOKEN]),Q=function(){j.Z.remove(W);j.Z.remove(Y)};const J=function(){var e=(0,l.e7)([P.default],(function(){return P.default.getFingerprint()})),t=(0,c.parse)(window.location.search),n=t.fingerprint,i=t.handoff_token,a=Array.isArray(n)?n.length>1?n[0]:null:n,s=null!=a?a:null!==e?e:void 0;o.useEffect((function(){null!==a&&e!==a&&p.Z.dispatch({type:"FINGERPRINT",fingerprint:a})}),[a,e]);var u=K(o.useState(null),2),h=u[0],y=u[1],v=o.useCallback((function(e){y(e)
;w.default.track(M.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:e,fingerprint:(0,C.K)(s)},{fingerprint:s})}),[y,s]),g=j.Z.get(W);"null"===i&&null===h&&v(z.NULL_HANDOFF_TOKEN);null!=i&&"null"!==i&&null==g&&null===h&&v(z.NONCE_MISSING);o.useEffect((function(){if(null!=g){var e=j.Z.get(Y);if(null==e||Date.now()>=e){v(z.NONCE_EXPIRED);Q()}}}),[g,v]);o.useEffect((function(){if(null!=i&&"null"!==i&&null!=g){if(null!=h)return;x.Z.post({url:M.ANM.HANDOFF_EXCHANGE,body:{key:g,handoff_token:i}}).then((function(e){return d.Z.loginToken(e.body.token,!1)})).then((function(){w.default.track(M.rMx.LOGIN_SUCCESSFUL,{source:M.uRl.MOBILE_WEB_HANDOFF,is_new_user:!1,fingerprint:(0,C.K)(s)});var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("handoff_token");t.delete("fingerprint");e.search=t.toString();window.history.pushState(null,"",e)})).catch((function(){v(z.HANDOFF_EXCHANGE)})).finally((function(){Q()}))}}),[i,g,h,s,v]);if(null==s)return null;var E=null==h?(0,r.jsxs)(r.Fragment,{
children:[R.MOBILE_WEB_HANDOFF_EXPLANATION_TEXT_LINE_1,(0,r.jsx)("br",{}),R.MOBILE_WEB_HANDOFF_EXPLANATION_TEXT_LINE_2]}):X.has(h)?R.MOBILE_WEB_HANDOFF_ERROR_NO_TRY_AGAIN:q.has(h)?R.MOBILE_WEB_HANDOFF_ERROR_TRY_AGAIN:void 0;return null!=h&&X.has(h)?(0,r.jsx)("div",{className:H().errorContainer,children:(0,r.jsx)(f.xv,{color:"interactive-normal",variant:"text-sm/semibold",children:E})}):(0,r.jsxs)("div",{className:H().container,children:[(0,r.jsx)(f.xv,{variant:"text-sm/semibold",children:E}),(0,r.jsx)(m.Co,{look:m.Co.Looks.INVERTED,color:m.Co.Colors.BRAND_NEW,onClick:function(){var e=B.generateNonce();j.Z.set(W,e);j.Z.set(Y,Date.now()+6e4);var t=new URL(M.x0X),n=new URLSearchParams(window.location.search);n.delete("fingerprint");n.delete("handoff_token");var r=new URLSearchParams;r.set("redirect",encodeURIComponent(window.location.pathname+n.toString()));r.set("key",e);r.set("fingerprint",s);t.search=r.toString();w.default.track(M.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,C.K)(s),
source:"mobile_web_handoff",destination:M.x0X},{fingerprint:s,flush:!0});window.location.href=t.toString()},children:(0,r.jsx)(f.xv,{className:H().buttonText,variant:"text-sm/semibold",children:R.MOBILE_WEB_HANDOFF_BUTTON_TEXT})})]})};var $=n(318007),ee=n(506884),te=n(383689),ne=n(674945),re=n(177704),oe=n.n(re);function ie(e){var t=e.onDismiss;(0,te.Z)({type:ee.nv.MODAL,name:ee.zs.MULTI_ACCOUNT_SWITCH_LANDING});return(0,r.jsxs)(E.ZP,{className:oe().chooseAccountAuthBox,children:[(0,r.jsx)(E.Dx,{children:_.Z.Messages.SWITCH_ACCOUNTS_CHOOSE_ACCOUNT}),(0,r.jsx)(f.xv,{className:oe().chooseAccountHelpText,variant:"text-md/normal",color:"header-secondary",children:_.Z.Messages.SWITCH_ACCOUNTS_CHOOSE_ACCOUNT_HELPER}),(0,r.jsx)(ne.Z,{actionText:_.Z.Messages.SWITCH_ACCOUNTS_ACTION_LOG_IN,onAction:function(e){e===ne.W.LOGIN_REQUIRED&&t()}}),(0,r.jsx)("div",{className:oe().actions,children:(0,r.jsx)(m.Co,{className:oe().chooseAccountButton,look:m.Co.Looks.LINK,color:m.Co.Colors.PRIMARY,
onClick:t,size:m.Co.Sizes.MEDIUM,children:(0,r.jsx)(f.xv,{variant:"text-sm/normal",children:_.Z.Messages.SWITCH_ACCOUNTS_ADD_AN_ACCOUNT_BUTTON})})})]})}var ae=n(99918),se=n(614503),ce=n(363419),ue=n(324954),le=n(737949),fe=n(18700),pe=n(82961),de=n(360240),he=n(30741),ye=n(897576),me=n(560221),ve=n(882699),ge=n(742269),Ee=n(869488),_e=n(882923),be=n(101577),Oe=n(681178),Ie=n(401246),Ne=n(688087);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(){return"undefined"==typeof document||"visible"===document.visibilityState}var Ce=n(838478),xe=n(538796),je=n(832691),Re=n(40188),Pe=n(766936),we=n(441143),Le=n.n(we),Ze=n(948571);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){De(i,r,o,a,s,"next",e)}function s(e){
De(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){
if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}var Fe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function He(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Ue((function(e){var t,n;return Fe(this,(function(r){switch(r.label){case 0:Le()(null!=e.publicKey,"public key cannot be null");return[4,window.crypto.subtle.exportKey("spki",e.publicKey)];case 1:n=r.sent();return[2,btoa((t=String).fromCharCode.apply(t,Ge(new Uint8Array(n))))]}}))}))).apply(this,arguments)}function Ke(e){return ze.apply(this,arguments)}function ze(){return(ze=Ue((function(e){return Fe(this,(function(t){switch(t.label){case 0:Le()(null!=e.publicKey,"public key cannot be null")
;return[4,window.crypto.subtle.exportKey("spki",e.publicKey)];case 1:return[2,We(t.sent())]}}))}))).apply(this,arguments)}function We(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Ue((function(e){var t,n;return Fe(this,(function(r){switch(r.label){case 0:return[4,window.crypto.subtle.digest({name:"SHA-256"},e)];case 1:n=r.sent();return[2,btoa((t=String).fromCharCode.apply(t,Ge(new Uint8Array(n)))).replace(/\//g,"_").replace(/\+/g,"-").replace(/={1,2}$/,"")]}}))}))).apply(this,arguments)}function qe(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function Xe(e,t){Le()(null!=e.privateKey,"private key cannot be null");return window.crypto.subtle.decrypt({name:"RSA-OAEP",hash:"SHA-256"},e.privateKey,t)}function Qe(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Ue((function(e,t){var n,r;return Fe(this,(function(o){switch(o.label){case 0:n=new TextDecoder;return[4,Xe(e,qe(t))];case 1:r=o.sent();return[2,n.decode(r)]}}))
}))).apply(this,arguments)}function $e(e,t){return et.apply(this,arguments)}function et(){return(et=Ue((function(e,t){return Fe(this,(function(n){switch(n.label){case 0:return[4,Xe(e,qe(t))];case 1:return[2,We(n.sent())]}}))}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Ue((function(e,t){var n,r,o,i,a,s,c;return Fe(this,(function(u){switch(u.label){case 0:return[4,Qe(e,t)];case 1:t=u.sent();n=/^(\d+):(\d{4}):([a-zA-Z0-9_]+):(.*)$/;if(null==(r=t.match(n)))throw new Error("Invalid encoded user record.");o=ke(r,5),i=o[1],a=o[2],s=o[3],c=o[4];return[2,new Ze.Z({id:i,discriminator:a,avatar:"0"===s?null:s,username:c})]}}))}))).apply(this,arguments)}var rt=n(609993),ot=n(702533),it=n.n(ot);function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ct(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){st(i,r,o,a,s,"next",e)}function s(e){st(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lt,ft,pt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e[e.INITIALIZING=0]="INITIALIZING";e[e.PENDING_REMOTE_INIT=1]="PENDING_REMOTE_INIT";e[e.PENDING_FINISH=2]="PENDING_FINISH";e[e.PENDING_TICKET=3]="PENDING_TICKET";e[e.PENDING_LOGIN=4]="PENDING_LOGIN";e[e.FINISH=5]="FINISH"}(lt||(lt={}));!function(e){e[e.QR_CODE=0]="QR_CODE";e[e.CONFIRM=1]="CONFIRM"}(ft||(ft={}));var dt=n(182765),ht=new je.Z("LoginQRSocket");function yt(e){var t=ut(o.useState(0),2),n=t[0],r=t[1],i=ut(o.useState(!1),2),a=i[0],s=i[1],c=ut(o.useState({step:lt.INITIALIZING}),2),u=c[0],l=c[1],f=ut(o.useState(null),2),p=f[0],d=f[1],h=function(){var e=Se((0,o.useState)(Ae()),2),t=e[0],n=e[1];(0,o.useEffect)((function(){var e=function(){n(Ae())};window.addEventListener("visibilitychange",e)
;return function(){window.removeEventListener("visibilitychange",e)}}),[n]);return t}(),y=o.useMemo((function(){return new Oe.Z(1500,3e4)}),[]),m=o.useRef();m.current=o.useCallback((function(){l({step:lt.INITIALIZING});if(h)r((function(e){return e+1}));else{ht.info("document is not visible, will defer reconnection when document becomes visible.");s(!0)}}),[h]);var v=o.useCallback((function(){!function(e){var t=e.current;if(void 0===t)throw new Error("tried to unwrap an undefined value.");return t}(m)()}),[m]),g=o.useCallback((function(){ht.error("Could not complete QR code login, trying to restart with a new QR code.");l({step:lt.INITIALIZING});y.pending||y.fail(v)}),[v,y]);o.useEffect((function(){if(h&&a&&u.step===lt.INITIALIZING){ht.info("reconnecting, now that document is visible");s(!1);r((function(e){return e+1}))}}),[u,h,a,s]);o.useEffect((function(){var t=function(){if(null!=s)return s;throw new Error("No key pair set")
},n=Date.now(),r="wss:".concat(window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT,"/?v=2"),o=new WebSocket(r);ht.info("[0ms] connecting to ".concat(r));var i,a=function(e){return ht.info("[".concat("".concat(Date.now()-n,"ms"),"] ").concat(e))},s=null,c=null,u=null,f=null,p=!0,h=function(){if(p){p=!1;o.send(JSON.stringify({op:"heartbeat"}))}else{a("heartbeat timeout, reconnecting.");o.close();g()}};o.onmessage=(i=ct((function(n){var r,i,s,c,d,m,E,_,b,O,I,N,T;return pt(this,(function(S){switch(S.label){case 0:r=n.data;switch((i=JSON.parse(r)).op){case"nonce_proof":return[3,1];case"pending_remote_init":return[3,3];case"pending_login":return[3,5];case"pending_ticket":return[3,6];case"pending_finish":return[3,8];case"finish":return[3,10];case"cancel":return[3,12];case"hello":return[3,13];case"heartbeat_ack":return[3,14]}return[3,15];case 1:s=i.encrypted_nonce;return[4,$e(t(),s)];case 2:c=S.sent();a("computed nonce proof");o.send(JSON.stringify({op:"nonce_proof",proof:c}));return[2];case 3:y.succeed()
;ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);return[4,Ke(t())];case 4:if((d=S.sent())!==i.fingerprint)throw new Error("bad fingerprint ".concat(d," !== ").concat(i.fingerprint));a("handshake complete awaiting remote auth.");l({step:lt.PENDING_REMOTE_INIT,fingerprint:d});return[2];case 5:null==(m=i.ticket)&&g();l({step:lt.PENDING_LOGIN,ticket:m});return[2];case 6:ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);a("remote auth handshake started, awaiting ticket/cancel.");E=i.encrypted_user_payload;return[4,tt(t(),E)];case 7:_=S.sent();l({step:lt.PENDING_TICKET,user:_});return[2];case 8:ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);a("remote auth handshake started, awaiting finish/cancel.");b=i.encrypted_user_payload;return[4,tt(t(),b)];case 9:O=S.sent();l({step:lt.PENDING_FINISH,user:O});return[2];case 10:ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);a("remote auth handshake finished.");I=i.encrypted_token;l({step:lt.FINISH});return[4,Qe(t(),I)];case 11:N=S.sent();e(N);return[2];case 12:a("remote auth handshake cancelled.");v()
;return[2];case 13:a("got hello, auth timeout=".concat(i.timeout_ms,"ms"));T=i.heartbeat_interval;f=setTimeout((function(){f=null;h();u=setInterval(h,T)}),Math.floor(T*Math.random()));return[2];case 14:p=!0;S.label=15;case 15:return[2]}}))})),function(e){return i.apply(this,arguments)});o.onopen=ct((function(){var e;return pt(this,(function(t){switch(t.label){case 0:return[4,window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"])];case 1:return[4,He(s=t.sent())];case 2:c=t.sent();return[4,Ke(s)];case 3:e=t.sent();a("connected, handshaking with fingerprint: ".concat(e));o.send(JSON.stringify({op:"init",encoded_public_key:c}));d(s);return[2]}}))}));o.onclose=function(e){a("disconnected, code: ".concat(e.code," ").concat(e.reason));g()};o.onerror=function(e){a("disconnected, error: ".concat(JSON.stringify(e)));g()};return function(){a("cleaning up");o.onopen=function(){return null};o.onmessage=function(){
return null};o.onclose=function(){return null};o.onerror=function(){return null};o.close(1e3);y.cancel();null!=f&&clearTimeout(f);null!=u&&clearInterval(u)}}),[v,e,n,y,g]);return{state:u,rsaKeyPair:p,cancel:v,handleFailure:g}}function mt(e){var t=e.text,n=void 0===t?"":t,i=dt,a=ut(o.useState(!1),2),s=a[0],c=a[1];o.useEffect((function(){var e=new Image;e.src=i;e.onload=function(){return c(!0)};e.onerror=function(){return c(!0)}}),[i]);o.useEffect((function(){s&&Ce.Z.announce(_.Z.Messages.LOGIN_WITH_QR_LOADING_FINISHED_LABEL)}),[s]);return(0,r.jsx)("div",{className:it().qrCodeContainer,children:""!==n&&s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ie.Z,{className:it().qrCode,width:160,height:160,text:n}),(0,r.jsx)("div",{className:it().qrCodeOverlay,children:(0,r.jsx)("img",{src:i,alt:""})})]}):(0,r.jsx)("div",{className:it().qrCodeOverlay,"aria-label":_.Z.Messages.LOGIN_WITH_QR_LOADING_LABEL,"aria-busy":!0,children:(0,r.jsx)(pe.Z,{className:it().qrCode,type:pe.Z.Type.WANDERING_CUBES,
"aria-hidden":!0})})})}var vt=function(e){var t=e.className,n=e.children;return(0,r.jsx)(f.xv,{variant:"text-md/normal",color:"text-danger",className:t,children:n})};function gt(e){var t=e.state,n=e.cancel,o=e.errorMessage;switch(t.step){case lt.INITIALIZING:case lt.PENDING_REMOTE_INIT:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(mt,{text:t.step===lt.PENDING_REMOTE_INIT?"https://cordcord.com/ra/".concat(t.fingerprint):""}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.LOGIN_WITH_QR}),null!=o?(0,r.jsx)(vt,{children:o}):(0,r.jsx)(E.DK,{children:_.Z.Messages.LOGIN_WITH_QR_DESCRIPTION.format()})]});case lt.PENDING_TICKET:case lt.PENDING_FINISH:var i=t.user;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ne.Z,{className:it().qrAvatar,user:i,size:Pe.ZP.Sizes.SIZE_120,isMobile:!0,status:rt.Sk.ONLINE}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.CONFIRM_QR_CHECK_YOUR_PHONE}),(0,r.jsx)(E.DK,{children:_.Z.Messages.LOGIN_AS.format({
username:"".concat(i.username,"#").concat(i.discriminator)})}),(0,r.jsx)(m.Co,{look:m.Co.Looks.BLANK,color:m.Co.Colors.LINK,size:m.Co.Sizes.MIN,onClick:n,className:it().startOverButton,children:_.Z.Messages.QR_CODE_LOGIN_START_OVER})]});case lt.PENDING_LOGIN:case lt.FINISH:return(0,r.jsx)(pe.Z,{type:pe.Z.Type.WANDERING_CUBES})}}function Et(e){var t=e.authTokenCallback,i=yt(t),a=i.state,s=i.rsaKeyPair,c=i.cancel,u=i.handleFailure,l=ut(o.useState({}),2),f=l[0],p=l[1],d=function(e){switch(e){case lt.INITIALIZING:case lt.PENDING_REMOTE_INIT:return ft.QR_CODE;case lt.PENDING_TICKET:case lt.PENDING_FINISH:case lt.PENDING_LOGIN:case lt.FINISH:return ft.CONFIRM}}(a.step),h=ut(o.useState(null),2),y=h[0],m=h[1];a.step===lt.INITIALIZING&&Object.keys(f).length>0&&p({});o.useEffect((function(){a.step===lt.PENDING_LOGIN&&null!=a.ticket&&x.Z.post({url:M.ANM.REMOTE_AUTH_LOGIN,body:{ticket:a.ticket,captcha_key:null==f?void 0:f.captcha_key,captcha_rqtoken:null==f?void 0:f.captcha_rqtoken},
oldFormErrors:!0}).then((e=ct((function(e){var n;return pt(this,(function(r){switch(r.label){case 0:if(null==s)return[3,5];r.label=1;case 1:r.trys.push([1,3,,4]);return[4,Qe(s,e.body.encrypted_token)];case 2:n=r.sent();t(n);return[3,4];case 3:r.sent();u();return[3,4];case 4:return[3,6];case 5:u();r.label=6;case 6:return[2]}}))})),function(t){return e.apply(this,arguments)})).catch((function(e){var t;if(null!=(null===(t=e.body)||void 0===t?void 0:t.captcha_key)){if(Array.isArray(e.body.captcha_key)&&e.body.captcha_key.includes("invalid-response")){m(_.Z.Messages.LOGIN_WITH_QR_ERROR_SUBTITLE);u();return}n.e(41704).then(n.bind(n,141704)).then((function(t){t.default.showCaptchaAsync((0,xe.z)(e.body)).then((function(e){p(e)})).catch((function(e){return u()}))}))}else u()}));var e}),[a,f,t,s,u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:it().verticalSeparator}),(0,r.jsx)(Re.Z,{fillParent:!0,className:it().qrLogin,step:d,steps:[ft.QR_CODE,ft.CONFIRM],children:(0,
r.jsx)("div",{className:it().qrLoginInner,children:(0,r.jsx)(gt,{state:a,cancel:c,errorMessage:y})})})]})}var _t=n(969376),bt=n(971994),Ot=n.n(bt);function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function St(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tt(i,r,o,a,s,"next",e)}function s(e){Tt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xt(e){
xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xt(e)}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ct(e,t,n[t])}))}return e}function Rt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pt(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?Nt(e):t}function wt(e,t){
wt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wt(e,t)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zt=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pt(this,n)}}var Dt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ut(){return(0,r.jsx)(E.ZP,{children:(0,r.jsx)(pe.Z,{})})}function kt(e){var t=e.authBoxClassName,a=e.loginStatus,s=e.handleReset,c=Lt(o.useState(!1),2),u=c[0],l=c[1];return(0,r.jsxs)(E.ZP,{className:t,children:[(0,r.jsx)("img",{alt:"",src:n(148267),className:N().marginBottom20}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.TWO_FA}),(0,r.jsx)(E.DK,{
children:_.Z.Messages.TWO_FA_WEBAUTHN_BODY}),(0,r.jsxs)(E.gO,{className:N().marginTop40,children:[(0,r.jsx)(E.zx,{submitting:u||a===M.u34.LOGGING_IN_MFA_WEBAUTHN,onClick:function(){l(!0);var e=P.default.getWebAuthnChallenge();null!=e?i.U2(JSON.parse(e)).then((function(e){l(!1);d.Z.loginMFA({code:JSON.stringify(e),ticket:P.default.getMFATicket(),isWebAuthn:!0});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)})).catch((function(e){l(!1);p.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:e.message})})):p.Z.dispatch({type:"LOGIN_MFA_WEBAUTHN_TO_TOTP"})},children:_.Z.Messages.TWO_FA_WEBAUTHN_ACTION}),(0,r.jsx)(E.zx,{look:E.zx.Looks.OUTLINED,className:N().marginTop8,disabled:a===M.u34.LOGGING_IN_MFA_WEBAUTHN,onClick:function(){p.Z.dispatch({type:"LOGIN_MFA_WEBAUTHN_TO_TOTP"})},children:_.Z.Messages.TWO_FA_WEBAUTHN_SWITCH_TOTP}),(0,r.jsx)(E.zx,{look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:N().marginTop8,onClick:s,children:_.Z.Messages.TWO_FA_LOGIN_FOOTER})]})]})}var Gt=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&wt(e,t)}(o,e);var t=Mt(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n,i,a=Nt(n=t.call(this,e));n.handleAuthToken=(i=St((function(e){return Dt(this,(function(t){switch(t.label){case 0:return[4,d.Z.loginToken(e,!1)];case 1:t.sent();w.default.track(M.rMx.LOGIN_SUCCESSFUL,{source:M.uRl.QR_CODE,login_source:a.loginSource,gift_code_sku_id:a.giftCodeSKUId,is_new_user:!1});return[2]}}))})),function(e){return i.apply(this,arguments)});n.setLoginRef=function(e){n.loginRef=e};n.setPasswordRef=function(e){n.passwordRef=e};n.setCodeRef=function(e){n.codeRef=e};n.getFullLogin=function(){var e=n.state;return e.loginPrefix+e.login};n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e]
;return Array.isArray(r)?r[0]:r}return null};n.handleLogin=function(e){var t=n.state,r=t.password,o=t.captchaKey,i=t.undelete;null!=e&&e.preventDefault();n.setState({captchaCallback:n.handleLogin,captchaKey:null});d.Z.login({login:n.getFullLogin(),password:r,undelete:i,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId,invite:n.props.invite});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)};var s=Nt(n);n.handleIPAuthorize=function(){var e=St((function(e){var t,n,r,o,i,a,c;return Dt(this,(function(u){switch(u.label){case 0:t=s.state,n=t.password,r=t.captchaKey,o=t.undelete;s.setState({phoneVerifyError:null,captchaKey:null});i=s.getFullLogin();u.label=1;case 1:u.trys.push([1,4,,5]);return[4,ae.Z.verifyPhone(i,e,!1)];case 2:a=u.sent().token;return[4,d.Z.authorizeIPAddress(a)];case 3:u.sent();d.Z.login({login:i,password:n,undelete:o,captchaKey:r,source:s.loginSource,giftCodeSKUId:s.giftCodeSKUId});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);return[3,5];case 4:
null!=(c=u.sent()).body&&null!=c.body.message&&s.setState({phoneVerifyError:c.body.message});return[3,5];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var l=Nt(n);n.handlePasswordReset=function(){var e=St((function(e){var t,n,r;return Dt(this,(function(o){switch(o.label){case 0:t=l.props.transitionTo;l.setState({phoneVerifyError:null});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,ae.Z.verifyPhone(l.getFullLogin(),e,!1)];case 2:n=o.sent().token;t(M.Z5c.RESET,{search:(0,c.stringify)({token:n,from_login:"true"})});return[3,4];case 3:null!=(r=o.sent()).body&&null!=r.body.message&&l.setState({phoneVerifyError:r.body.message});return[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault();d.Z.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)}
;n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault();d.Z.loginSMS({code:t.replace(/ /g,""),ticket:r});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)};n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault();d.Z.requestSMSToken(t);ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)};var p=Nt(n);n.handleForgotPassword=function(){var e=St((function(e){var t,n;return Dt(this,(function(o){switch(o.label){case 0:null!=e&&e.preventDefault();null!=p.loginRef&&p.loginRef.focus();t=p.getFullLogin();n=p.state.captchaKey;p.setState({captchaCallback:p.handleForgotPassword,captchaKey:null});o.label=1;case 1:o.trys.push([1,3,,4]);ve.S.dispatch(M.CkL.WAVE_EMPHASIZE);return[4,d.Z.forgotPassword(t,n)];case 2:o.sent();(0,ye.h7)((function(e){return(0,r.jsx)(he.default,Rt(jt({header:_.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:_.Z.Messages.OKAY,confirmButtonColor:E.zx.Colors.BRAND,className:u.tq?Ot().mobile:""},e),{children:(0,
r.jsx)(f.xv,{variant:"text-md/normal",children:_.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:t})})}))}));return[3,4];case 3:o.sent();return[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handleResendCode=function(){ae.Z.resendCode(n.getFullLogin())};n.handleReset=function(e){null!=e&&e.preventDefault();d.Z.loginReset();n.setState({password:"",loginPrefix:"",login:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1,redirecting:!1})};n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)};n.handleCaptchaVerify=function(e){var t=n.state.captchaCallback;n.setState({captchaKey:e},t)};n.handleGotoRegister=function(){var e,t=n.state.login,r=n.props,o=r.invite,i=r.giftCode,a=r.guildTemplate,s=r.location,u=r.transitionTo,l=r.redirectTo,f=null!=s?(0,c.parse)(s.search):{};""!==t&&(f.email=t);if(null!=o){f.mode="register";e=M.Z5c.INVITE(o.code)}else if(null!=i){f.mode="register"
;e=M.Z5c.GIFT_CODE(i.code)}else if(null!=a)e=M.Z5c.GUILD_TEMPLATE(a.code);else if(null!=l){e=M.Z5c.REGISTER;f.redirect_to=l}else e=M.Z5c.REGISTER;d.Z.loginReset();u(e,{search:(0,c.stringify)(f)});ve.S.dispatch(M.CkL.WAVE_EMPHASIZE)};var h,y,m=null!=e.location?(0,c.parse)(e.location.search):{};n.state={redirecting:e.authenticated,checkingHandoff:e.handoffAvailable,loginPrefix:"",login:null!==(y=null!==(h=m.email)&&void 0!==h?h:m.login)&&void 0!==y?y:"",password:"",code:"",smsCode:"",captchaKey:null,captchaCallback:n.handleLogin,undelete:!1,phoneVerifyError:null,dismissedChooseAccount:!1};return n}var i=o.prototype;i.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,o=e.invite,i=e.location;t&&!n?(0,h.is)():n&&this.loginOrSSO(n,i,!0);w.default.track(M.rMx.LOGIN_VIEWED,jt({location:null!=o?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource,authenticated:n},null!=r?(0,S.Z)(r,!1,!1):{}),{flush:!0})
;d.Z.getLocationMetadata();(0,ue.e)("login")};i.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,o=this.state.checkingHandoff;!n||e.authenticated||o||this.loginOrSSO(n,r);if(e.errors!==this.props.errors)if(this.hasError("password")){var i;null===(i=this.passwordRef)||void 0===i||i.focus()}else if(this.hasError("email")||this.hasError("login")){var a;null===(a=this.loginRef)||void 0===a||a.focus()}else if(this.hasError("code")){var s;null===(s=this.codeRef)||void 0===s||s.focus()}};i.loginOrSSO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;if(e&&null!=t){this.setState({redirecting:!0});n?d.Z.verifySSOToken().then((function(){return r.transitionSSO(t)})):this.transitionSSO(t)}};i.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo,o=t.replaceWith,i=null!=e?(0,c.parse)(e.search):{};delete i.redirect_to;if(null!=r)null!=o?o(r):n(r);else if(null==i.service)n(M.Z5c.APP);else{
var a=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+M.ANM.SSO,s=Rt(jt({},i),{token:P.default.getToken()});window.location="".concat(a,"?").concat((0,c.stringify)(s))}};i.hasError=function(e){return null!=this.props.errors[e]};i.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return(0,r.jsxs)(E.ZP,{className:e,children:[(0,r.jsx)(E.Hh,{}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.BROWSER_HANDOFF_DETECTING_TITLE}),(0,r.jsx)(E.DK,{children:_.Z.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION})]})};i.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,o=e.authBoxClassName;return null==t?null:(0,r.jsxs)(E.ZP,{className:o,children:[(0,r.jsx)(E.qE,{src:t.getAvatarURL(void 0,100),size:E.qE.Sizes.DEPRECATED_SIZE_100,className:N().marginBottom20}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})}),(0,r.jsx)(E.DK,{className:N().marginBottom40,
children:_.Z.Messages._BROWSER_HANDOFF_SUCCESS_BODY}),(0,r.jsxs)(E.gO,{children:[(0,r.jsx)(E.zx,{onClick:function(){return n(M.Z5c.APP)},className:N().marginBottom8,children:_.Z.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})}),(0,r.jsx)(E.zx,{look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,onClick:this.handleReset,children:_.Z.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL})]})]})};i.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===M.u34.ACCOUNT_DISABLED,n=t?_.Z.Messages.ACCOUNT_DISABLED_TITLE:_.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,o=t?_.Z.Messages.ACCOUNT_DISABLED_DESCRIPTION:_.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return(0,r.jsx)(E.ZP,{tag:"form",onSubmit:this.handleReset,className:e,children:(0,r.jsxs)(f.y5,{component:(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:n}),children:[(0,r.jsx)(E.DK,{className:N().marginBottom20,children:o}),(0,r.jsxs)(E.gO,{children:[(0,r.jsx)(E.zx,{
color:E.zx.Colors.BRAND,type:"submit",children:_.Z.Messages._RETURN_TO_LOGIN}),(0,r.jsx)("div",{className:s()(N().marginTop8,Ot().needAccount),children:_.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion})})]})]})})};i.renderResolving=function(){var e=this,t=this.props,n=t.authBoxClassName,o=t.country;return(0,r.jsxs)(E.ZP,{className:n,children:[(0,r.jsx)(be.R,{}),(0,r.jsxs)(E.gO,{className:N().marginTop20,children:[(0,r.jsx)(ce.Z,{className:N().marginBottom20,alpha2:o.alpha2,countryCode:o.code.split(" ")[0],label:_.Z.Messages.FORM_LABEL_EMAIL_OR_PHONE_NUMBER,onChange:function(t,n){return e.setState({login:t,loginPrefix:n})},setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!0,required:!0}),(0,r.jsx)(E.II,{className:N().marginBottom20,label:_.Z.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",
setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password,required:!0}),(0,r.jsx)(E.zx,{className:N().marginBottom8,type:"submit",disabled:!0,children:_.Z.Messages._LOGIN}),(0,r.jsx)(E.zx,{disabled:!0,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:_.Z.Messages.FORGOT_PASSWORD}),(0,r.jsx)(E.zx,{disabled:!0,className:N().marginTop4,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:_.Z.Messages.NEED_ACCOUNT})]})]})};i.renderDefaultForm=function(e){var t,n,o=this,i=this.props,a=i.invite,c=i.giftCode,u=i.loginStatus,l=i.country,p=i.showMobileWebHandoff,d=i.disableAutofocusOnDefaultForm,h=!this.hasError("email")&&this.hasError("password"),y=null!=(null==a?void 0:a.stage_instance);t=null==a||y?null!=c?(0,r.jsx)(_e.Z,{giftCode:c}):(0,r.jsxs)("div",{className:Ot().header,children:[(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.LOGIN_TITLE},"title"),!1===(0,ge.eL)()?(0,r.jsx)(E.DK,{children:_.Z.Messages.AUTH_LOGIN_BODY
},"subtitle"):null]}):(0,r.jsx)(be.Z,{invite:a});return(0,r.jsxs)(g.Z,{direction:g.Z.Direction.HORIZONTAL,align:g.Z.Align.CENTER,children:[(0,r.jsxs)("div",{className:Ot().mainLoginContainer,children:[this.canShowChooseAccount&&this.state.dismissedChooseAccount&&(0,r.jsx)(E.zx,{onClick:function(){o.setState((function(e){return Rt(jt({},e),{dismissedChooseAccount:!1})}))},look:E.zx.Looks.LINK,color:E.zx.Colors.PRIMARY,className:Ot().goBackButton,children:(0,r.jsxs)("div",{className:Ot().content,children:[(0,r.jsx)(de.Z,{width:16,height:16,className:Ot().caret}),(0,r.jsx)(f.xv,{variant:"text-md/normal",children:_.Z.Messages.AGE_GATE_GO_BACK})]})}),t,(0,r.jsx)(f.y5,{children:(0,r.jsxs)(E.gO,{className:N().marginTop20,children:[(0,r.jsx)(ce.Z,{alpha2:l.alpha2,countryCode:l.code.split(" ")[0],className:N().marginBottom20,label:_.Z.Messages.FORM_LABEL_EMAIL_OR_PHONE_NUMBER,error:null!==(n=this.renderError("login"))&&void 0!==n?n:this.renderError("email"),onChange:function(e,t){
return o.setState({login:e,loginPrefix:t})},setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!h&&!p&&!d,required:!0}),(0,r.jsx)(E.II,{label:_.Z.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return o.setState({password:e})},name:"password",type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:h&&!p&&!d,value:this.state.password,required:!0}),(0,r.jsx)(E.zx,{onClick:this.handleForgotPassword,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:s()(N().marginBottom20,N().marginTop4),children:_.Z.Messages.FORGOT_PASSWORD}),(0,r.jsx)(E.zx,{type:"submit",submitting:u===M.u34.LOGGING_IN,color:y?E.zx.Colors.GREEN:E.zx.Colors.BRAND,className:N().marginBottom8,children:y?_.Z.Messages._LOGIN_STAGE:_.Z.Messages._LOGIN}),(0,r.jsxs)("div",{className:N().marginTop4,children:[(0,r.jsx)("span",{className:Ot().needAccount,
children:_.Z.Messages.NEED_ACCOUNT}),(0,r.jsx)(E.zx,{onClick:this.handleGotoRegister,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:Ot().smallRegisterLink,children:_.Z.Messages.REGISTER})]})]})})]}),(0,r.jsx)(f.y5,{children:e?(0,r.jsx)(Et,{authTokenCallback:this.handleAuthToken}):null})]},"form-wrapper")};i.renderDefault=function(){var e=this.props,t=e.authBoxClassName,n=e.showMobileWebHandoff;return(0,r.jsxs)("div",{className:Ot().pageContainer,children:[(0,r.jsx)(E.ZP,{onSubmit:this.handleLogin,tag:"form",className:t,expanded:!0,children:this.renderDefaultForm(!0)}),n&&(0,r.jsx)(J,{})]})};i.renderGuildTemplate=function(e){var t=this;return(0,r.jsx)(_t.Z,{onSubmit:this.handleLogin,tag:"form",className:s()(this.props.authBoxClassName,Ot().horizontalAuthBox),children:function(){return[(0,r.jsx)(A.Z,{guildTemplate:e},"template"),t.renderDefaultForm(!1)]}})};i.renderMFA=function(){var e=this,t=this.props,o=t.loginStatus,i=t.mfaSMS,a=t.authBoxClassName;return(0,r.jsxs)(E.ZP,{
onSubmit:this.handleTokenSubmit,tag:"form",className:a,children:[(0,r.jsx)("img",{alt:"",src:n(148267),className:N().marginBottom20}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.TWO_FA}),(0,r.jsx)(E.DK,{children:_.Z.Messages.TWO_FA_ENTER_TOKEN_BODY}),(0,r.jsxs)(E.gO,{className:N().marginTop40,children:[(0,r.jsx)(E.II,{className:N().marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"one-time-code",placeholder:_.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:_.Z.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code,required:!0},"totpCode"),(0,r.jsx)(E.zx,{type:"submit",submitting:o===M.u34.LOGGING_IN_MFA,children:_.Z.Messages._LOGIN}),i?(0,r.jsx)(E.zx,{onClick:this.handleToggleSMSLogin,submitting:o===M.u34.LOGGING_IN_MFA_SMS,className:N().marginTop8,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:_.Z.Messages.MFA_SMS_RECEIVE_CODE}):null,(0,
r.jsx)(E.zx,{look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:N().marginTop4,onClick:this.handleReset,children:_.Z.Messages._TWO_FA_LOGIN_FOOTER})]})]})};i.renderMFASMS=function(){var e=this,t=this.props,o=t.loginStatus,i=t.maskedPhone,a=t.authBoxClassName,s=o===M.u34.LOGGING_IN_MFA_SMS||""===i;return(0,r.jsxs)(E.ZP,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:a,children:[(0,r.jsx)("img",{alt:"",src:n(148267),className:N().marginBottom20}),(0,r.jsx)(E.Dx,{className:N().marginBottom8,children:_.Z.Messages.TWO_FA}),(0,r.jsx)(E.DK,{className:N().marginBottom8,children:s?_.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:_.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:i})}),(0,r.jsxs)(E.gO,{className:N().marginTop40,children:[(0,r.jsx)(E.II,{className:N().marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:_.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,
autoFocus:!0,label:_.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode,required:!0},"smsCode"),(0,r.jsx)(E.zx,{type:"submit",submitting:s,color:s?E.zx.Colors.TRANSPARENT:E.zx.Colors.BRAND,children:_.Z.Messages._LOGIN}),s?null:(0,r.jsx)(E.zx,{onClick:this.handleToggleSMSLogin,className:N().marginTop8,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:_.Z.Messages.MFA_SMS_RESEND}),(0,r.jsx)(E.zx,{look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:N().marginTop4,onClick:this.handleReset,children:_.Z.Messages._TWO_FA_LOGIN_FOOTER})]})]})};i.renderMFAWebAuthn=function(){var e=this.props,t=e.authBoxClassName,n=e.loginStatus;return(0,r.jsx)(kt,{authBoxClassName:t,loginStatus:n,handleReset:this.handleReset})};i.renderIPAuthorization=function(){var e=this.props.authBoxClassName,t=this.state.phoneVerifyError;return(0,r.jsx)(E.ZP,{tag:"form",className:e,children:(0,r.jsx)(T,{title:_.Z.Messages.PHONE_IP_AUTHORIZATION_TITLE,
subtitle:_.Z.Messages.PHONE_IP_AUTHORIZATION_SUBTITLE_RESEND.format({onResendClick:this.handleResendCode}),error:t,onSubmit:this.handleIPAuthorize,onCancel:d.Z.loginReset})})};i.renderPasswordRecovery=function(){var e=this.props.authBoxClassName,t=this.state.phoneVerifyError;return(0,r.jsx)(E.ZP,{tag:"form",className:e,children:(0,r.jsx)(T,{title:_.Z.Messages.PASSWORD_RECOVERY_VERIFY_PHONE_TITLE,subtitle:_.Z.Messages.PASSWORD_RECOVERY_VERIFY_PHONE_SUBTITLE_RESEND.format({onResendClick:this.handleResendCode}),error:t,onSubmit:this.handlePasswordReset,onCancel:d.Z.loginReset})})};i.renderChooseAccount=function(){var e=this;return(0,r.jsx)(ie,{onDismiss:function(){e.setState((function(e){return Rt(jt({},e),{dismissedChooseAccount:!0})}))}})};i.render=function(){var e=this.props,t=e.authenticated,n=e.invite,o=e.guildTemplate,i=e.loginStatus,a=e.handoffAvailable,s=e.authBoxClassName,c=e.errors,u=this.state,l=u.checkingHandoff;if(u.redirecting||l)return(0,r.jsx)(Ut,{})
;if(this.hasError("captcha_key"))return(0,r.jsx)(Ee.Z,{authBoxClassName:s,onVerify:this.handleCaptchaVerify,title:_.Z.Messages.LOGIN_TITLE,sitekey:c.captcha_sitekey,captchaService:(0,me.B)(c.captcha_service)});if(a)return this.renderHandOffAvailable();if(t&&l)return this.renderHandOffContinue();switch(i){case M.u34.LOGGING_IN_MFA_SMS:case M.u34.MFA_SMS_STEP:return this.renderMFASMS();case M.u34.LOGGING_IN_MFA:case M.u34.MFA_STEP:return this.renderMFA();case M.u34.MFA_WEBAUTHN_STEP:case M.u34.LOGGING_IN_MFA_WEBAUTHN:return this.renderMFAWebAuthn();case M.u34.ACCOUNT_SCHEDULED_FOR_DELETION:case M.u34.ACCOUNT_DISABLED:return this.renderDisabledAccount();case M.u34.PHONE_IP_AUTHORIZATION:return this.renderIPAuthorization();case M.u34.PASSWORD_RECOVERY_PHONE_VERIFICATION:return this.renderPasswordRecovery();case M.u34.LOGGING_IN:case M.u34.NONE:default:
return null!=n&&n.state===M.r2o.RESOLVING?this.renderResolving():null!=o?o.state===M.r2o.RESOLVING?this.renderResolving():this.renderGuildTemplate(o):this.canShowChooseAccount&&!this.state.dismissedChooseAccount?this.renderChooseAccount():this.renderDefault()}};o.getDerivedStateFromProps=function(e){var t=e.handoffAvailable,n=e.authenticated;return t||n?null:{checkingHandoff:!1}};!function(e,t,n){t&&At(e.prototype,t);n&&At(e,n)}(o,[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite,o=e.loginSource,i=e.redirectTo;if(null!=o)return o;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite";if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null!=i?(0,y.L)(i):null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}},{key:"canShowChooseAccount",get:function(){return this.props.hasLoggedInAccounts}}]);return o
}(o.PureComponent);Gt.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Bt=function(e){var t=(0,l.cj)([le.Z,fe.Z,P.default,$.Z,se.Z],(function(){return{authenticated:P.default.isAuthenticated(),handoffAvailable:le.Z.isHandoffAvailable(),user:le.Z.user,loginStatus:P.default.getLoginStatus(),mfaTicket:P.default.getMFATicket(),mfaSMS:P.default.getMFASMS(),maskedPhone:P.default.getMaskedPhone(),errors:P.default.getErrors(),defaultRoute:fe.Z.defaultRoute,country:se.Z.getCountryCode(),hasLoggedInAccounts:$.Z.getHasLoggedInAccounts()}}));return(0,r.jsx)(Gt,jt({},e,t))}},489898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(785893),o=n(667294),i=n(517563),a=n(751615),s=n(791462),c=n(822567),u=n(476575),l=n(584268),f=n(655695),p=n(631134),d=n(989434),h=n(461061),y=n(35236);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var t=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.handoffSource;(0,u.Yz)({handoffKey:t,handoffToken:n,handoffSource:r});S(!1)},n=o.useCallback((function(t){if(function(e){var t,n=(0,a.LX)(e,{path:h.Z5c.CHANNEL(":guildId",":channelId")});return(null==n||null===(t=n.params)||void 0===t?void 0:t.channelId)===y.oC.ROLE_SUBSCRIPTIONS}(t))f.dL(t);else{var n;(null!==(n=e.transitionTo)&&void 0!==n?n:f.uL)(t)}}),[e.transitionTo]),m=(0,s.cj)([p.default],(function(){return{isAuthenticated:p.default.isAuthenticated(),loginStatus:p.default.getLoginStatus()}
})),_=m.isAuthenticated,b=m.loginStatus,O=e.location,I=e.redirectTo,N=E(o.useState(_),2),T=N[0],S=N[1];o.useEffect((function(){if(null!=O){var e=(0,i.parse)(O.search),n=e.handoff_key,r=e.handoff_token;if(null!=n&&null!=r){var o=null!=I?(0,l.L)(I):void 0;T?c.Z.logout(null).finally((function(){t({handoffKey:n,handoffToken:r,handoffSource:o})})):t({handoffKey:n,handoffToken:r,handoffSource:o})}}}),[]);return T||b===h.u34.LOGGING_IN?(0,r.jsx)(d.q,{}):(0,r.jsx)(d.Z,g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},e),{transitionTo:n}))}},969376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(908570),s=n(361796),c=n.n(s);function u(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){
var t=e.children,n=e.className,o=f(e,["children","className"]),s=t();return(0,r.jsx)(a.ZP,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},o),{className:i()(n,c().container),contentClassName:c().content,children:s.map((function(e,t){return(0,r.jsx)("div",{className:c().column,style:{flexBasis:"".concat(100/s.length,"%")},children:e},t)}))}))}},668800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(517563),c=n(506884),u=n(791462),l=n(365523),f=n(489992),p=n(822567),d=n(348855),h=n(655695),y=n(191940),m=n(908570),v=n(95467),g=n(461061),E=n(959797),_=n(478602),b=n.n(_),O=function(){return(0,h.uL)(g.Z5c.LOGIN)};const I=function(e){
var t=e.authBoxClassName,o=e.underageMessage;return(0,r.jsxs)(m.ZP,{className:t,children:[(0,r.jsx)("img",{alt:"",src:n(697694),className:b().img}),(0,r.jsx)(m.Dx,{className:b().title,children:E.Z.Messages.AGE_GATE_UNDERAGE_HEADER}),(0,r.jsx)(m.DK,{className:b().subtitle,children:E.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=o?o:E.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:v.Z.getArticleURL(g.BhN.AGE_GATE)})}),(0,r.jsx)(y.Co,{fullWidth:!0,onClick:O,children:E.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})]})};var N=n(65440),T=n(383689),S=n(682);const A=(0,n(553494).B)({kind:"user",id:"2022-04_registration_copy_updates",label:"Registration Copy Updates",defaultConfig:{enableNewCopy:!1,hasCopyAboveButton:!1,hasProminentCopy:!1},treatments:[{id:1,label:"Continue / Copy Above Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!0}},{id:2,label:"Continue / Copy Below Button / High Prominence Copy",config:{
enableNewCopy:!0,hasCopyAboveButton:!1,hasProminentCopy:!0}},{id:3,label:"Continue / Copy Above Button / Normal Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!1}}]});var C=n(730381),x=n.n(C),j=n(173436),R=n(55690),P=n(683801),w=n(631134),L=n(932847),Z=n(666492),M=n(643830);function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G(e){var t=e.invite,n=void 0===t?null:t,r=e.giftCodeSKUId,o=void 0===r?null:r,i=e.captchaKey,a=void 0===i?null:i;return B(U(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}({},k(e,["invite","giftCodeSKUId","captchaKey"])),{invite:n,giftCodeSKUId:o,captchaKey:a}))}function B(e){
var t=e.email,n=e.phoneToken,r=e.username,o=e.consent,i=e.password,a=e.guildTemplateCode,s=e.birthday,u=e.invite,l=void 0===u?null:u,f=e.giftCodeSKUId,p=void 0===f?null:f,d=e.captchaKey,h=void 0===d?null:d,y=e.multiStep,m=void 0!==y&&y,v=e.promoEmailConsent,E=void 0===v?null:v;j.Z.dispatch({type:"REGISTER",birthday:m?s:null});if(null!=s){(0,M.Z)(s,g.jXE.REGISTER);!function(e){var t=x()().diff(e,"years");if(!(t<13)){var n;n=t>=13&&t<=17?"13-17":t>=18&&t<=22?"18-22":"23+";L.default.track(g.rMx.USER_AGE_SUBMITTED,{age_bucket:n})}}(s)}return Z.Z.post({url:g.ANM.REGISTER,body:{fingerprint:w.default.getFingerprint(),email:t,username:r,password:i,invite:l,consent:o,phone_token:n,date_of_birth:null==s?void 0:s.format("YYYY-MM-DD"),gift_code_sku_id:p,guild_template_code:a,captcha_key:h,promotional_email_opt_in:null==E?void 0:E.checked},trackedActionData:{event:c.a9.USER_REGISTER,properties:{invite_code:l,promotional_email_opt_in:null==E?void 0:E.checked,
promotional_email_pre_checked:null==E?void 0:E.preChecked}}}).then((function(e){j.Z.dispatch({type:"REGISTER_SUCCESS",token:e.body.token})}),(function(e){var t=new R.Z(e);j.Z.dispatch({type:"REGISTER_FAILURE",error:t});null!=t.getFieldErrors("date_of_birth")&&P.wE();throw e}))}var F=n(146530),H=n(487502),V=n(472499),K=n.n(V),z=n(380203),W=n.n(z);function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q(e){var t=e.value,n=e.onChange,o=e.subText,i=e.muted,s=e.marginTopStyle;return(0,r.jsx)(H.Z,{className:null!=s?s:W().marginTop20,align:H.Z.Align.CENTER,children:(0,r.jsx)(F.Z,{value:t,type:F.Z.Types.INVERTED,onChange:function(e,t){return n(t)},className:K().checkbox,children:(0,r.jsx)(m.i_,{className:a()(Y({},K().subText,!i)),children:o})})})}var X=n(355184);function Q(){var e=(0,S.MD)(),t=e.required,n=e.checked;return t?(0,r.jsx)(q,{value:n,subText:E.Z.Messages.PROMOTIONAL_EMAIL_OPT_IN_CONSENT,onChange:S.ZJ,
marginTopStyle:W().marginTop8,muted:!0}):null}var J=n(361963),$=n(588641);function ee(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ee(i,r,o,a,s,"next",e)}function s(e){ee(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function re(e){return oe.apply(this,arguments)}function oe(){return(oe=te((function(e){return ne(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,$.default.getSetting("USERNAME_PREFIX","")];case 1:return[2,t.sent()+e];case 2:t.sent();return[3,3];case 3:return[2,e]}}))}))).apply(this,arguments)}var ie,ae,se=n(674500),ce=n(88468),ue=n(318007),le=n(677523),fe=n(614503),pe=n(324954),de=n(692410),he=n(18700),ye=n(757987),me=n(962271),ve=n(360240),ge=n(882699),Ee=n(869488),_e=n(882923),be=n(101577),Oe=n(969376)
;!function(e){e.VIEWED="viewed";e.SUBMITTED="submitted";e.RESEND_CODE="resend_code";e.INPUT_ERROR="input_error";e.RESPONSE_ERROR="response_error";e.SUCCESS="success"}(ie||(ie={}));!function(e){e.IDENTITY="identity";e.ACCOUNT_INFORMATION="account_information";e.FULL="full";e.AGE_GATE="age_gate";e.CAPTCHA="captcha";e.INVITE="invite";e.SMS_VERIFY="sms_verify"}(ae||(ae={}));var Ie=n(32733),Ne=n(714392),Te=n(487384),Se=n.n(Te);function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function je(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Re(e){
Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Re(e)}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){je(e,t,n[t])}))}return e}function we(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Le(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e,t){Ze=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ze(e,t)}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}var ke=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};u.ZP.initialize();var Ge=/\.$/,Be=function(e){return Array.isArray(e)?e.map((function(e){return e.replace(Ge,"")})).join(". ").trim():e},Fe=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ze(e,t)}(n,e);var t=Ue(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).dateOfBirthRef=o.createRef();r._retryTimer=new l.V7;r.handleCaptchaVerify=function(e){return r.setState({captchaKey:e},(function(){r.handleRegister()}))};r.handleGotoLogin=function(e){var t=r.state.email,n=r.props,o=n.giftCode,i=n.guildTemplate,a=n.invite,c=n.location,u=n.onLoginStart,l=n.redirectTo,f=n.transitionTo;if(n.isMobileWebInviteRegistration)null==u||u(e);else{var d,h=null!=c?(0,s.parse)(c.search):{};if(null!=a)d=g.Z5c.INVITE_LOGIN(a.code);else if(null!=o)d=g.Z5c.GIFT_CODE_LOGIN(o.code);else if(null!=i)d=g.Z5c.GUILD_TEMPLATE_LOGIN(i.code);else if(null!=l){d=g.Z5c.LOGIN;h.redirect_to=l}else{d=g.Z5c.LOGIN
;""!==t&&(h={email:t})}p.Z.loginReset();f(d,{search:(0,s.stringify)(h)});null==u||u(e);ge.S.dispatch(g.CkL.WAVE_EMPHASIZE)}};r.handleSubmit=function(e){null==e||e.preventDefault();var t=r.state.parsedDateOfBirth,n=r.props,o=n.invite;null!==n.consentRequired&&(null==o&&null==t||r.handleRegister())};r.handleBirthdayChange=function(e){r.setState({parsedDateOfBirth:e})};var i,a=null!=e.location?(0,s.parse)(e.location.search):{};r.state={email:null!==(i=a.email)&&void 0!==i?i:"",username:"",password:"",parsedDateOfBirth:null,captchaKey:null,consent:!e.consentRequired,consentRequiredProp:e.consentRequired,isRateLimited:!1};return r}var i=n.prototype;i.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t};i.componentDidMount=function(){this.redirectIfAuthenticated();A.trackExposure({});var e=this.props,t=e.giftCodeSKU,n=e.invite;L.default.track(g.rMx.REGISTER_VIEWED,Pe({location:null!=n?"Invite Register Page":"Non-Invite Register Page",
registration_source:this.registrationSource},null!=t?(0,se.Z)(t,!1,!1):{}),{flush:!0});null==this.props.consentRequired&&p.Z.getLocationMetadata();(0,pe.e)("register")};i.componentWillUnmount=function(){this._retryTimer.stop()};i.componentDidUpdate=function(e,t){var n=this,r=this.props,o=r.apiErrors,i=r.authenticated,a=r.isUnderage,s=r.invite,c=r.onChangeStep,u=this.state.parsedDateOfBirth;if(e.apiErrors!==o||t.parsedDateOfBirth!==u)if(this.hasError("email")||this.hasError("phone"))null!=this.emailRef&&this.emailRef.focus();else if(this.hasError("username"))null!=this.usernameRef&&this.usernameRef.focus();else if(this.hasError("password"))null!=this.passwordRef&&this.passwordRef.focus();else if(null==this.state.parsedDateOfBirth)null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus();else if(this.hasError("retry_after")&&"number"==typeof this.props.apiErrors.retry_after){this.setState({isRateLimited:!0})
;this._retryTimer.start(1e3*this.props.apiErrors.retry_after,(function(){n.setState({isRateLimited:!1})}))}if(i&&!e.authenticated){(0,le.c)(Ne.M5.ORGANIC_REGISTERED);this.redirectIfAuthenticated()}var l=ae.FULL;a||this.hasError("date_of_birth")?l=ae.AGE_GATE:this.hasError("captcha_key")?l=ae.CAPTCHA:null==s||null==s.guild&&null==s.channel||(l=ae.INVITE);c(l)};i.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:he.Z.defaultRoute)};i.handleRegister=function(){var e,t=this;return(e=function(){var e,n,r,o,i,a,s,c,u,l,f,p,d,h,y,m,v,E;return ke(this,(function(_){switch(_.label){case 0:e=t.state,n=e.email,r=e.username,o=e.password,i=e.captchaKey,a=e.consent,s=e.parsedDateOfBirth;c=t.props,u=c.invite,l=c.guildTemplate,f=c.giftCode,p=c.onRegister,d=c.isMobileWebInviteRegistration;h=null!=u?u.code:null;y=null!=f?f.skuId:null;m=S.MD.getState();return Ie.a?[4,re(r)]:[3,2];case 1:E=_.sent();return[3,3];case 2:E=r;_.label=3;case 3:
v=E;ge.S.dispatch(g.CkL.WAVE_EMPHASIZE);_.label=4;case 4:_.trys.push([4,9,,10]);return d||null==u?[3,6]:[4,G({username:v,consent:a,invite:h,giftCodeSKUId:y,captchaKey:i})];case 5:_.sent();return[3,8];case 6:return[4,B({email:n,username:v,consent:a,password:o,invite:h,guildTemplateCode:null==l?void 0:l.code,giftCodeSKUId:y,captchaKey:i,birthday:s,promoEmailConsent:m.required?m:null})];case 7:_.sent();_.label=8;case 8:null==p||p();return[3,10];case 9:_.sent();return[3,10];case 10:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ce(i,r,o,a,s,"next",e)}function s(e){Ce(i,r,o,a,s,"throw",e)}a(void 0)}))})()};i.hasError=function(e){return null!=this.props.apiErrors[e]};i.renderConsentComponents=function(){var e=this,t=this.state.consent,n=this.props,o=n.consentRequired,i=n.registrationCopyExperimentConfig,a=i.enableNewCopy,s=i.hasProminentCopy,c=null,u=null;o?u=(0,r.jsx)(q,{value:t,onChange:function(t){return e.setState({
consent:t})},subText:E.Z.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:g.EYA.TERMS,privacyURL:g.EYA.PRIVACY})}):c=(0,r.jsx)(m.i_,{isProminent:!!s,className:W().marginTop20,children:a?E.Z.Messages.TERMS_PRIVACY_ON_REGISTER.format({buttonText:E.Z.Messages.CONTINUE,termsURL:g.EYA.TERMS,privacyURL:g.EYA.PRIVACY}):E.Z.Messages.TERMS_PRIVACY.format({termsURL:g.EYA.TERMS,privacyURL:g.EYA.PRIVACY})});return{subText:c,consentText:u}};i.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return(0,r.jsxs)(m.ZP,{className:t,children:[(0,r.jsx)(be.R,{}),(0,r.jsxs)(m.gO,{className:W().marginTop40,children:[(0,r.jsx)(me.Z,{children:E.Z.Messages.FORM_LABEL_USERNAME}),(0,r.jsx)(ye.ZP,{text:E.Z.Messages.AUTH_USERNAME_TOOLTIP,position:ye.ZP.Positions.RIGHT,color:ye.ZP.Colors.BRAND,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(m.II,{autoFocus:!0,className:W().marginBottom8,name:"username",value:e.state.username,
placeholder:E.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:o})}}),(0,r.jsx)(m.zx,{className:W().marginTop20,disabled:!0,children:E.Z.Messages.CONTINUE}),Ie.a?null:(0,r.jsx)(m.zx,{look:m.zx.Looks.LINK,color:m.zx.Colors.LINK,disabled:!0,className:W().marginTop8,children:E.Z.Messages.ALREADY_HAVE_ACCOUNT}),(0,r.jsx)(m.i_,{disabled:!0,className:W().marginTop20,children:E.Z.Messages.TERMS_PRIVACY.format({termsURL:g.EYA.TERMS,privacyURL:g.EYA.PRIVACY})})]})]})};i.renderInviteHeader=function(){var e=this.props.invite;return null!=(null==e?void 0:e.stage_instance)&&null!=e.guild?(0,r.jsx)(J.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=(null==e?void 0:e.guild_scheduled_event)?(0,r.jsx)(X.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(be.Z,{invite:e})};i.renderInviteButton=function(){
var e=this,t=this.props,n=t.invite,o=t.registering,i=t.consentRequired,a=this.state.consent,s=m.zx.Colors.BRAND,c=E.Z.Messages.CONTINUE;if(null!=(null==n?void 0:n.stage_instance)){s=m.zx.Colors.GREEN;c=E.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE}return(0,r.jsx)(ye.ZP,{text:!a&&i?E.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null,children:function(t){return(0,r.jsx)("div",we(Pe({className:W().marginTop20},t),{children:(0,r.jsx)(m.zx,{type:"submit",submitting:o,disabled:!e.hasConsent(),color:s,children:c})}))}})};i.renderInvite=function(){var e=this,t=this.props,n=t.invite,o=t.authBoxClassName,i=t.apiErrors.username,a=this.renderConsentComponents(),s=a.subText,c=a.consentText,u=null!=(null==n?void 0:n.stage_instance)||null!=(null==n?void 0:n.guild_scheduled_event);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(m.ZP,{onSubmit:this.handleSubmit,tag:"form",className:o,children:[this.renderInviteHeader(),u?(0,r.jsx)("div",{className:Se().divider}):null,(0,r.jsxs)(m.gO,{
className:u?void 0:W().marginTop40,children:[(0,r.jsx)(me.Z,{error:Be(i),children:E.Z.Messages.FORM_LABEL_USERNAME}),(0,r.jsx)(ye.ZP,{text:E.Z.Messages.AUTH_USERNAME_TOOLTIP,position:ye.ZP.Positions.RIGHT,color:ye.ZP.Colors.BRAND,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(m.II,{autoFocus:!0,className:W().marginBottom8,name:"username",value:e.state.username,placeholder:E.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null,onMouseEnter:n,onMouseLeave:o})}}),c,this.renderInviteButton(),Ie.a?null:(0,r.jsx)(m.zx,{look:m.zx.Looks.LINK,color:m.zx.Colors.LINK,onClick:this.handleGotoLogin,className:W().marginTop8,children:E.Z.Messages.ALREADY_HAVE_ACCOUNT}),s]})]}),null!=n&&u?(0,r.jsx)(m.ZP,{className:W().marginTop20,children:(0,r.jsx)(J.y,{guild:n.guild,onlineCount:n.approximate_presence_count})}):null]})};i.renderErrorMessage=function(){var e=this.props.apiErrors.message
;return"string"!=typeof e?null:(0,r.jsx)(m.i_,{className:a()(W().marginTop20,Se().errorMessage),children:e})};i.renderFull=function(e,t){var n=this,i=this.state,s=i.email,c=i.username,u=i.password,l=i.consent,p=i.parsedDateOfBirth,d=this.props,h=d.registering,y=d.consentRequired,v=d.isMobileWebInviteRegistration,g=d.authBoxClassName,_=d.apiErrors,b=void 0===_?{}:_,O=b.email,I=b.username,T=b.password,S=b.date_of_birth,A=d.hasLoggedInAccounts,C=d.registrationCopyExperimentConfig.hasCopyAboveButton,x=this.renderConsentComponents(),j=x.subText,R=x.consentText,P=this.renderErrorMessage(),w=(0,r.jsx)(ye.ZP,{text:!l&&y?E.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null,children:function(e){return(0,r.jsx)("div",we(Pe({className:W().marginTop20},e),{children:(0,r.jsx)(m.zx,{type:"submit",submitting:h,disabled:!n.hasConsent()||n.state.isRateLimited,children:E.Z.Messages.CONTINUE})}))}}),L=null!=e?(0,r.jsx)(o.Fragment,{children:e()},"custom-header"):(0,r.jsx)(m.Dx,{
children:E.Z.Messages.REGISTER_TITLE},"title"),Z=(0,r.jsxs)(m.gO,{className:W().marginTop20,children:[(0,r.jsx)(m.II,{autoFocus:!0,className:W().marginBottom20,label:E.Z.Messages.FORM_LABEL_EMAIL,name:"email",value:s,onChange:function(e){return n.setState({email:e})},error:Be(O),type:"email",setRef:function(e){n.emailRef=e}}),(0,r.jsx)(m.II,{label:E.Z.Messages.FORM_LABEL_USERNAME,className:W().marginBottom20,name:"username",value:c,onChange:function(e){return n.setState({username:e})},error:Be(I),setRef:function(e){n.usernameRef=e}}),(0,r.jsx)(m.II,{label:E.Z.Messages.FORM_LABEL_PASSWORD,name:"password",value:u,onChange:function(e){return n.setState({password:e})},error:Be(T),type:"password",setRef:function(e){n.passwordRef=e}}),(0,r.jsx)(N.Z,{label:E.Z.Messages.AGE_GATE_YOUR_BIRTHDAY,wrapperClassName:W().marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:Be(S),value:p}),R,C&&j,(0,r.jsx)(Q,{}),w,P,Ie.a?null:(0,r.jsx)(m.zx,{
look:v?m.zx.Looks.FILLED:m.zx.Looks.LINK,color:v?m.zx.Colors.PRIMARY:m.zx.Colors.LINK,onClick:this.handleGotoLogin,className:W().marginTop8,children:E.Z.Messages.ALREADY_HAVE_ACCOUNT}),!C&&j]});return t?(0,r.jsx)(Oe.Z,{onSubmit:this.handleSubmit,tag:"form",className:a()(g,Se().horizontalAuthBox),children:function(){return[L,(0,r.jsxs)("div",{className:Se().flex,children:[(0,r.jsx)(m.Dx,{className:Se().createAccountTemplateHeader,children:E.Z.Messages.REGISTER_TITLE}),Z]},"register-title")]}}):(0,r.jsxs)(m.ZP,{onSubmit:this.handleSubmit,tag:"form",className:g,children:[A&&!v?(0,r.jsx)(m.zx,{onClick:this.handleGotoLogin,look:m.zx.Looks.LINK,color:m.zx.Colors.PRIMARY,className:Se().goBackButton,children:(0,r.jsxs)("div",{className:Se().content,children:[(0,r.jsx)(ve.Z,{width:16,height:16,className:Se().caret}),(0,r.jsx)(f.xv,{variant:"text-md/normal",children:E.Z.Messages.AGE_GATE_GO_BACK})]})}):null,L,Z]})};i.render=function(){
var e=this.props,t=e.authBoxClassName,n=e.isUnderage,o=e.apiErrors,i=o.captcha_service,a=o.captcha_sitekey,s=e.isMobileWebInviteRegistration;if(n||this.hasError("date_of_birth"))return(0,r.jsx)(I,{});if(this.hasError("captcha_key")&&"string"==typeof i)return(0,r.jsx)(Ee.Z,{authBoxClassName:t,onVerify:this.handleCaptchaVerify,title:E.Z.Messages.REGISTER_TITLE,captchaService:i,sitekey:a});var c=this.props,u=c.invite,l=c.giftCode,f=c.guildTemplate,p=null!=u&&null==u.guild&&null==u.channel&&null!=u.inviter;return null==u||p||s?null!=f?this.renderFull((function(){return(0,r.jsx)(ce.Z,{guildTemplate:f})}),!0):null!=l?this.renderFull((function(){return(0,r.jsx)(_e.Z,{giftCode:l})})):null!=u&&p&&u.state===g.r2o.RESOLVED&&!s?this.renderFull((function(){return(0,r.jsx)(be.Z,{invite:u,isRegister:!0})})):this.renderFull():u.state===g.r2o.RESOLVING?this.renderInviteResolving():this.renderInvite()};n.getDerivedStateFromProps=function(e,t){var n=e.consentRequired
;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}};!function(e,t,n){t&&xe(e.prototype,t);n&&xe(e,n)}(n,[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite";if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null}}]);return n}(o.PureComponent);Fe.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return n.g.location.assign(e)}};function He(e){var t=(0,u.cj)([de.Z,w.default,d.Z,fe.Z,ue.Z],(function(){return{consentRequired:de.Z.getAuthenticationConsentRequired(),registering:w.default.getRegisterStatus()===g.$ib.REGISTERING,apiErrors:w.default.getErrors(),authenticated:w.default.isAuthenticated(),isUnderage:d.Z.isUnderageAnonymous(),country:fe.Z.getCountryCode(),hasLoggedInAccounts:ue.Z.getHasLoggedInAccounts()}
})),n=Me(o.useState(ae.FULL),2),i=n[0],a=n[1];(0,T.Z)({type:c.nv.VIEW,name:c.zs.USER_REGISTRATION,properties:{impression_group:c.AG.USER_REGISTRATION_FLOW,step:i}},{},[i]);return(0,r.jsx)(Fe,Pe({onChangeStep:function(e){return a(e)},registrationCopyExperimentConfig:A.getCurrentConfig({})},e,t))}},678081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(193197),a=n(891153),s=n(337823),c=n(742269),u=n(561388);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?l(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function v(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters;a.Z.fileManager.openFiles({properties:t,filters:n},u.zz).then((function(t){var n=t.map((function(e){return s.qF(e)}));null!=n&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:n}})})).catch((function(t){e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:null,err:t}})}))}
const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=m(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._ref=o.createRef();r.setRef=r.setRef.bind(l(r));return r}var a=n.prototype;a.activateUploadDialogue=function(){if(null!=this._ref)return this._ref.activateUploadDialogue()};a.setRef=function(e){this._ref=e};a.render=function(){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({ref:this.setRef,
handleNativeClick:v,embedded:(0,c.nI)()},this.props))};return n}(o.Component)},210161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(647446)),i=n(567895),a=n(959797),s=n(407785),c=n.n(s);function u(e){var t=e.icon,n=e.onChange;return(0,r.jsx)(o.tE,{within:!0,children:(0,r.jsxs)("div",{className:c().iconContainer,children:[null!=t?(0,r.jsx)("img",{alt:"Your icon",className:c().filledIcon,src:t}):(0,r.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M54.8694 2.85498C53.8065 2.4291 52.721 2.04752 51.6153 1.71253L51.3254 2.66957L51.0354 3.62661C51.9783 3.91227 52.9057 4.23362 53.8161 4.58911C54.1311 3.98753 54.4832 3.40847 54.8694 2.85498ZM75.4109 26.1839C76.0125 25.8689 76.5915 25.5168 77.145 25.1306C77.5709 26.1935 77.9525 27.279 78.2875 28.3847L77.3304 28.6746L76.3734 28.9646C76.0877 28.0217 75.7664 27.0943 75.4109 26.1839ZM78.8148 43.8253L79.8102 43.9222C79.9357 42.6318 80 41.3234 80 40C80 38.6766 79.9357 37.3682 79.8102 36.0778L78.8148 36.1747L77.8195 36.2715C77.9389 37.4977 78 38.7414 78 40C78 41.2586 77.9389 42.5023 77.8195 43.7285L78.8148 43.8253ZM43.8253 1.18515L43.9222 0.189853C42.6318 0.0642679 41.3234 0 40 0C38.6766 0 37.3682 0.064268 36.0778 0.189853L36.1747 1.18515L36.2715 2.18045C37.4977 2.06112 38.7414 2 40 2C41.2586 2 42.5023 2.06112 43.7285 2.18045L43.8253 1.18515ZM28.6746 2.66957L28.3847 1.71253C25.8549 2.47897 23.4312 3.48925 21.1408 4.71604L21.6129 5.59756L22.0851 6.47907C24.2606 5.3138 26.5624 4.35439 28.9646 3.62661L28.6746 2.66957ZM15.2587 9.85105L14.6239 9.0784C12.5996 10.7416 10.7416 12.5996 9.0784 14.6239L9.85105 15.2587L10.6237 15.8935C12.2042 13.9699 13.9699 12.2042 15.8935 10.6237L15.2587 9.85105ZM5.59756 21.6129L4.71604 21.1408C3.48925 23.4312 2.47897 25.8549 1.71253 28.3847L2.66957 28.6746L3.62661 28.9646C4.35439 26.5624 5.3138 24.2607 6.47907 22.0851L5.59756 21.6129ZM0 40C0 38.6766 0.0642679 37.3682 0.189853 36.0778L1.18515 36.1747L2.18045 36.2715C2.06112 37.4977 2 38.7414 2 40C2 41.2586 2.06112 42.5023 2.18045 43.7285L1.18515 43.8253L0.189853 43.9222C0.064268 42.6318 0 41.3234 0 40ZM2.66957 51.3254L1.71253 51.6153C2.47897 54.1451 3.48926 56.5688 4.71604 58.8592L5.59756 58.3871L6.47907 57.9149C5.3138 55.7394 4.35439 53.4376 3.62661 51.0354L2.66957 51.3254ZM9.85105 64.7413L9.0784 65.3761C10.7416 67.4004 12.5996 69.2584 14.6239 70.9216L15.2587 70.1489L15.8935 69.3763C13.9699 67.7958 12.2042 66.0301 10.6237 64.1065L9.85105 64.7413ZM21.6129 74.4024L21.1408 75.284C23.4312 76.5107 25.8549 77.521 28.3847 78.2875L28.6746 77.3304L28.9646 76.3734C26.5624 75.6456 24.2607 74.6862 22.0851 73.5209L21.6129 74.4024ZM36.1747 78.8148L36.0778 79.8102C37.3682 79.9357 38.6766 80 40 80C41.3234 80 42.6318 79.9357 43.9222 79.8102L43.8253 78.8148L43.7285 77.8195C42.5023 77.9389 41.2586 78 40 78C38.7414 78 37.4977 77.9389 36.2715 77.8195L36.1747 78.8148ZM51.3254 77.3304L51.6153 78.2875C54.1451 77.521 56.5688 76.5107 58.8592 75.284L58.3871 74.4024L57.9149 73.5209C55.7394 74.6862 53.4376 75.6456 51.0354 76.3734L51.3254 77.3304ZM64.7413 70.1489L65.3761 70.9216C67.4004 69.2584 69.2584 67.4004 70.9216 65.3761L70.1489 64.7413L69.3763 64.1065C67.7958 66.0301 66.0301 67.7958 64.1065 69.3763L64.7413 70.1489ZM74.4024 58.3871L75.284 58.8592C76.5107 56.5688 77.521 54.1451 78.2875 51.6153L77.3304 51.3254L76.3734 51.0354C75.6456 53.4375 74.6862 55.7393 73.5209 57.9149L74.4024 58.3871Z",
fill:"currentColor"}),(0,r.jsx)("circle",{cx:"68",cy:"12",r:"12",fill:"#5865f2"}),(0,r.jsx)("path",{d:"M73.3332 11.4075H68.5924V6.66675H67.4072V11.4075H62.6665V12.5927H67.4072V17.3334H68.5924V12.5927H73.3332V11.4075Z",fill:"white"}),(0,r.jsx)("path",{d:"M40 29C37.794 29 36 30.794 36 33C36 35.207 37.794 37 40 37C42.206 37 44 35.207 44 33C44 30.795 42.206 29 40 29Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M48 26.001H46.07C45.402 26.001 44.777 25.667 44.406 25.111L43.594 23.891C43.223 23.335 42.598 23 41.93 23H38.07C37.402 23 36.777 23.335 36.406 23.89L35.594 25.11C35.223 25.667 34.598 26 33.93 26H32C30.895 26 30 26.896 30 28V39C30 40.104 30.895 41 32 41H48C49.104 41 50 40.104 50 39V28C50 26.897 49.104 26.001 48 26.001ZM40 39C36.691 39 34 36.309 34 33C34 29.692 36.691 27 40 27C43.309 27 46 29.692 46 33C46 36.31 43.309 39 40 39Z",fill:"currentColor"}),(0,r.jsx)("path",{
d:"M24.6097 52.712V47.72H22.5457V52.736C22.5457 53.792 22.0777 54.404 21.1417 54.404C20.2177 54.404 19.7377 53.78 19.7377 52.712V47.72H17.6737V52.724C17.6737 55.04 19.0897 56.132 21.1177 56.132C23.1217 56.132 24.6097 55.016 24.6097 52.712ZM26.0314 56H28.0834V53.252H28.6114C30.6154 53.252 31.9474 52.292 31.9474 50.42C31.9474 48.62 30.7114 47.72 28.6954 47.72H26.0314V56ZM29.9554 50.456C29.9554 51.308 29.4514 51.704 28.5394 51.704H28.0594V49.268H28.5754C29.4874 49.268 29.9554 49.664 29.9554 50.456ZM37.8292 56L37.5532 54.224H35.0092V47.72H32.9572V56H37.8292ZM45.9558 51.848C45.9558 49.292 44.4078 47.564 42.0078 47.564C39.6078 47.564 38.0478 49.304 38.0478 51.872C38.0478 54.428 39.6078 56.156 41.9838 56.156C44.3958 56.156 45.9558 54.404 45.9558 51.848ZM43.8918 51.86C43.8918 53.504 43.1958 54.548 41.9958 54.548C40.8078 54.548 40.0998 53.504 40.0998 51.86C40.0998 50.216 40.8078 49.172 41.9958 49.172C43.1958 49.172 43.8918 50.216 43.8918 51.86ZM52.2916 56.084L54.3676 55.748L51.4876 47.684H49.2316L46.2556 56H48.2716L48.8236 54.284H51.6916L52.2916 56.084ZM50.2516 49.796L51.1756 52.676H49.3156L50.2516 49.796ZM62.5174 51.848C62.5174 49.388 61.0174 47.72 58.1374 47.72H55.2814V56H58.1854C60.9814 56 62.5174 54.308 62.5174 51.848ZM60.4534 51.86C60.4534 53.636 59.5414 54.404 58.0774 54.404H57.3334V49.316H58.0774C59.4814 49.316 60.4534 50.12 60.4534 51.86Z",
fill:"currentColor"})]}),(0,r.jsx)(i.ZP,{onChange:n,multiple:!1,tabIndex:0,"aria-label":a.Z.Messages.GUILD_CREATE_UPLOAD_ICON_BUTTON_TEXT})]})})}},683801:(e,t,n)=>{"use strict";n.d(t,{Av:()=>s,wE:()=>c,hp:()=>u});var r=n(675860),o=n(173436),i=n(643830),a=n(461061);function s(e,t){(0,i.Z)(e,t);return r.Z.patch({url:a.ANM.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var t=e.body;o.Z.dispatch({type:"CURRENT_USER_UPDATE",user:t})}))}function c(){o.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"})}function u(){o.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"})}},348855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(676489),o=n(791462),i=n(173436),a=n(742269),s=n(442068);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){
return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var h=!1,y=null,m="underage";var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=d(n);function n(){c(this,n);return t.apply(this,arguments)}var o=n.prototype;o.isUnderageAnonymous=function(){if(!a.FB){return null!=r.parse(document.cookie).underage}return null!=y&&y+s.k0>Date.now()};o.__getLocalVars=function(){return{isUnderageAnonymous:h,failedRegisterAtTimestamp:y,UNDERAGE_SESSION_COOKIE:m}};return n}(o.ZP.Store);v.displayName="AgeGateStore";const g=new v(i.Z,{AGE_GATE_PREVENT_UNDERAGE_REGISTRATION:function(){h=!0;y=Date.now();document.cookie="".concat(m,"=1;path=/")},LOGIN_SUCCESS:function(){h=!1;y=null;document.cookie="".concat(m,"=1;path=/;max-age=0")}})},65440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(730381),c=n.n(s),u=n(489992),l=n(601465),f=n(562181),p=n(959797),d=n(108083),h=n.n(d);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=c()().localeData().months(),g=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:"".concat(e+1)}
})),E=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:v[e]}}));var _=/[a-zA-Z0-9]/;function b(e){var t=e.options,n=e.selectOption,i=e.children,a=m(o.useState(""),2),s=a[0],c=a[1];o.useEffect((function(){if(""!==s){var e=setTimeout((function(){return c("")}),1e3);return function(){return clearTimeout(e)}}}),[s,c]);var u=o.useCallback((function(e){if(_.test(e.key)){var r="".concat(s).concat(e.key.toLowerCase()),o=t.find((function(e){return e.label.toLowerCase().startsWith(r)}));null!=o&&n(o.value);c(r)}}),[n,c,s,t]);return(0,r.jsx)("div",{onKeyDown:u,children:i})}function O(){var e=c()().localeData().longDateFormat("L"),t=e.indexOf("D"),n=e.indexOf("M"),r=e.indexOf("Y");if(-1===t||-1===n||-1===r){t=0;n=1;r=2}return[{index:t,type:"day"},{index:n,type:"month"},{index:r,type:"year"}].sort((function(e,t){return e.index<t.index?-1:1}))}const I=o.forwardRef((function(e,t){var n=function(e){switch(k[e].type){case"day":B.push({key:"day",input:(0,r.jsx)(b,{options:g,
selectOption:T,children:(0,r.jsx)(l.Z,{ref:M,className:h().inputDay,"aria-label":p.Z.Messages.AGE_GATE_DOB_DAY,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:p.Z.Messages.AGE_GATE_DOB_DAY}),options:g,value:N,onChange:function(t){var n=t.value;T(n);Z(e+1)},maxMenuHeight:215})})});break;case"month":B.push({key:"month",input:(0,r.jsx)(b,{options:E,selectOption:A,children:(0,r.jsx)(l.Z,{ref:D,className:h().inputMonth,"aria-label":p.Z.Messages.AGE_GATE_DOB_MONTH,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:p.Z.Messages.AGE_GATE_DOB_MONTH}),options:E,value:S,onChange:function(t){var n=t.value;A(n);Z(e+1)},maxMenuHeight:215})})});break;case"year":B.push({key:"year",input:(0,r.jsx)(b,{options:P,selectOption:x,children:(0,r.jsx)(l.Z,{ref:U,className:h().inputYear,"aria-label":p.Z.Messages.AGE_GATE_DOB_YEAR,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,
children:p.Z.Messages.AGE_GATE_DOB_YEAR}),options:P,value:C,onChange:function(t){var n=t.value;x(n);Z(e+1)},maxMenuHeight:215})})})}},i=e.value,s=e.wrapperClassName,d=e.onChange,y=e.onPopulated,v=e.error,_=e.autoFocus,I=function(e){var t=null,n=null,r=null;if(null!=e){t=e.date();n=e.month()+1;r=e.year()}var i=m(o.useState(t),2),a=i[0],s=i[1],c=m(o.useState(n),2),u=c[0],l=c[1],f=m(o.useState(r),2);return{day:a,setDay:s,month:u,setMonth:l,year:f[0],setYear:f[1]}}(i),N=I.day,T=I.setDay,S=I.month,A=I.setMonth,C=I.year,x=I.setYear,j=o.useMemo((function(){return null!=N&&null!=S&&null!=C?c()("".concat(N,"/").concat(S,"/").concat(C),"DD/MM/YYYY"):null}),[N,S,C]);o.useEffect((function(){d((null==j?void 0:j.isValid())?j:null)}),[j,d]);var R=v;null==j||j.isValid()||(R=p.Z.Messages.AGE_GATE_INVALID_BIRTHDAY);var P=function(){var e=(new Date).getFullYear(),t=o.useRef(Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:"".concat(e-t-3)}})));o.useEffect((function(){
t.current=Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:"".concat(e-t-3)}}))}),[e]);return t.current}(),w=m(o.useState(_?0:-1),2),L=w[0],Z=w[1],M=o.useRef(null),D=o.useRef(null),U=o.useRef(null),k=o.useMemo(O,[]),G=o.useCallback((function(){var e;switch(null===(e=k[L])||void 0===e?void 0:e.type){case"day":var t;null===(t=M.current)||void 0===t||t.focus();break;case"month":var n;null===(n=D.current)||void 0===n||n.focus();break;case"year":var r;null===(r=U.current)||void 0===r||r.focus()}}),[L,M,D,U,k]);o.useEffect((function(){setTimeout(G,500)}),[]);o.useEffect((function(){L>=k.length?null==y||y():G()}),[L,G]);for(var B=[],F=0;F<3;F++)n(F);return(0,r.jsxs)("fieldset",{className:a()(h().container,s),children:[(0,r.jsx)(f.vw,{tag:"legend",children:p.Z.Messages.AGE_GATE_DATE_OF_BIRTH}),(0,r.jsx)("div",{className:h().inputs,children:B.map((function(e,t){var n=e.key,o=e.input;return(0,r.jsx)("div",{tabIndex:t+1,className:h()[n],children:o},n)}))}),(0,r.jsx)(u.xv,{
className:h().errors,variant:"text-sm/normal",children:R})]})}))},584268:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,L:()=>s});var r,o=n(8551),i=n(461061),a=n(35236);!function(e){e.ROLE_SUBSCRIPTION="role_subscription";e.ROLE_SUBSCRIPTION_SETTING="role_subscription_setting"}(r||(r={}));function s(e){var t=decodeURIComponent(e),n=(0,o.Qj)(t);return null!=n&&n.channelId===a.oC.ROLE_SUBSCRIPTIONS?r.ROLE_SUBSCRIPTION:t===i.Z5c.SETTINGS(i.oAB.SUBSCRIPTIONS,"role-subscriptions")?r.ROLE_SUBSCRIPTION_SETTING:void 0}},402232:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,Z:()=>u});var r=n(785893),o=(n(667294),n(751615)),i=n(705654),a=n(461061),s=n(32733);function c(){var e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,i.U)(e,!1)}const u=function(){return(0,r.jsx)(o.l_,{to:c()})}},643830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(730381),o=n.n(r),i=n(932847),a=n(461061);function s(e,t){i.default.track(a.rMx.AGE_GATE_SUBMITTED,{dob:o()().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,
dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},355184:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var r=n(785893),o=(n(667294),n(489992)),i=n(394803),a=n(613258),s=n(666872),c=n(230531),u=n.n(c);function l(e){var t=e.channel,n=(0,i.Th)(t.type);return(0,r.jsxs)("div",{className:u().channelInfoContainer,children:[null!=n?(0,r.jsx)(n,{width:20,height:20}):null,(0,r.jsx)(o.xv,{className:u().channelInfoText,color:"none",variant:"text-sm/semibold",children:t.name})]})}function f(e){var t=e.channel,n=e.guildScheduledEvent;return(0,r.jsxs)("div",{className:u().container,children:[(0,r.jsx)(s.HZ,{className:u().statusContainer,userCount:n.user_count,startTime:n.scheduled_start_time,isActive:(0,a.xt)(n),isEnded:(0,a.Z2)(n),guildId:n.guild_id,eventType:n.entity_type}),(0,r.jsx)(s.Rf,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?(0,r.jsx)(l,{channel:t}):null]})}},993317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d})
;var r=n(785893),o=n(667294),i=n(489992),a=n(629590),s=n(194266),c=n(120250),u=n(815830),l=n(998689),f=n(68921),p=n.n(f);function d(e){var t=e.guildScheduledEvent,n=e.channel,f=e.onClose,d=t.entity_type===l.WX.EXTERNAL,h=o.useCallback((function(e){return(0,c.Qt)(t,f)(e)}),[t,f]),y=(0,u.u)(t,n);if(null==y)return null;var m=y.IconComponent,v=y.locationName,g=(0,r.jsxs)(r.Fragment,{children:[null!=m&&(0,r.jsx)(m,{width:20,height:20,className:p().channelIcon}),(0,r.jsx)(i.xv,{color:"header-secondary",variant:"text-sm/normal",className:p().locationText,children:(0,s.m)(v,!0)})]});return(0,r.jsx)("div",{className:p().row,children:null!=h?(0,r.jsx)(a.Z,{className:d?p().externalLocation:p().channelLocation,onClick:h,children:g}):g})}},928826:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(517845),o=n(959797);function i(e){switch(e){case r.HQ.CLASSROOM:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CLASSROOM,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CLASSROOM,
nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CLASSROOM,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CLASSROOM,author:o.Z.Messages.DISCORD_NAME};case r.HQ.LOCAL_COMMUNITIES:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_LOCAL_COMMUNITIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_LOCAL_COMMUNITIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_LOCAL_COMMUNITIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_LOCAL_COMMUNITIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CREATORS_HOBBIES:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CREATORS_HOBBIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CREATORS_HOBBIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CREATORS_HOBBIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,
defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CREATORS_HOBBIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.GLOBAL_COMMUNITIES:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_GLOBAL_COMMUNITIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_GLOBAL_COMMUNITIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_GLOBAL_COMMUNITIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_GLOBAL_COMMUNITIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.FRIENDS_FAMILY:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_FRIENDS_FAMILY,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_FRIENDS_FAMILY,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_FRIENDS_FAMILY,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_FRIENDS_FAMILY,author:o.Z.Messages.DISCORD_NAME};case r.HQ.STUDY_GROUPS:return{
header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_STUDY_GROUPS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_STUDY_GROUPS,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_STUDY_GROUPS,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_STUDY_GROUPS,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CREATE_FROM_SCRATCH:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CREATE_FROM_SCRATCH,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CREATE_FROM_SCRATCH,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CREATE_FROM_SCRATCH,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CREATE_FROM_SCRATCH,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CAMPUS_CLUBS:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CAMPUS_CLUBS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CAMPUS_CLUBS,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,
terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CAMPUS_CLUBS,author:o.Z.Messages.DISCORD_NAME};case r.HQ.LEAGUE_CLUBS:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_LEAGUE_CLUBS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_LEAGUE_CLUBS,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT,author:o.Z.Messages.DISCORD_NAME};case r.HQ.GITHUB_HACKATHON:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_GITHUB_HACKATHON,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_GITHUB_HACKATHON,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT,author:"GitHub Education"};default:return{header:o.Z.Messages.GUILD_TEMPLATE_CREATE_DISCORD,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,
terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT}}}},258858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(496486),c=n.n(s),u=n(316921),l=n(489992),f=n(822567),p=n(478695),d=n(210161),h=n(832010),y=n(859023),m=n(801593),v=n(153532),g=n(983319),E=n(414597),_=n(976703),b=n(915306),O=n(675860),I=n(173436),N=n(510174),T=n(172762),S=n(653772),A=n(461061);const C=function(e,t,n){I.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT",code:e});return new Promise((function(r,o){O.Z.post({url:A.ANM.UNRESOLVED_GUILD_TEMPLATE(e),body:{name:t,icon:n},oldFormErrors:!0}).then((function(t){var n=t.body;I.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_SUCCESS",code:e,guild:n});if(T.Z.isConnected())S.Z.addConditionalChangeListener((function(){if(null!=S.Z.getGuild(n.id)){(0,N.X)(n.id);r(n);return!1}}));else{(0,N.X)(n.id);r(n)}}),(function(t){I.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_FAILURE",code:e});o(t.body)}))}))}
;var x=n(928826),j=n(932847),R=n(517845);function P(e){var t=o.useRef([]);o.useEffect((function(){if(null!=e&&e.state!==R.Rj.RESOLVING&&!t.current.includes(e.code)){t.current.push(e.code);j.default.track(A.rMx.CREATE_GUILD_VIEWED,{guild_template_code:e.code,guild_template_name:e.name,guild_template_description:e.description,guild_template_guild_id:e.sourceGuildId})}}))}var w=n(509954),L=n(959797),Z=n(458759),M=n.n(Z);n(424286);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,s,"next",e)}function s(e){U(i,r,o,a,s,"throw",e)}a(void 0)}))}}function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function B(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),
return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function H(e){
var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=B(o.useState(""),2),i=n[0],a=n[1],s=B(o.useState(null),2),c=s[0],u=s[1],h=B(o.useState(null),2),v=h[0],E=h[1],_=(0,x.Z)(e.code);o.useEffect((function(){function e(){return(e=k((function(){var e;return F(this,(function(t){switch(t.label){case 0:if(null!=(e=y.default.getCurrentUser()))return[3,4];t.label=1;case 1:t.trys.push([1,3,,4]);return[4,(0,p.k)()];case 2:e=t.sent();return[3,4];case 3:t.sent();f.Z.verifySSOToken(null);return[3,4];case 4:null!=e&&a(_.defaultName.format({username:e.username}));return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_.defaultName]);var b=function(){return C(e.code,i,c).catch((function(e){return E(e)}))};P(e);var O=(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(w.Z,{guildTemplate:e}):null,(0,r.jsx)("div",{className:M().icon,children:(0,r.jsx)(d.Z,{icon:c,onChange:u})}),(0,r.jsx)(g.Z,{title:_.nameLabel,children:(0,r.jsx)(m.ZP,{type:"text",value:i,maxLength:100,
onChange:a,error:null==v?void 0:v.name})}),(0,r.jsx)(l.xv,{variant:"text-xs/normal",color:"text-muted",className:M().guidelines,children:_.terms.format({guidelinesURL:A.EYA.GUIDELINES})})]}),I=e.serializedSourceGuild.roles.filter((function(e){return"@everyone"!==e.name})),N=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:M().divider}),(0,r.jsxs)(g.Z,{className:M().previewSection,title:L.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_HEADER,children:[(0,r.jsx)(V,{channels:e.serializedSourceGuild.channels}),(0,r.jsxs)(l.xv,{variant:"text-xs/normal",color:"header-secondary",className:M().protip,children:[(0,r.jsxs)("span",{className:M().protipText,children:[L.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":"]})," ",L.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_TIP]})]}),I.length>0?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.Z,{className:M().previewSection,title:L.Z.Messages.GUILD_TEMPLATE_MODAL_ROLES_HEADER2,children:(0,r.jsx)(K,{roles:I})})}):null]});return{form:O,preview:N,handleSubmit:b}}
function V(e){var t=e.channels,n=c()(t).sortBy((function(e){return null==e.parent_id?1e4*Number(e.id):1e4*Number(e.parent_id)+e.id})).map((function(e){var t=function(e){var t=e.type;return t===A.d4z.GUILD_VOICE?b.Z:t===A.d4z.GUILD_CATEGORY?E.Z:_.Z}(e);return(0,r.jsxs)("div",{className:a()(M().channel,G({},M().category,e.type===A.d4z.GUILD_CATEGORY)),children:[(0,r.jsx)(t,{className:M().channelIcon}),(0,r.jsx)(l.xv,{className:M().channelText,variant:"text-sm/normal",children:e.name})]},e.id)})).value();return(0,r.jsx)("div",{className:M().channelsWrapper,children:n})}function K(e){var t=e.roles.slice().reverse().map((function(e){return(0,r.jsx)(z,{role:e},e.id)}));return(0,r.jsx)("ul",{className:M().rolesWrapper,children:t})}function z(e){var t,n=e.role,o=null==n.color?(0,h.Lq)(A.Ilk.PRIMARY_DARK_300):(0,u.Rf)(n.color);return(0,r.jsxs)("li",{className:M().role,style:{borderColor:null!==(t=(0,u.wK)(o,.6))&&void 0!==t?t:void 0},children:[(0,r.jsx)(v.x,{className:M().roleCircle,color:o
}),(0,r.jsx)("div",{className:M().roleName,children:n.name})]})}},58226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(951660),o=n(531286),i=n(865622),a=n(987593),s=n(932847),c=n(618468),u=n(21588),l=n(461061);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p="template";const d=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},u.Z),{openNativeAppModal:function(e){a.Z.openNativeAppModal(e,l.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),a=(0,o.WS)(),u=(0,o.ZP)(n,{utmSource:p,fingerprint:t,attemptId:a});s.default.track(l.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,i.K)(t),attempt_id:a,source:p,guild_template_code:e});c.Z.launch(u,(function(){}))}}})},88468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r,o=n(785893),i=(n(667294),n(908570)),a=n(928826),s=n(509954),c=n(517845),u=n(26312),l=n.n(u);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p=(f(r={},c.HQ.CLASSROOM,n(149374)),
f(r,c.HQ.LOCAL_COMMUNITIES,n(106952)),f(r,c.HQ.CREATORS_HOBBIES,n(123555)),f(r,c.HQ.GLOBAL_COMMUNITIES,n(100553)),f(r,c.HQ.FRIENDS_FAMILY,n(614040)),f(r,c.HQ.STUDY_GROUPS,n(952587)),f(r,c.HQ.CREATE_FROM_SCRATCH,n(841860)),f(r,c.HQ.CAMPUS_CLUBS,n(661807)),f(r,c.HQ.LEAGUE_CLUBS,n(568534)),f(r,c.HQ.GITHUB_HACKATHON,n(525106)),r);function d(e){var t=e.headerId,n=e.guildTemplate,r=n.code,u=p[r];if(null!=u){var f,d=(0,a.Z)(r),h=d.header,y=d.description,m=d.author;return(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:l().image,src:u,alt:""}),(0,o.jsx)(i.Dx,{className:l().header,id:t,children:h}),(0,o.jsx)(i.DK,{children:y}),n.state===c.Rj.RESOLVED?(0,o.jsx)(s.D,{className:l().usagePill,count:null!==(f=n.usageCount)&&void 0!==f?f:0,verifiedName:m}):null]})}return(0,o.jsx)(s.Z,{pillClassName:l().usagePill,guildTemplate:n,tall:!0})}},509954:(e,t,n)=>{"use strict";n.d(t,{D:()=>E,Z:()=>_});var r=n(785893),o=(n(667294),
n(294184)),i=n.n(o),a=n(402411),s=n(82961),c=n(908570),u=n(16870),l=n(928826);var f=n(517845),p=n(959797),d=n(167083),h=n.n(d),y=n(380203),m=n.n(y);function v(){return(0,r.jsx)(a.Z,{className:h().verifiedIcon,children:(0,r.jsx)("div",{className:h().verifiedCheckContainer,children:(0,r.jsx)(u.Z,{className:h().verifiedCheck})})})}function g(e){var t=e.verified,n=e.text;return t?(0,r.jsxs)("div",{className:h().verifiedNameContainer,children:[(0,r.jsx)(v,{}),n]}):(0,r.jsx)(r.Fragment,{children:n})}function E(e){var t=e.className,n=e.count,o=e.creator,a=e.verifiedName;return(0,r.jsx)("div",{className:i()(h().usagePill,t,h().userText),children:null!=o||null!=a?p.Z.Messages.GUILD_TEMPLATE_USAGES_BY_CREATOR2.format({usageCount:n,creator:null!=a?a:o,creatorHook:function(e,t){return(0,r.jsx)(g,{text:e,verified:null!=a},t)}}):p.Z.Messages.GUILD_TEMPLATE_USAGES.format({usageCount:n})})}function _(e){var t=e.guildTemplate,n=e.error,o=e.tall,a=e.pillClassName;if(null!=n&&""!==n)return(0,
r.jsxs)("div",{className:h().container,children:[(0,r.jsx)(c.Dx,{children:p.Z.Messages.INVITE_MODAL_ERROR_TITLE}),(0,r.jsx)(c.DK,{children:n})]});if(t.state===f.Rj.RESOLVING)return(0,r.jsx)("div",{className:h().container,children:(0,r.jsx)(s.Z,{})});var u,d=(0,l.Z)(t.code).header;if(o){var y;return(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsx)(c.Dx,{className:h().title,children:d}),(0,r.jsx)(c.DK,{className:i()(h().subtitle,m().marginTop2),children:p.Z.Messages.GUILD_TEMPLATE_BASED_ON}),(0,r.jsx)(c.Dx,{className:i()(h().title,h().userText),children:t.name}),null!=t.description&&""!==t.description&&(0,r.jsx)(c.DK,{className:i()(h().subtitle,h().userText,m().marginTop8),children:t.description}),(0,r.jsx)(E,{className:a,count:null!==(y=t.usageCount)&&void 0!==y?y:0,creator:t.creator.username,verifiedName:(u=t.code,(0,l.Z)(u).author)})]})}return(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsx)(c.Dx,{className:h().title,children:d}),(0,r.jsx)(c.DK,{
className:i()(h().subtitle,h().userText),children:t.name})]})}},910866:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r;!function(e){e.MP4="video/mp4"}(r||(r={}))},567895:(e,t,n)=>{"use strict";n.d(t,{Zj:()=>y,Fq:()=>m,ZP:()=>g});var r=n(785893),o=n(667294),i=n(678081),a=n(212271),s=n(910866),c=n(959797);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function y(){return[{name:c.Z.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}]}function m(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===s.m.MP4)return t(r,e);var o=new Image;o.src=r;o.onload=function(){t(r,e)};o.onerror=function(){n()}}))}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)
}(n,e);var t=h(n);function n(){u(this,n);var e;(e=t.apply(this,arguments))._ref=o.createRef();e._isMounted=!1;e.handleFileChange=function(t){var n=e.props,r=n.onFileSizeError,o=n.maxFileSizeBytes;t.stopPropagation();t.preventDefault();if(null!=t.currentTarget.files)for(var i=0;i<t.currentTarget.files.length;i++){var a=t.currentTarget.files[i];a.size>o?null==r||r(o,a.size):m(a,e.handleFileRead,e.handleFileError)}};e.handleFileRead=function(t,n){var r=e.props.onChange;e._isMounted&&r(t,n)};e.handleFileError=function(){(0,a.xT)({title:c.Z.Messages.PREMIUM_ALERT_ERROR_TITLE,help:c.Z.Messages.UNABLE_TO_PROCESS_IMAGE})};return e}var s=n.prototype;s.componentDidMount=function(){this._isMounted=!0};s.activateUploadDialogue=function(){var e;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};s.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,a=e.tabIndex,s=e["aria-label"],c=e.filters;return(0,r.jsx)(i.Z,{ref:this._ref,onChange:this.handleFileChange,
filters:null!=c?c:y(),multiple:t,disabled:n,className:o,tabIndex:a,"aria-label":s})};return n}(o.PureComponent);v.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};const g=v},204882:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>d,yD:()=>h,Zd:()=>y});var r=n(974119),o=n(675860),i=n(173436),a=n(822567),s=n(655695),c=n(631134),u=n(318007),l=n(461061);function f(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){var e,t,n=c.default.getId();u.Z.getUsers().forEach((t=(e=function(e){var t,a,s,c,u;return p(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(a=r.Z.getToken(t))||""===a){i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:l.ANM.ME,headers:{authorization:a},retries:3})];case 2:
s=f.sent();return[3,4];case 3:c=f.sent();u=401===(null==c?void 0:c.status)||403===(null==c?void 0:c.status);i.Z.dispatch({type:u?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2];case 4:i.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:s.body});i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return t.apply(this,arguments)}))}function h(e){var t=r.Z.getToken(e);if(null!=t){i.Z.dispatch({type:"LOGOUT",isSwitchingAccount:!0});a.Z.loginToken(t,!0);(0,s.uL)(l.Z5c.ME)}else i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e})}function y(e){i.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},908170:(e,t,n)=>{"use strict";n.d(t,{L:()=>c})
;var r=n(667294),o=n(791462),i=n(173436),a=n(204882),s=n(318007);function c(){var e=(0,o.cj)([s.Z],(function(){return{isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}}));r.useEffect((function(){i.Z.wait((function(){a.HJ()}))}),[]);return e}},674945:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,Z:()=>P});var r,o=n(785893),i=n(667294),a=n(294184),s=n.n(a),c=n(791462),u=n(489992),l=n(822567),f=n(281081),p=n(769672),d=n(266559),h=n(948571),y=n(631134),m=n(893321),v=n(859023),g=n(191940),E=n(82961),_=n(557328),b=n(766936),O=n(932847),I=n(204882),N=n(318007),T=n(908170),S=n(461061),A=n(959797),C=n(966582),x=n.n(C);function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.LOGIN_REQUIRED=0]="LOGIN_REQUIRED";e[e.SWITCHED=1]="SWITCHED";e[e.REMOVED=2]="REMOVED"}(r||(r={}));function R(e){var t=e.actionText,n=e.user,i=e.onAction,a=(0,c.cj)([v.default,m.Z,y.default],(function(){return{
currentUser:v.default.getCurrentUser(),hidePrivateData:m.Z.hidePersonalInformation,isAuthenticated:y.default.isAuthenticated()}})),E=a.currentUser,T=a.hidePrivateData,C=a.isAuthenticated,R=new h.Z(n),P=C&&(null==E?void 0:E.id)===R.id,w=n.tokenStatus===N.q.INVALID,L=T?null:"#".concat(R.discriminator),Z=null;P?Z=(0,o.jsx)(u.xv,{variant:"text-sm/semibold",className:x().hintText,color:"text-positive",children:A.Z.Messages.SWITCH_ACCOUNTS_ACTIVE_ACCOUNT}):w&&(Z=(0,o.jsx)(u.xv,{variant:"text-sm/semibold",className:x().hintText,color:"text-danger",children:A.Z.Messages.SWITCH_ACCOUNTS_INVALID_TOKEN}));return(0,o.jsx)("div",{className:x().accountCard,children:(0,o.jsxs)("div",{className:x().userDetails,children:[(0,o.jsx)(b.ZP,{src:R.getAvatarURL(void 0,40),size:b.ZP.Sizes.SIZE_40,"aria-label":n.username}),(0,o.jsxs)("div",{className:s()(x().usernameSection,j({},x().hasActionMaxWidth,!P)),children:[(0,o.jsxs)("div",{className:x().username,children:[(0,o.jsx)(u.xv,{variant:"text-md/semibold",
color:"header-primary",className:x().textOverflow,children:R.toString()}),(0,o.jsx)(u.xv,{color:"header-secondary",variant:"text-sm/normal",children:L})]}),Z]}),(0,o.jsxs)("div",{className:x().userActions,children:[!P&&(0,o.jsx)(g.Co,{onClick:function(){if(w)i(r.LOGIN_REQUIRED,n.id);else{O.default.track(S.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:S.jXE.MANAGE_ACCOUNTS_MODAL}});I.yD(n.id);i(r.SWITCHED,n.id)}},color:g.Co.Colors.PRIMARY,children:w?A.Z.Messages.SWITCH_ACCOUNTS_ACTION_LOG_IN:t}),(0,o.jsx)(g.Co,{className:x().userActionMenu,onClick:function(e){(0,f.vq)(e,(function(e){var t=e.onSelect;return(0,o.jsx)(p.ZP,{"aria-label":A.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNT,navId:"manage-multi-account",onClose:f.Zy,onSelect:t,children:(0,o.jsx)(d.sN,{id:"remove-account",label:A.Z.Messages.SWITCH_ACCOUNTS_REMOVE_ACCOUNT,action:function(){!function(){l.Z.logout(null,n.id).finally((function(){I.Zd(n.id)}));var e={};null!=E?e.section=S.jXE.MANAGE_ACCOUNTS_MODAL:e.page=S.Usc.LOGIN
;O.default.track(S.rMx.MULTI_ACCOUNT_ACCOUNT_REMOVE,{location:e});i(r.REMOVED,n.id)}();null!=t&&t()},color:"danger"})})}))},size:g.Co.Sizes.ICON,look:g.Co.Looks.BLANK,color:g.Co.Colors.WHITE,"aria-label":A.Z.Messages.MORE_OPTIONS,children:(0,o.jsx)(_.Z,{className:x().overflowMenuIcon})})]})]})})}function P(e){var t=e.actionText,n=e.onAction,r=(0,T.L)(),a=r.isLoading,s=r.multiAccountUsers;return(0,o.jsx)("div",{className:x().list,children:a?(0,o.jsx)(E.Z,{}):s.map((function(e,r){return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(R,{user:e,actionText:t,onAction:n},e.id),s.length-1!==r&&(0,o.jsx)("div",{role:"separator",className:x().separator})]},e.id)}))})}},677523:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>i});var r=n(173436);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e})}))}function i(){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_COMPLETE"})}))}},714392:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){
e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},639472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var f=null;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=l(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);p.displayName="NewUserStore";p.persistKey="nuf";const d=new p(o.Z,{NUF_NEW_USER:function(e){
var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},190335:(e,t,n)=>{"use strict";n.d(t,{Nz:()=>r,o9:()=>i});var r;!function(e){e.PHONE="phone";e.EMAIL="email"}(r||(r={}));var o=/^[-() \d]+$/;function i(e,t){return e===r.PHONE?!(n=t,n.startsWith("+")):e!==r.EMAIL&&(!(t.length<3)&&o.test(t));var n}},614503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(791462),o=n(173436),i=n(388337);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l,f=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var d=(0,i.K4)();function h(e){var t=e.countryCode;if(null!=t){var n;d=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:(0,i.K4)()}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=p(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){
null!=e&&(l=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:l}};r.getCountryCode=function(){return null!=l?l:d};r.__getLocalVars=function(){return{selectedCountryCode:l,defaultCountryCode:d}};return n}(r.ZP.DeviceSettingsStore);y.displayName="PhoneStore";y.persistKey="PhoneStore";const m=new y(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;l=t},CONNECTION_OPEN:h,SET_LOCATION_METADATA:h})},552795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>pe});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(824390),c=n.n(s),u=n(496486),l=n.n(u),f=n(45692),p=n(388337),d=n(487502),h=n(851994),y=n(31165),m=n(647446),v=n(316921),g=n(832010),E=n(983067),_=n(461061),b=n(672908),O=n.n(b),I=n(380203),N=n.n(I);function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){
A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function j(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var L=l().memoize((function(e){var t=!1;if(null!=e&&(0,v.FX)(e)){var n=(0,v._i)(e);null!=n&&(t=(0,v.Bd)(n)<.2)}return t?(0,g.Lq)(_.Ilk.BLACK_500):(0,g.Lq)(_.Ilk.WHITE_500)})),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&R(e,t)}(n,e);var t=w(n);function n(){T(this,n);var e;(e=t.apply(this,arguments)).state={color:L(e.props.color)};e.handleKeyUp=function(t){if(t.which===_.yXg.ENTER||t.which===_.yXg.SPACE){var n=e.props;(0,n.onClick)(x(n,["onClick"]))}};e.handleClick=function(){var t=e.props;(0,t.onClick)(x(t,["onClick"]))};return e}n.prototype.render=function(){var e,t=this.props,n=t.selected,o=t.color,i=t.className,s=t.children,c=L(o);n?e={color:c,background:null!=o?o:(0,g.Lq)(_.Ilk.BRAND_500)}:null!=o&&(e={color:o});return(0,r.jsx)(m.tE,{offset:{left:4},children:(0,r.jsxs)(d.Z,{className:a()(O().selectableItem,i,S({},O().selected,n)),onClick:this.handleClick,onKeyUp:this.handleKeyUp,align:d.Z.Align.CENTER,style:C({},e,this.props.style),role:"button",tabIndex:0,children:[(0,r.jsx)(d.Z,{align:d.Z.Align.CENTER,className:O().selectableItemLabel,shrink:1,children:s}),n&&(0,r.jsx)(d.Z,{wrap:d.Z.Wrap.WRAP,className:N().marginReset,grow:0,shrink:0,children:(0,
r.jsx)(E.Z,{color:c})})]})})};return n}(o.PureComponent);const M=Z;var D=n(15063),U=n(622677),k=n.n(U);function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F(e){F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return F(e)}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&W(e,t)}function V(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function z(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e,t){W=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return W(e,t)}var Y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}var X=function(e){H(n,e);var t=q(n);function n(){G(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=K(e,["className"]);return(0,r.jsx)(y.Z,V(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){B(e,t,n[t])}))}return e}({},n),{className:a()(k().popoutListInput,t)}))};return n}(o.PureComponent);X.defaultProps={autoFocus:!0};var Q=function(e){H(n,e);var t=q(n)
;function n(){G(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return(0,r.jsx)(h.Z,{className:a()(k().popoutList,t),"aria-label":this.props["aria-label"],children:n})};return n}(o.PureComponent);Q.SearchBar=X;Q.Item=M;Q.Divider=function(){return(0,r.jsx)(D.Z,{className:k().divider})};Q.Empty=function(e){var t=e.children;return(0,r.jsx)("div",{className:k().popoutListEmpty,children:t})};const J=Q;var $=n(725002),ee=n(959797),te=n(886995),ne=n.n(te),re=n(480798),oe=n.n(re);function ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ae(e){ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ae(e)}function se(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ce(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e,t){ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ue(e,t)}var le=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ue(e,t)}(n,e);var t=fe(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).onChangeQuery=function(e){r.setState({query:e})};r.onClearQuery=function(){r.setState({query:""})};r.onClick=function(e){var t,n;null===(n=(t=r.props).onClick)||void 0===n||n.call(t,e)};r.state={query:""};return r}var i=n.prototype;i.renderItems=function(){var e=this,t=this.state.query,n=f.Z.flatMap((function(e,t){var n=e.alpha2,o=e.phoneCountryCodes,i=e.name,a=(0,p.q9)(n);return o.map((function(e){return{key:"".concat(t,"-").concat(e),name:i,translatedName:a,countryData:{name:i,alpha2:n,code:e},
children:(0,r.jsxs)(d.Z,{className:ne().countryItem,justify:d.Z.Justify.CENTER,align:d.Z.Align.CENTER,children:[(0,r.jsx)(d.Z.Child,{className:ne().countryName,children:a}),(0,r.jsx)(d.Z.Child,{className:ne().countryCode,grow:0,shrink:0,children:e})]})}}))})),i=l()(n).filter((function(e){return 0===t.length||c()(t.toLowerCase(),e.name.toLowerCase())||c()(t.toLowerCase(),e.translatedName.toLowerCase())})).map((function(t){return(0,o.createElement)(J.Item,se(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ie(e,t,n[t])}))}return e}({},t),{key:t.key,onClick:function(){return e.onClick(t.countryData)}}))})).value();return 0===i.length?(0,r.jsx)(J.Empty,{children:ee.Z.Messages.NONE}):(0,r.jsx)($.w0,{className:ne().phoneFieldScroller,
children:i})};i.render=function(){var e=this.props.className;return(0,r.jsxs)(J,{className:a()(ne().phoneFieldPopout,oe().elevationBorderLow,e),children:[(0,r.jsx)(J.SearchBar,{query:this.state.query,placeholder:ee.Z.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery,autoComplete:"off"}),(0,r.jsx)(J.Divider,{}),this.renderItems()]})};return n}(o.PureComponent)},363419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(801593),c=n(272729),u=n(562181),l=n(190335),f=n(248088),p=n(791462),d=n(730189),h=n(629590),y=n(761434),m=n(99918),v=n(552795),g=n(919252),E=n.n(g);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function I(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){var t=e.show,n=e.alpha2,i=e.countryCode,s=(0,p.e7)([d.Z],(function(){return d.Z.useReducedMotion})),c=o.useRef(null),u=N(o.useState(0),2),l=u[0],g=u[1],_=N(o.useState(!1),2),T=_[0],S=_[1];o.useEffect((function(){var e=function(){var e,n;g(t&&null!==(n=null===(e=c.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0)};e();window.addEventListener("resize",e);return function(){
return window.removeEventListener("resize",e)}}),[t,n,i]);var A=(0,f.useSpring)({width:"".concat(l,"px"),immediate:s,onStart:function(){S(!0)},onRest:function(){S(!1)}});return(0,r.jsx)(y.ZP,{position:y.ZP.Positions.TOP,renderPopout:function(e){return(0,r.jsx)(v.Z,{className:E().popout,onClick:function(t){!function(e){m.Z.setCountryCode(e)}(t);e.closePopout()}})},children:function(e){return(0,r.jsx)("div",{className:a()(E().outerContainer,b({},E().hidden,!(t||T))),children:(0,r.jsx)(f.animated.div,{className:E().container,style:A,children:(0,r.jsxs)("div",{className:E().innerContainer,ref:c,children:[(0,r.jsxs)(h.Z,I(O({},e),{className:E().countryCode,children:[n," ",i]})),(0,r.jsx)("div",{className:E().separator})]})})})}})}var S=n(340839),A=n.n(S),C=n(641501),x=n.n(C);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){
var t,n=e.alpha2,i=e.countryCode,f=e.forceMode,p=e.label,d=e.error,h=e.className,y=e.required,m=e.value,v=e.setRef,g=e.placeholder,E=e.autoFocus,_=e.maxLength,b=e.spellCheck,O=e.autoComplete,I=e.autoCapitalize,N=e.autoCorrect,S=e.onChange,C=e.inputClassName,j=(0,c.Dt)(),w=P(o.useState(!1),2),L=w[0],Z=w[1],M=(0,l.o9)(f,m);return(0,r.jsx)(u.xJ,{title:p,error:d,className:h,required:y,tag:"label",htmlFor:j,children:(0,r.jsxs)("div",{className:a()(x().input,A().input,C,(t={},R(t,x().error,null!=d),R(t,x().focused,L),t)),children:[(0,r.jsx)(T,{show:M,alpha2:n,countryCode:i}),(0,r.jsx)(s.ZP,{id:j,name:"email",type:f===l.Nz.EMAIL?"email":"text",value:m,inputRef:v,placeholder:g,"aria-label":p,required:y,onChange:function(e){var t=(0,l.o9)(f,e)?i:"";S(e,t)},autoComplete:O,autoCapitalize:I,autoCorrect:N,autoFocus:E,maxLength:_,spellCheck:b,className:A().inputWrapper,inputClassName:A().inputField,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)}})]})})}},182102:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(791462)),i=n(730189),a=n(304546),s=n(898862);function c(e){var t,c=e.giftStyle,u=e.className,l=e.shouldAnimate,f=void 0===l||l,p=(0,o.e7)([i.Z],(function(){return i.Z.useReducedMotion}));if(null==c)return null;switch(c){case s.Cj.SNOWGLOBE:t=function(){return n.e(529).then(n.t.bind(n,400529,19)).then((function(e){return e.default}))};break;case s.Cj.BOX:t=function(){return n.e(12773).then(n.t.bind(n,512773,19)).then((function(e){return e.default}))};break;case s.Cj.CUP:t=function(){return n.e(45684).then(n.t.bind(n,45684,19)).then((function(e){return e.default}))};break;default:throw new Error("Unexpected giftStyle ".concat(c))}return(0,r.jsx)(a.Z,{importData:t,shouldAnimate:!p&&f,className:u})}},40188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(738017),c=n(589175),u=n(39802),l=n(913165),f=n.n(l);function p(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))
}));return e}function v(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E,_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}!function(e){e[e.ENTERING=0]="ENTERING";e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(E||(E={}));var O=function(e){y(n,e);var t=b(n);function n(){
p(this,n);var e;(e=t.apply(this,arguments)).state={animationProgress:new s.Z.Value(0),targetHeight:0,baseHeight:0,animationState:null};e.direction=e.props.getDirection();e._measureRef=o.createRef();return e}var i=n.prototype;i.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};i.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};i.componentWillAppear=function(e){this.setState({animationState:E.APPEARING});e()};i.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:E.STATIC,baseHeight:n})};i.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:E.ENTERING});this.props.setHeight(this.state.targetHeight);s.Z.timing(n,{toValue:2,
duration:t,delay:t/2}).start(e)};i.componentDidEnter=function(){this.setState({animationState:E.STATIC})};i.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o();this.setState({animationState:E.LEAVING});s.Z.timing(t,{toValue:0,duration:r}).start(e)};i.componentDidLeave=function(){this.setState({animationState:E.STATIC})};i.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,o=this.state,i=o.animationProgress,a=o.animationState,c=o.baseHeight,u=o.targetHeight,l=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,f=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,p=a===E.LEAVING,h=a===E.ENTERING,y=(p?-1:1)*this.direction,v={overflow:h||p?"hidden":"visible",position:p?"absolute":void 0,top:p?f:void 0,left:p?l:void 0,right:p?l:void 0,bottom:p?f:void 0},g={transform:[{translateX:i.interpolate({inputRange:[0,2],outputRange:["".concat(150*y,"%"),"0%"],extrapolate:"clamp",
easing:s.Z.Easing.inOut(s.Z.Easing.ease)})}]};return m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},v,n.enabled?null:g),{opacity:i.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:s.Z.Easing.inOut(s.Z.Easing.ease)}),height:h?i.interpolate({inputRange:[0,1],outputRange:[c,u],extrapolate:"clamp",easing:s.Z.Easing.inOut(s.Z.Easing.ease)}):r?"100%":"auto"})};i.render=function(){var e=this.props,t=e.fillParent,n=e.className,o=e.animatedNodeClassName,i=e.staticClassName,c=this.state.animationState;return t?(0,r.jsx)("div",{ref:this._measureRef,className:a()(f().measurementFill,n,d({},a()(f().measurementFillStatic,i),c===E.STATIC)),children:(0,r.jsx)(s.Z.div,{
className:a()(f().animatedNode,o),style:this.getAnimatedStyle(),children:this.props.children})}):(0,r.jsx)("div",{ref:this._measureRef,className:a()(f().measurement,n),children:(0,r.jsx)(s.Z.div,{className:a()(f().animatedNode,o),style:this.getAnimatedStyle(),children:this.props.children})})};return n}(o.PureComponent);O.contextType=u.S;O.defaultProps={duration:300};var I=function(e){y(n,e);var t=b(n);function n(){p(this,n);var e;(e=t.apply(this,arguments)).stepHeights={};e.prevStep=null;e.prevSteps=[];e.getBaseHeight=function(){return null!=e.prevStep&&null!=e.stepHeights[e.prevStep]?e.stepHeights[e.prevStep]:0};e.getDirection=function(){var t=e.props,n=t.steps,r=t.step,o=null!=e.prevStep?n.indexOf(e.prevStep):-1,i=-1===o&&null!=e.prevStep?e.prevSteps.indexOf(e.prevStep):-1;return Math.max(o,i)>n.indexOf(r)?-1:1};e.setHeight=function(t){var n=e.props.step;e.stepHeights[n]=t};return e}var o=n.prototype;o.componentDidMount=function(){this.setPrevSteps()};o.componentDidUpdate=function(){
this.setPrevSteps()};o.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};o.render=function(){var e=this.props,t=e.step,n=e.className,o=e.innerClassName,i=e.animatedNodeClassName,s=e.staticClassName,u=e.sideMargin,l=e.verticalMargin,p=e.children,d=e.fillParent;return(0,r.jsx)(c.Z,{component:"div",className:a()(f().transitionGroup,n),children:(0,r.jsx)(O,{fillParent:d,sideMargin:u,verticalMargin:l,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:o,animatedNodeClassName:i,staticClassName:s,setHeight:this.setHeight,children:p},"".concat(t))})};return n}(o.Component);I.defaultProps={fillParent:!1}},111775:(e,t,n)=>{"use strict";n.d(t,{MK:()=>r,FF:()=>o,mx:()=>i,X2:()=>a,EW:()=>s});var r,o,i,a,s;!function(e){e.UNKNOWN="unknown";e.ANY="any";e.INVITE="invite";e.ORGANIC="organic_registration";e.ORGANIC_MARKETING="organic_marketing";e.ORGANIC_GUILD_TEMPLATES="organic_guild_template";e.CREATE_GUILD="create_guild"}(r||(r={}))
;!function(e){e.AGE_GATE="age_gate";e.AGE_GATE_UNDERAGE="age_gate_underage"}(o||(o={}));!function(e){e.CLAIM_ACCOUNT="claim_account";e.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(i||(i={}));!function(e){e.GUILD_TEMPLATES="guild_templates";e.GUILD_CREATE="guild_create";e.CREATION_INTENT="creation_intent";e.CHANNEL_PROMPT="channel_prompt";e.JOIN_GUILD="join_guild";e.SUCCESS="create_success"}(a||(a={}));!function(e){e.NUF_STARTED="nuf_started";e.AGE_GATE="age_gate";e.NUF_COMPLETE="nuf_complete";e.HUB_CONNECTION="hub_connection"}(s||(s={}))},162917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(185253),o=n(444450),i=n(832691),a=n(932847),s=n(111775),c=n(461061);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},y="UserFlowAnalyticsStore_current",m="UserFlowAnalyticsStore";new i.Z("UserFlowAnalytics");function v(e){if(e===s.MK.UNKNOWN)return null;var t=o.Z.get("".concat(m,"-").concat(e));if(null==t)return null;var n=t.version,r=p(t,["version"]);return 1!==n?null:r}var g=(0,r.Z)((function(e,t){return u({flows:{},currentFlow:null},"activeFlow",(function(){var e,n=null!==(e=t().currentFlow)&&void 0!==e?e:o.Z.get(y);if(null==n)return null;var r=t().flows[n],i=null!=r?r:v(n)
;return null!=(null==i?void 0:i.currentStep)?n:null}))}));g.subscribe((function(e){var t;if(null!=e){!function(e){if(e.type!==s.MK.UNKNOWN){var t="".concat(m,"-").concat(e.type);if(e.ended){o.Z.remove(t);o.Z.remove(y)}else{o.Z.set("".concat(m,"-").concat(e.type),f(l({},e),{version:1}));o.Z.set(y,e.type)}}}(e);a.default.track(c.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0});if(e.ended){var n=l({},g.getState().flows);delete n[e.type];g.setState({flows:n,currentFlow:null})}}}),(function(e){return null!=e.currentFlow?e.flows[e.currentFlow]:void 0}));function E(e,t){var n=g.getState().flows,r=n[e],o=p(n,[e].map(d)),i=null!=r?r:v(e);if(null!=(null==i?void 0:i.currentStep)){if(i.currentStep===t)return;0}g.setState({flows:f(l({},o),u({},e,{type:e,lastStep:null,lastTimestamp:null,
currentStep:t,currentTimestamp:new Date,skipped:!1})),currentFlow:e})}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;if(e===s.MK.ANY){var o;r=null!==(o=g.getState().activeFlow())&&void 0!==o?o:s.MK.UNKNOWN}var i=g.getState().flows,a=i[r],c=p(i,[r].map(d)),h=null!=a?a:v(r);null!=h&&null!=h.currentStep&&h.currentStep!==t&&g.setState({flows:f(l({},c),u({},r,f(l({},h),{lastStep:h.currentStep,lastTimestamp:h.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}))),currentFlow:r})}function b(){return null!=g.getState().activeFlow()}const O={flowStart:E,flowStepOrStart:function(e,t){b()?_(e,t):E(e,t)},flowStep:_,hasActiveFlow:b}},333999:(e,t,n)=>{"use strict";n.d(t,{vG:()=>i,M0:()=>a,Od:()=>s});var r,o=n(959797),i="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(r||(r={}))
;var a=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],s=[{category:r.COMMUNICATION,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS
},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},451620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(730381),o=n.n(r),i=n(490640),a=n(418674),s=n(832377),c=n(298716);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=Object.freeze({PAYMENT_SOURCE_REQUIRED:1,EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED:2,NOT_SELF_REDEEMABLE:4}),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=h(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).userId=e.userId;r.code=e.code;r.skuId=e.skuId;r.uses=e.uses;r.maxUses=e.maxUses;r.expiresAt=e.expiresAt;r.redeemed=e.redeemed
;r.storeListingId=e.storeListingId;r.subscriptionPlanId=e.subscriptionPlanId;r.subscriptionPlan=e.subscriptionPlan;r.revoked=e.revoked;r.entitlementBranches=e.entitlementBranches;r.flags=e.flags;r.subscriptionTrial=e.subscriptionTrial;r.promotion=e.promotion;r.giftStyle=e.giftStyle;return r}var r=n.prototype;r.isExpired=function(){var e=this.expiresAt;return null!=e&&o()().isAfter(e)};r.toString=function(){return this.code};n.createFromServer=function(e){return new n({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?o()(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,subscriptionPlan:null!=e.subscription_plan?s.Z.createFromServer(e.subscription_plan):null,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null,flags:null!=e.flags?e.flags:0,
giftStyle:e.gift_style,subscriptionTrial:null!=e.subscription_trial?{id:e.subscription_trial.id,interval:e.subscription_trial.interval,intervalCount:e.subscription_trial.interval_count,skuId:e.subscription_trial.sku_id}:null,promotion:null!=e.promotion?{id:e.promotion.id,startDate:e.promotion.start_date,endDate:e.promotion.end_date,inboundHeaderText:e.promotion.inbound_header_text,inboundBodyText:e.promotion.inbound_body_text,inboundHelpCenterLink:e.promotion.inbound_help_center_link}:null})};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&c.y7[this.skuId]||null}},{key:"isSelfRedeemable",get:function(){return!(0,
a.yE)(this.flags,y.NOT_SELF_REDEEMABLE)}},{key:"isExistingPremiumSubscriptionDisallowed",get:function(){return(0,a.yE)(this.flags,y.EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED)}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}]);return n}(i.Z)},774481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(487502),c=n(69850),u=n.n(c);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var v=function(e){p(n,e);var t=m(n);function n(){l(this,n);var e;(e=t.apply(this,arguments)).setCodeBlockRef=function(t){e._codeBlockRef=t};e.handleKeyDown=function(t){var n=8===t.which||37===t.which||39===t.which,r=t.which>=48&&t.which<=57||t.keyCode>=96&&t.keyCode<=105
;n||r||t.preventDefault();var o=e.props.onKeyDown;null==o||o(t)};e.handleChange=function(t){var n=e.props.onChange;null==n||n(t.currentTarget.value)};return e}var o=n.prototype;o.render=function(){var e=this.props.className;return(0,r.jsx)("input",{ref:this.setCodeBlockRef,className:a()(u().input,e),maxLength:1,value:null!=this.props.code?this.props.code:void 0,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})};o.focus=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.focus()};o.blur=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.blur()};return n}(o.PureComponent);v.defaultProps={autoFocus:!1};var g=function(e){p(n,e);var t=m(n);function n(e){l(this,n);var r;(r=t.call(this,e))._codeBlockRefs=new Array(r.props.count);r.state={codes:new Array(e.count)};return r}var o=n.prototype;o.render=function(){for(var e=function(e){e===a.length/2&&c.push((0,r.jsx)("div",{className:u().spacer},"spacer"));c.push((0,r.jsx)(v,{
ref:function(n){return t.setCodeBlockRef(e,n)},code:a[e],autoFocus:0===e,onChange:function(n){return t.handleChange(e,n)},onKeyDown:function(n){return t.handleKeyDown(e,n)},className:i},e))},t=this,n=this.props,o=n.className,i=n.inputClassName,a=this.state.codes,c=[],l=0;l<a.length;l++)e(l);return(0,r.jsx)(s.Z,{align:s.Z.Align.CENTER,justify:s.Z.Justify.CENTER,className:o,children:c})};o.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t};o.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];null==r||r.focus()}};o.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var o=this._codeBlockRefs[r];null==o||o.focus()}};o.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t};o.submit=function(e){var t=this.props.onSubmit
;null==t||t(e)};return n}(o.PureComponent);g.defaultProps={count:6};const E=g},304546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(365523);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var y,m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:
if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.SVG="svg";e.CANVAS="canvas";e.HYBRID="hybrid"}(y||(y={}));var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(a,e);var t=h(a);function a(){c(this,a);var e;(e=t.apply(this,arguments)).animationRef=o.createRef();e.delayTimeout=new i.V7;e.handleComplete=function(){var t=e.props.onComplete;null!=t&&t()};return e}var u=a.prototype;u.componentDidMount=function(){var e,t=this
;return(e=function(){var e,r,o,i,a,s,c,u,l,f,d;return m(this,(function(h){switch(h.label){case 0:e=t.props,r=e.importData,o=e.loop,i=e.autoplay,a=e.delay,s=e.renderer,c=e.shouldAnimate;return[4,Promise.all([r(),n.e(11248).then(n.t.bind(n,211248,23))])];case 1:u=p.apply(void 0,[h.sent(),2]),l=u[0],f=u[1],d=f.default;if(null==t.animationRef.current)return[2];t.animation=d.loadAnimation({container:t.animationRef.current,renderer:s,loop:o,autoplay:i&&null==a&&c,animationData:l});null!=a?t.delayTimeout.start(a,(function(){t.animation.play()})):t.playOrPauseAnimation();t.animation.addEventListener("complete",t.handleComplete);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))})()};u.componentDidUpdate=function(e){this.playOrPauseAnimation(e)};u.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy();this.delayTimeout.stop()}
;u.playOrPauseAnimation=function(e){if(null!=this.animation)if(!this.props.shouldAnimate||null!=e&&e.shouldAnimate){if(!this.props.shouldAnimate&&(null==e||e.shouldAnimate)){this.animation.pause();null!=this.props.pauseAtFrame&&this.animation.goToAndStop(this.props.pauseAtFrame,!0)}}else this.props.resetOnPlay?this.animation.goToAndPlay(0):this.animation.play()};u.render=function(){return(0,r.jsx)("div",{className:this.props.className,ref:this.animationRef})};return a}(o.Component);v.defaultProps={loop:!0,autoplay:!0,renderer:"svg",shouldAnimate:!0,resetOnPlay:!1};v.Renderers=y;const g=v},601465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(647446),c=n(392224),u=n(461061),l=n(959797),f=n(932440),p=n.n(f);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){
y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var b,O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){
var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}!function(e){e.TOP="top";e.BOTTOM="bottom"}(b||(b={}));var N={container:function(e,t){var n=t.isDisabled;return v(m({},e),{cursor:n?"not-allowed":void 0,pointerEvents:void 0,fontSize:16,fontWeight:500,width:"100%"})},control:function(e,t){var n=t.isDisabled,r=t.menuIsOpen;return v(m({},e),{backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:n?.6:1,boxShadow:void 0,borderRadius:r?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":void 0,pointerEvents:n?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}})},singleValue:function(e,t){var n=t.isDisabled;return v(m({},e),{color:"var(--interactive-normal)",opacity:n?.5:1})},input:function(e){return v(m({},e),{color:"var(--interactive-normal)"})},menu:function(e){return v(m({},e),{backgroundColor:"var(--background-secondary)",
border:"1px solid var(--background-tertiary)",borderRadius:"0 0 4px 4px",color:"var(--interactive-normal)",marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var n=t.isDisabled;return v(m({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:"var(--text-danger)",opacity:1}})},indicatorsContainer:function(e){return v(m({},e),{alignItems:"flex-start"})},dropdownIndicator:function(e,t){var n=t.isDisabled;return v(m({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:n?.3:1,padding:"8px 8px 8px 0",":hover":{color:"var(--interactive-hover)",opacity:n?.3:1}})},menuList:function(e){return v(m({},e),{padding:0,"&::-webkit-scrollbar":{width:8,padding:"0px 2px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-thin-thumb)",border:"2px solid transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",
borderColor:"transparent"}})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return v(m({},e,n?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:r?{backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"}),{cursor:"pointer",display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}})},placeholder:function(e){return v(m({},e),{color:"var(--text-muted)"})}},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=I(n);function n(){d(this,n);var e;(e=t.apply(this,arguments))._selectRef=o.createRef();e._containerRef=o.createRef();e.state={isFocused:!1,
isOpen:!1};e.handleFocus=function(t){var n,r;e.setState({isFocused:!0});null===(r=(n=e.props).onFocus)||void 0===r||r.call(n,t)};e.handleBlur=function(t){var n,r;e.setState({isFocused:!1});null===(r=(n=e.props).onBlur)||void 0===r||r.call(n,t)};e.handleKeyDown=function(t){t.which===u.yXg.ESCAPE&&e.state.isOpen&&t.stopPropagation()};e.handleMenuOpen=function(){e.setState({isOpen:!0})};e.handleMenuClose=function(){e.setState({isOpen:!1})};return e}var i=n.prototype;i.focus=function(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()};i.render=function(){
var e=this.props,t=e.className,n=e.selectClassName,o=e.error,i=e.valueRenderer,u=e.optionRenderer,f=e.multiValueRenderer,d=e.options,y=e.value,E=e.autofocus,_=e.disabled,b=e.clearable,O=e.searchable,I=e.styleOverrides,T=e.isMulti,S=e.placeholder,A=m({},g(e,["className","selectClassName","error","valueRenderer","optionRenderer","multiValueRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","isMulti","placeholder"]));null!=E&&(A.autoFocus=E);null!=_&&(A.isDisabled=_);null!=b&&(A.isClearable=b);null!=O&&(A.isSearchable=O);var C={IndicatorSeparator:function(){return null}};null!=u&&(C.Option=function(e){return(0,r.jsx)(c.wx.Option,v(m({},e),{children:u(e.data)}))});null!=i&&(C.SingleValue=function(e){return(0,r.jsx)(c.wx.SingleValue,v(m({},e),{children:i(e.data)}))});null!=f&&(C.MultiValue=function(e){return f(e.data)});var x,j=null!=I?I:N;if(T&&Array.isArray(y)){var R={};d.forEach((function(e){R[String(e.value)]=e}));x=y.map((function(e){
return R[String(e)]}))}else x=null!=y?d.find((function(e){return e.value===y})):null;return(0,r.jsx)(s.tE,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef,children:(0,r.jsxs)("div",{className:a()(p().select,t,h({},p().error,null!=o)),ref:this._containerRef,children:[(0,r.jsx)(c.ZP,v(m({},A),{className:n,ref:this._selectRef,isMulti:T,components:C,options:d,styles:j,onFocus:this.handleFocus,onBlur:this.handleBlur,onMenuOpen:this.handleMenuOpen,onMenuClose:this.handleMenuClose,value:x,onKeyDown:this.handleKeyDown,placeholder:null!=S?S:l.Z.Messages.SELECT,noOptionsMessage:function(){return l.Z.Messages.NO_RESULTS_FOUND}})),null!=o?(0,r.jsx)("div",{className:p().errorMessage,children:o}):null]})})};return n}(o.Component);T.MenuPlacements=b},401386:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=n(667294).createContext({disableInteractions:!1,disableAnimations:!1})},15063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),
n(294184)),i=n.n(o),a=n(416983),s=n.n(a);function c(e){var t=e.className,n=e.style;return(0,r.jsx)("div",{className:i()(s().divider,t),style:n})}},941460:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>y,HI:()=>m,ZP:()=>g});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(624387),s=n(487502),c=n(604175),u=n(962271),l=n(259957),f=n.n(l);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var y=a.Z.Types,m={LEFT:"left",RIGHT:"right"},v=function(e){var t,n,o=e.type,l=void 0===o?a.Z.Types.DANGER:o,y=e.imageData,v=e.button,g=e.className,E=e.iconClassName,_=e.title,b=e.body,O=e.style,I=e.align,N=void 0===I?s.Z.Align.START:I,T=s.Z.Direction.HORIZONTAL;if(null!=y){var S=y.position,A=h(y,["position"]);t=(0,r.jsx)(s.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)("img",d({alt:"",className:i()(f().icon,E)},A))});S===m.RIGHT&&(T=s.Z.Direction.HORIZONTAL_REVERSE)}else null!=v&&(n=v);var C=!0;l===a.Z.Types.PRIMARY&&(C=!1);return(0,r.jsx)(a.Z,{className:i()(f().formNotice,g),type:l,style:O,children:(0,r.jsxs)(s.Z,{direction:T,align:N,children:[t,(0,r.jsxs)(s.Z.Child,{children:[null!=_&&""!==_?(0,r.jsx)(u.Z,{tag:u.$.H5,className:i()(f().formNoticeTitle,p({},f().whiteText,C)),faded:!0,children:_}):null,(0,r.jsx)(c.Z,{
className:i()(f().formNoticeBody,p({},f().whiteText,C)),children:b}),n]})]})})};v.Types=a.Z.Types;const g=v},880680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(489992)),i=n(272729),a=n(881186),s=n(962271),c=n(671351),u=n.n(c);function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const f=function(e){var t,n=e.children,c=e.className,f=e.titleClassName,p=e.title,d=e.icon,h=e.disabled,y=e.htmlFor,m=e.tag,v=void 0===m?"h5":m,g=l(e,["children","className","titleClassName","title","icon","disabled","htmlFor","tag"]),E=(0,i.Dt)(),_=null!==(t=g.titleId)&&void 0!==t?t:E;return null!=p?(0,r.jsx)("div",{className:c,children:(0,r.jsx)(o.y5,{component:(0,
r.jsxs)("div",{className:u().sectionTitle,children:[d,null!=p?(0,r.jsx)(s.Z,{tag:v,id:_,htmlFor:y,disabled:h,className:f,children:p}):null]}),children:(0,r.jsx)("div",{className:u().children,children:(0,r.jsx)(a.ol,{titleId:_,children:n})})})}):(0,r.jsx)("div",{className:c,children:n})}},604175:(e,t,n)=>{"use strict";n.d(t,{Y:()=>p,Z:()=>v});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(462428),s=n(638803),c=n.n(s);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var p={DEFAULT:"default",INPUT_PLACEHOLDER:"placeholder",DESCRIPTION:"description",LABEL_BOLD:"labelBold",LABEL_SELECTED:"labelSelected",LABEL_DESCRIPTOR:"labelDescriptor",ERROR:"error",SUCCESS:"success"},d="modeDefault",h="modeDisabled",y="modeSelectable",m=function(e){var t=e.type,n=void 0===t?p.DEFAULT:t,o=e.className,s=e.disabled,m=e.selectable,v=e.children,g=e.style,E=f(e,["type","className","disabled","selectable","children","style"]),_=d;s?_=h:m&&(_=y);return(0,r.jsx)(a.Z,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({className:i()(c()[n],o,c()[_]),style:g},E),{children:v}))};m.Types=p;const v=m},562181:(e,t,n)=>{"use strict";n.d(t,{$i:()=>r.Z,xJ:()=>o.Z,To:()=>i.ZP,Sw:()=>i.HI,Dd:()=>i.Yk,hj:()=>a.Z,R9:()=>s.Z,ge:()=>s.Y,vw:()=>c.Z,RB:()=>c.$});var r=n(15063),o=n(983319);n(785893),n(667294),n(294184),n(747465),n(462428),n(959797),n(714706);var i=n(941460),a=n(880680),s=n(604175),c=n(962271)},449223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,u=void 0===c?24:c,l=e.color,f=void 0===l?"currentColor":l,p=e.foreground,d=s(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:u,viewBox:"0 0 24 24",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2.00305C6.486 2.00305 2 6.48805 2 12.0031V20.0031C2 21.1071 2.895 22.0031 4 22.0031H6C7.104 22.0031 8 21.1071 8 20.0031V17.0031C8 15.8991 7.104 15.0031 6 15.0031H4V12.0031C4 7.59105 7.589 4.00305 12 4.00305C16.411 4.00305 20 7.59105 20 12.0031V15.0031H18C16.896 15.0031 16 15.8991 16 17.0031V20.0031C16 21.1071 16.896 22.0031 18 22.0031H20C21.104 22.0031 22 21.1071 22 20.0031V12.0031C22 6.48805 17.514 2.00305 12 2.00305Z",className:p,fill:f})})}))}},462428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(588772),s=n.n(a),c=n(932629),u=n.n(c);function l(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var d=Object.freeze({STANDARD:s().colorStandard,
MUTED:s().colorMuted,ERROR:s().colorError,BRAND:s().colorBrand,LINK:s().colorLink,HEADER_PRIMARY:s().colorHeaderPrimary,HEADER_SECONDARY:s().colorHeaderSecondary,STATUS_YELLOW:s().colorStatusYellow,STATUS_GREEN:s().colorStatusGreen,STATUS_RED:s().colorStatusRed,INTERACTIVE_ACTIVE:s().colorInteractiveActive,INTERACTIVE_NORMAL:s().colorInteractiveNormal,ALWAYS_WHITE:s().colorWhite,CUSTOM:null}),h=Object.freeze({SIZE_10:u().size10,SIZE_12:u().size12,SIZE_14:u().size14,SIZE_16:u().size16,SIZE_20:u().size20,SIZE_24:u().size24,SIZE_32:u().size32}),y=function(e){var t,n=e.className,o=e.color,a=void 0===o?d.STANDARD:o,c=e.size,u=void 0===c?h.SIZE_14:c,y=e.tag,m=void 0===y?"div":y,v=e.selectable,g=void 0!==v&&v,E=e.strong,_=void 0!==E&&E,b=e.children,O=e.style,I=e["aria-label"],N=p(e,["className","color","size","tag","selectable","strong","children","style","aria-label"]);return(0,r.jsx)(m,f(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({"aria-label":I,className:i()(a,u,n,(t={},l(t,s().selectable,g),l(t,s().strong,_),t)),style:O},N),{children:b}))};y.Colors=d;y.Sizes=h;const m=y},503280:(e,t,n)=>{"use strict";n.d(t,{w4:()=>_,DW:()=>O,t3:()=>I,Gn:()=>N});var r,o=n(131795),i=n.n(o),a=n(531286),s=n(631134),c=n(461061);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l="Ubuntu",f="Debian",p="Fedora",d="Red Hat",h="SuSE",y="Linux",m="OS X",v="win",g="osx",E="linux";function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=t?"/ptb":"",o=null!=n?"&format=".concat(n):""
;return"".concat(c.fzT.DESKTOP).concat(r,"?platform=").concat(e).concat(o)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(r=i().os)||void 0===r?void 0:r.family;return null==e?v:-1!==e.indexOf(l)||-1!==e.indexOf(f)||-1!==e.indexOf(p)||-1!==e.indexOf(d)||-1!==e.indexOf(h)||-1!==e.indexOf(y)?E:-1!==e.indexOf(m)?g:v}function O(e){var t;return(u(t={},v,"Windows"),u(t,g,"Mac"),u(t,E,"Linux"),t)[b(e)]}function I(){var e=b();return _(e,!1,e===E?"tar.gz":null)}function N(e,t,n){var r=null!=n?n.toString():null;switch(t){case"iOS":return(0,a.ZP)(null!=r?r:"https://itunes.apple.com/us/app/cordcord-chat-for-games/id985746746",{utmSource:e,fingerprint:s.default.getFingerprint(),attemptId:(0,a.WS)()});case"Android":return(0,a.ZP)(null!=r?r:"https://play.google.com/store/apps/details",{utmSource:e,id:"com.cordcord",fingerprint:s.default.getFingerprint(),attemptId:(0,a.WS)()});default:return null!=r?r:"https://www.cordcord.com"}}},862325:(e,t,n)=>{"use strict";n.d(t,{
yb:()=>u,R4:()=>l,GY:()=>f,oE:()=>p});var r=n(441143),o=n.n(r),i=n(174034),a=n(916957),s=n(461061),c=n(298716);function u(e){return function(e){return e.items.map((function(e){var t=a.Z.get(e.planId);o()(null!=t,"Unable to fetch plan");return t}))}(e).map((function(e){return e.skuId}))}function l(e,t,n){var r=e.getCurrentSubscriptionPlanIdForGroup(n);if(e.type===s.NYc.PREMIUM&&null==r)return!0;o()(null!=r,"Current subscription has no plan in group");o()(!(r===c.Xh.PREMIUM_YEAR_TIER_1&&t===c.Xh.PREMIUM_MONTH_TIER_2),"Unexpected plan switch");return n.indexOf(r)<n.indexOf(t)}function f(e,t,n){return!l(e,t,n)}function p(e,t){var n=a.Z.get(e);if(null==n){var r=c.GP[e];o()(null!=r,"Missing hardcoded subscriptionPlan: ".concat(e));var s=r.skuId;a.Z.isFetchingForSKU(s)||(0,i.GZ)(s,t)}return n}},99456:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,s:()=>f});var r=n(772731),o=n(655695),i=n(631134),a=n(742269),s=n(461061);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var l=a.FB?s.dG4:function(e,t){if(!(0,o.DB)())return r.default.request(s.Etm.DEEP_LINK,{type:e,params:t})},f=a.FB?s.dG4:function(e,t){if(!i.default.isAuthenticated())return l(e,u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}
return e}({},t||{}),{fingerprint:i.default.getFingerprint()}))}},155205:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(667294),o=n(791462),i=n(35599),a=n(426217);function s(){var e=r.useContext(i.ZP).windowId;return(0,o.e7)([a.Z],(function(){return a.Z.isFocused(e)}),[e])}},193197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=n(667294);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function l(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var f="file-input",p=function(e){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:e?"not-allowed":"pointer",fontSize:0}},d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=l(n);function n(){i(this,n);var e;(e=t.apply(this,arguments))._input=null;e.activateUploadDialogue=function(){e.props.embedded?e.handleNativeClick():e._input&&e._input.click()}
;e.handleNativeClick=function(){e.props.handleNativeClick&&e.props.handleNativeClick(e.props)};e.handleNativeKeyDown=function(t){" "!==t.key&&"Enter"!==t.key||e.handleNativeClick()};e.handleBrowserInputMouseDown=function(e){e.currentTarget.value=null};return e}n.prototype.render=function(){var e=this,t=this.props,n=t.disabled,o=t.tabIndex,i=t.className,a=t.name,s=t["aria-label"],c=t["aria-hidden"];if(this.props.embedded)return(0,r.jsx)("div",{role:"button",style:p(n),className:i||f,tabIndex:o,onKeyDown:n?void 0:this.handleNativeKeyDown,onClick:n?void 0:this.handleNativeClick,"aria-disabled":n,"aria-label":s,"aria-hidden":c||void 0});var u="";this.props.filters&&(u=this.props.filters.map((function(e){return e.extensions.map((function(e){return".".concat(e)})).join(",")})).join(","));return(0,r.jsx)("input",{style:p(n),className:i||f,disabled:n,type:"file",tabIndex:o,onMouseDown:this.handleBrowserInputMouseDown,onChange:this.props.onChange,multiple:this.props.multiple,accept:u,name:a,
"aria-label":s,"aria-hidden":c||void 0,ref:function(t){return e._input=t}})};return n}(o.Component);d.defaultProps={multiple:!1,disabled:!1,tabIndex:0};const h=d},970112:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>g,U2:()=>E});function r(e){const t="==".slice(0,(4-e.length%4)%4),n=e.replace(/-/g,"+").replace(/_/g,"/")+t,r=atob(n),o=new ArrayBuffer(r.length),i=new Uint8Array(o);for(let e=0;e<r.length;e++)i[e]=r.charCodeAt(e);return o}function o(e){const t=new Uint8Array(e);let n="";for(const e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var i="copy",a="convert";function s(e,t,n){if(t===i)return n;if(t===a)return e(n);if(t instanceof Array)return n.map((n=>s(e,t[0],n)));if(t instanceof Object){const r={};for(const[o,i]of Object.entries(t)){if(i.derive){const e=i.derive(n);void 0!==e&&(n[o]=e)}if(o in n)null!=n[o]?r[o]=s(e,i.schema,n[o]):r[o]=null;else if(i.required)throw new Error(`Missing key: ${o}`)}return r}}function c(e,t){return{
required:!0,schema:e,derive:t}}function u(e){return{required:!0,schema:e}}function l(e){return{required:!1,schema:e}}var f={type:u(i),id:u(a),transports:l(i)},p={appid:l(i),appidExclude:l(i),credProps:l(i)},d={appid:l(i),appidExclude:l(i),credProps:l(i)},h={publicKey:u({rp:u(i),user:u({id:u(a),name:u(i),displayName:u(i)}),challenge:u(a),pubKeyCredParams:u(i),timeout:l(i),excludeCredentials:l([f]),authenticatorSelection:l(i),attestation:l(i),extensions:l(p)}),signal:l(i)},y={type:u(i),id:u(i),rawId:u(a),authenticatorAttachment:l(i),response:u({clientDataJSON:u(a),attestationObject:u(a),transports:c(i,(e=>{var t;return(null==(t=e.getTransports)?void 0:t.call(e))||[]}))}),clientExtensionResults:c(d,(e=>e.getClientExtensionResults()))},m={mediation:l(i),publicKey:u({challenge:u(a),timeout:l(i),rpId:l(i),allowCredentials:l([f]),userVerification:l(i),extensions:l(p)}),signal:l(i)},v={type:u(i),id:u(i),rawId:u(a),authenticatorAttachment:l(i),response:u({clientDataJSON:u(a),
authenticatorData:u(a),signature:u(a),userHandle:u(a)}),clientExtensionResults:c(d,(e=>e.getClientExtensionResults()))};async function g(e){const t=await navigator.credentials.create(function(e){return s(r,h,e)}(e));return function(e){return s(o,y,e)}(t)}async function E(e){const t=await navigator.credentials.get(function(e){return s(r,m,e)}(e));return function(e){return s(o,v,e)}(t)}}}]);
//# sourceMappingURL=c25e7d1f5df45cbbcbaf.js.map